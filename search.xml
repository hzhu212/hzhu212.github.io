<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>ä¸€æ–‡ç†è§£è´å¶æ–¯æ¨æ–­</title>
      <link href="/posts/c3c9529b/"/>
      <url>/posts/c3c9529b/</url>
      
        <content type="html"><![CDATA[<p>è´å¶æ–¯æ¨æ–­æ˜¯åŸºäºè´å¶æ–¯å®šç†çš„ä¸€ç§æ¨æ–­æ–¹æ³•ï¼Œä¸ä¹‹ç›¸å…³çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€æœ€å¤§åéªŒä¼°è®¡ç­‰ç»Ÿè®¡æ¨æ–­æ–¹æ³•æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€‚æœ¬æ–‡å°è¯•ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å…¥æ‰‹ï¼Œå¸®åŠ©è¯»è€…æ·±å…¥ç†è§£è¿™äº›å¤æ‚çš„æ¦‚å¿µã€‚</p><span id="more"></span><h2 id="ä»ä¸€é“ç»å…¸é¢è¯•é¢˜è¯´èµ·">ä»ä¸€é“ç»å…¸é¢è¯•é¢˜è¯´èµ·</h2><p>æœ‰ä¸€æšç¡¬å¸ï¼ŒæŠ›æ· 10 æ¬¡ï¼Œå‡ºç°äº† 7 æ¬¡æ­£é¢ï¼Œ3 æ¬¡åé¢ã€‚è¯•é—®è¿™æšç¡¬å¸æ˜¯å…¬å¹³çš„å—ï¼Ÿ</p><blockquote><p>è¿™æ˜¯ä¸€é“ç»å…¸é¢è¯•é¢˜ï¼Œæ²¡æœ‰æ ‡å‡†ç­”æ¡ˆï¼Œå…³é”®çœ‹æ€è€ƒçš„è§’åº¦ã€è¿‡ç¨‹ä»¥åŠæ·±åº¦ã€‚</p></blockquote><h2 id="å¸¸è¯†è¯´">å¸¸è¯†è¯´</h2><p>åŸºäºå¸¸è¯†çš„äººä¼šè®¤ä¸ºï¼Œç¡¬å¸å°±æ˜¯å…¬å¹³çš„ï¼Œæ­£é¢æœä¸Šçš„æ¦‚ç‡æ˜¯ 0.5ï¼Œå®Œå…¨æœ‰å¯èƒ½æŠ›å‡ºâ€œ7æ­£3åâ€çš„ç»“æœï¼Œè€Œä¸”æ¦‚ç‡è¿˜ä¸ä½ï¼š</p><p>$$C_{10}^3 \cdot 0.5^7Â \cdotÂ 0.5^3Â =Â 0.1172$$</p><p>å¯è§ï¼Œéšä¾¿åš 10 è½®å®éªŒï¼Œå¤§æ¦‚å°±èƒ½è§‚å¯Ÿåˆ°ä¸€æ¬¡â€œ7æ­£3åâ€ã€‚</p><h2 id="å‡è®¾æ£€éªŒ">å‡è®¾æ£€éªŒ</h2><p>åªé—®ç¡¬å¸å…¬ä¸å…¬å¹³ï¼Œæ²¡é—®ç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Œå¯ä»¥çœ‹ä½œä¸€ä¸ªå‡è®¾æ£€éªŒé—®é¢˜ã€‚</p><p>é¦–å…ˆå®šä¹‰åŸå‡è®¾ H0: ç¡¬å¸æ˜¯å…¬å¹³çš„ã€‚ç”±ä¸Šæ–‡å¯çŸ¥ï¼Œå‡ºç°â€œ7æ­£3åâ€çš„æ¦‚ç‡æ˜¯ 0.1172ï¼Œè¶…è¿‡äº† 5%ï¼Œä¸å±äºå°æ¦‚ç‡äº‹ä»¶ã€‚æ‰€ä»¥åŸä»·è®¾æˆç«‹ï¼Œå³è¿™æšç¡¬å¸æ˜¯å…¬å¹³çš„ã€‚</p><p>è¿™ç§è§£é‡Šä¸å¸¸è¯†è¯´ç±»ä¼¼ï¼Œä½†ç†è®ºæ”¯æ’‘æ›´å¼ºã€‚</p><h2 id="é¢‘ç‡è¯´">é¢‘ç‡è¯´</h2><p>è¿™é¢˜ç®€å•ï¼ŒæŠ› 10 æ¬¡ç¡¬å¸ï¼Œ7æ­£3åï¼Œç”¨é¢‘ç‡é€¼è¿‘æ¦‚ç‡ï¼Œå¯ä»¥å¾—åˆ°æ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸º 0.7ï¼Œæ‰€ä»¥ç¡¬å¸ä¸å…¬å¹³ã€‚åªä¸è¿‡è¿™é‡ŒæŠ›æ·çš„æ¬¡æ•°å¤ªå°‘ï¼Œå¯¼è‡´é€¼è¿‘ä¸å¤Ÿä¸¥æ ¼ï¼Œå¦‚æœå†å¤šæŠ›å‡ ç™¾æ¬¡å°±å¥½äº†ğŸ˜…ã€‚</p><p>å¯è§ï¼Œè¯¥æ–¹æ³•ä¾èµ–è§‚æµ‹çš„æ•°æ®é‡ï¼Œåœ¨æ•°æ®è¾ƒå°‘æ—¶åå·®è¾ƒå¤§ã€‚</p><h2 id="æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum-Likelihood-Estimate-MLEï¼‰">æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMaximum Likelihood Estimate, MLEï¼‰</h2><p>å‡è®¾ç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸º $\theta$ï¼Œæˆ‘ä»¬è§‚æµ‹åˆ°â€œ7æ­£3åâ€10 ç»„æŠ½æ ·ç»“æœï¼Œè®¡ä¸º $\bold{x}$ã€‚ä»¤ï¼š</p><p>$$\theta^*=\argmax_{\theta}P(\bold{x}=7æ­£3å,|,\theta)$$</p><p>åˆ™ $\theta^*$ æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ½œåŠ›çš„å€™é€‰é¡¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°â€œå½“ $\theta$ ä¸ºå¤šå°‘æ—¶ï¼Œè§‚å¯Ÿåˆ°â€œ7æ­£3åâ€çš„å¯èƒ½æ€§æœ€å¤§â€ã€‚</p><p>è¿™ç§æ¨æ–­æ–¹å¼ç§°ä¸ºæœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼ˆMLEï¼‰ï¼Œè€Œâ€œä¼¼ç„¶ï¼ˆlikelihoodï¼‰â€ä¸€è¯å°±æ˜¯â€œå¯èƒ½æ€§â€çš„æ„æ€ã€‚</p><p>æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯â€œå·²çŸ¥æ ·æœ¬ï¼Œè®¡ç®—æ¦‚ç‡ï¼ˆæˆ–ç§°å‚æ•°ï¼‰â€çš„é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸æ˜¯æŠŠæ ·æœ¬ $\bold{x}$ çœ‹ä½œå˜é‡ï¼Œè€Œæ˜¯æŠŠ $\theta$ çœ‹ä½œå˜é‡ã€‚å› æ­¤ï¼Œå®šä¹‰å…³äº $\theta$ çš„å‡½æ•°ï¼š</p><p>$$\begin{align}<br>L(\theta) &amp;= P(\bold{x}=7æ­£3å,|,\theta)Â \<br>&amp;=Â C_{10}^3Â \cdotÂ \theta^7Â \cdotÂ (1-\theta)^3<br>\end{align}$$</p><p>è¿™ç§å½¢å¼è¢«ç§°ä¸º $\theta$ çš„ä¼¼ç„¶å‡½æ•°ï¼ˆLikelihood Functionï¼‰ã€‚è€Œè¦è®¡ç®—çš„ $\theta^*$ å³ä¸ºä½¿å¾— $L(\theta)$ å–æœ€å¤§å€¼çš„ç‚¹ã€‚</p><p>è§‚å¯Ÿè¡¨è¾¾å¼ä¸ºè¿ä¹˜å½¢å¼ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªé€šç”¨çš„ç®€åŒ–æŠ€å·§ï¼Œå°±æ˜¯å¯¹è¡¨è¾¾å¼ä¸¤è¾¹å„åŠ ä¸€å±‚å¯¹æ•°å‡½æ•°ã€‚ç”±äºå¯¹æ•°å‡½æ•°æ˜¯å•è°ƒé€’å¢çš„ï¼Œä¸å½±å“åŸè¡¨è¾¾å¼çš„å•è°ƒæ€§ï¼Œå› æ­¤æœ€å¤§å€¼ç‚¹ä¸å˜ã€‚ç®€åŒ–åçš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><p>$$\begin{align}<br>\mathcal{l}(\theta) &amp;= \ln{L(\theta)}Â \<br>&amp;=Â 7\ln{\theta}Â +Â 3\ln{(1-\theta)}Â +Â C<br>\end{align}$$</p><p>å…¶ä¸­ $C$ ä¸ºå¸¸æ•°ã€‚</p><p>ä¸ºäº†æ‰¾åˆ° $l(\theta)$ çš„æœ€å¤§å€¼ç‚¹ï¼Œåªéœ€å¯¹å…¶æ±‚å¯¼ï¼Œæ‰¾åˆ°å¯¼æ•°ä¸º 0 çš„ç‚¹å³å¯ã€‚å³ï¼š</p><p>$$\frac{7}{\theta}Â -Â \frac{3}{1-\theta}=0$$</p><p>å¾—åˆ° $\theta=0.7$ã€‚</p><p>å³ $\theta=0.7$ æ—¶ï¼Œè§‚æµ‹åˆ°â€œ7æ­£3åâ€çš„æ¦‚ç‡æœ€å¤§ã€‚ä»è¿™ä¸ªè§’åº¦å¯ä»¥è®¤ä¸ºï¼Œç¡¬å¸æ˜¯ä¸å…¬å¹³çš„ï¼Œå…¶æ­£é¢æœä¸Šçš„æ¦‚ç‡ä¸º 0.7ã€‚</p><p>è¿™ä¸ªç»“è®ºåˆšå¥½ä¸é¢‘ç‡è¯´ä¸€è‡´ï¼Œä½†åªæ˜¯å·§åˆï¼Œä¸¤è€…ä¹‹é—´å¹¶æ— é€»è¾‘å…³è”ã€‚å¯¹äºå…¶ä»–é—®é¢˜ï¼Œä¸¤è€…å¾—åˆ°çš„ç»“è®ºæœªå¿…ç›¸åŒã€‚</p><h2 id="æœ€å¤§åéªŒä¼°è®¡ï¼ˆMaximum-A-Posteriori-Estimation-MAPï¼‰">æœ€å¤§åéªŒä¼°è®¡ï¼ˆMaximum A Posteriori Estimation, MAPï¼‰</h2><p>æŒè´å¶æ–¯æ´¾è§‚ç‚¹è€…çœ‹äº†ä¸Šé¢çš„æ‰€æœ‰æ¨ç†ä¼šæ‘‡å¤´ï¼Œå› ä¸ºï¼š</p><ul><li>å¸¸è¯†è¯´åªå‡­å…ˆéªŒçŸ¥è¯†ï¼Œå®Œå…¨ä¸è€ƒè™‘æ•°æ®å¸¦æ¥çš„åéªŒä¿¡æ¯ï¼Œä¸€ç‚¹éƒ½ä¸â€œæ•°æ®é©±åŠ¨â€ã€‚</li><li>é¢‘ç‡è¯´å’Œæœ€å¤§ä¼¼ç„¶ä¼°è®¡è¯´åªè€ƒè™‘åéªŒæ•°æ®ï¼Œå®Œå…¨ä¸é¡¾â€œç¡¬å¸é€šå¸¸éƒ½æ˜¯å…¬å¹³çš„â€è¿™ä¸€å…ˆéªŒçŸ¥è¯†ï¼Œå¾—åˆ°ç¡¬å¸è¯æ˜æœä¸Šæ¦‚ç‡ä¸º 0.7 çš„ç»“è®ºï¼Œæœ‰ç‚¹ä¸åˆå¸¸ç†ã€‚</li></ul><p>ç«™åœ¨è´å¶æ–¯æ´¾çš„è§†è§’ï¼Œä¸‡ç‰©éƒ½æ˜¯éšæœºå˜é‡ï¼Œåªæœ‰å·²çŸ¥æ•°æ®ä¸ä¼šéª—äººã€‚æ¨¡å‹/å‚æ•°ä»æ¥éƒ½ä¸æ˜¯å›ºå®šçš„ï¼Œè€Œè¦æ ¹æ®åéªŒæ•°æ®çš„ç§¯ç´¯ä¸æ–­çº æ­£ã€‚å› æ­¤ï¼Œç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡ $\theta$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå†¥å†¥ä¹‹ä¸­å·²ç»æ³¨å®šçš„æŸä¸ªå›ºå®šå€¼ã€‚æ‰€ä»¥ï¼Œ$\theta$ çš„å…ˆéªŒå€¼ä¸æ˜¯ç®€å•çš„ 0.5ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒ $p(\theta)$ï¼Œåªä¸è¿‡å®ƒå–å€¼ä¸º 0.5 çš„å¯èƒ½æ€§éå¸¸å¤§ã€‚ä¾‹å¦‚ä½ å¯ä»¥å‡è®¾ $\theta$ æœä»å‡å€¼ä¸º 0.5ï¼Œæ–¹å·®ä¸º 0.1 çš„æ­£æ€åˆ†å¸ƒï¼ˆæˆ–è€…ä»ä¸–ç•ŒçŸ¥è¯†ä¸­æ€»ç»“å‡ºæ¥ï¼‰ï¼Œå³ï¼š</p><p>$$p(\theta)Â ï½Â \mathcal{N}(0.5, 0.1^2)$$</p><p>å¦‚æœæ­¤æ—¶é—®ï¼Œ$\theta^*=\argmax_{\theta}p(\theta)$ æ˜¯å¤šå°‘ï¼Ÿ</p><p>æ¯«æ— ç–‘é—®ï¼Œ$\theta^*=0.5$ã€‚</p><p>ä½†å½“åŠ å…¥äº†ä¸€æ‰¹è§‚æµ‹æ•°æ®ï¼ˆ7æ­£3åï¼‰ä¹‹åï¼Œå°±ä¸èƒ½å†ä»¥é™æ€çš„çœ¼å…‰çœ‹å¾… $p(\theta)$ äº†ï¼Œæ­¤æ—¶ $\theta$ çš„åˆ†å¸ƒåº”å½“æœ‰æ‰€è°ƒæ•´ï¼Œå…¶å³°å€¼è‡³å°‘åº”è¯¥å‘ 1 çš„æ–¹å‘åä¸€ç‚¹ï¼ˆå°½ç®¡å¾ˆå¾®å¼±ï¼‰ã€‚è¿™å³æ˜¯åéªŒæ¦‚ç‡åˆ†å¸ƒï¼š</p><p>$$p(\theta,|,\bold{x}=7æ­£3å)$$</p><p>æœ€åˆçš„é—®é¢˜ä¹Ÿå°±å˜æˆäº†ï¼š</p><p>$$\theta^*=\argmax_{\theta}p(\theta,|,\bold{x}=7æ­£3å)$$</p><blockquote><p>æ³¨æ„è¿™ä¸ªè¡¨è¾¾å¼ä¸æœ€å¤§ä¼¼ç„¶å…¬å¼çš„åŒºåˆ«ï¼š</p><p>æœ€å¤§ä¼¼ç„¶å…¬å¼å†™ä½œ $P(\cdot)$ (å¤§å†™)ï¼Œè¡¨ç¤ºä¸€ä¸ªå…·ä½“çš„æ¦‚ç‡å€¼ã€‚æœ€å¤§åéªŒå…¬å¼å†™ä½œ $p(\cdot)$ (å°å†™)ï¼Œè¡¨ç¤ºä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒå‡½æ•°ã€‚</p></blockquote><p>ä¸Šè¿°è¡¨è¾¾å¼çš„å«ä¹‰æ˜¯ï¼Œåœ¨è§‚å¯Ÿåˆ°â€œ7æ­£3åâ€çš„ç°è±¡åï¼Œç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡æœ€å¯èƒ½ç­‰äºå‡ ï¼Ÿ</p><p>ä¸ºäº†æ±‚è§£ä¸Šè¿°è¡¨è¾¾å¼ï¼Œå›é¡¾ä¸€ä¸‹è´å¶æ–¯å…¬å¼ï¼š</p><p>$$P(A|B)=\frac{P(B|A)P(A)}{P(B)}$$</p><p>å°†è´å¶æ–¯å…¬å¼å¥—å…¥è¡¨è¾¾å¼ï¼Œå¯å¾—ï¼š</p><p>$$\begin{align}<br>\theta^*Â &amp;= \argmax_{\theta}p(\theta,|,\bold{x}=7æ­£3å)Â \<br>&amp;= \argmax_{\theta} \frac{P(\bold{x}=7æ­£3å,|,\theta)\cdot p(\theta)}{P(\bold{x}=7æ­£3å)}Â \<br>&amp;= \argmax_{\theta} P(\bold{x}=7æ­£3å,|,\theta)\cdot p(\theta)<br>\end{align}$$</p><p>æœ€åä¸€æ­¥å°†åˆ†æ¯ä¸­çš„ $P(\bold{x})$ ç•¥å»äº†ï¼Œæ˜¯å› ä¸º $P(\bold{x})$ æ˜¯æŸä¸ªä¸ $\theta$ æ— å…³çš„å¸¸é‡ï¼Œä¸å½±å“å¯¹ $\theta$ æå€¼ç‚¹çš„è®¡ç®—ã€‚å¦‚æœä½ å¥½å¥‡çš„è¯ï¼Œå¯ä»¥é€šè¿‡å…¨æ¦‚å…¬å¼è®¡ç®— $P(\bold{x})$ï¼š</p><p>$$P(\bold{x}=7æ­£3å)=\int_0^1P(\bold{x}=7æ­£3å,|,\theta)\cdot p(\theta) ,\mathrm{d}\theta = \int_0^1C_{10}^3\cdot \theta^7\cdot (1-\theta)^3\cdot \frac{1}{0.1\sqrt{2\pi}}e^{-\frac{(\theta-0.5)^2}{2\cdot 0.1^2}},\mathrm{d}\theta$$</p><p>è¿™æ˜¯ä¸€ä¸ªå…³äº $\theta$ çš„å®šç§¯åˆ†ï¼Œç»“æœæ˜¯ä¸€ä¸ªå¸¸é‡ã€‚</p><p>å›å½’æ­£é¢˜ï¼Œç»§ç»­æ¨å¯¼ $\theta^*$ï¼š</p><p>$$\begin{align}<br>\theta^*Â &amp;=  \argmax_{\theta}Â , P(\bold{x}=7æ­£3å,|,\theta)\cdot p(\theta)Â \<br>&amp;=  \argmax_{\theta} , \ln{P(\bold{x}=7æ­£3å,|,\theta)} + \ln{p(\theta)}Â \<br>&amp;=  \argmax_{\theta} , \ln{(C_{10}^3\cdot\theta^7\cdot\theta^3)} + \ln{[\frac{1}{0.1\sqrt{2\pi}}e^{-\frac{(\theta-0.5)^2}{0.02}}]}Â \<br>&amp;=  \argmax_{\theta} , 7\ln{\theta} + 3\ln{(1-\theta)}Â -Â \frac{(\theta-0.5)^2}{0.02}Â \<br>\end{align}$$</p><p>å¯¹ä¸Šè¿°è¡¨è¾¾å¼æ±‚å¯¼ï¼Œå¹¶è®¡ç®—å¯¼æ•°ä¸º 0 çš„ç‚¹ï¼Œå¾—åˆ° $\theta^*=0.5577$ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒåéªŒæ¦‚ç‡ç¡®å®ä» 0.5 å‘ 1 çš„æ–¹å‘åç§»äº†ä¸€äº›ï¼Œåç§»ç¨‹åº¦å–å†³äºä¸¤ä¸ªå› ç´ ï¼š</p><ol><li><p>å¯¹å…ˆéªŒæ¦‚ç‡ $p(\theta)$ çš„å‡è®¾ã€‚è¿™é‡Œå‡è®¾äº† $p(\theta)Â ï½Â \mathcal{N}(0.5, 0.1^2)$ï¼Œæ–¹å·®è¶Šå¤§ï¼Œåç§»è¶Šå¤šã€‚è‹¥æ–¹å·®ä» 0.1 å¢å¤§ä¸º 1ï¼Œä¼šå¾—åˆ° $\theta^*=0.6959$ã€‚</p><blockquote><p>å…¶å®å¯¹äºæŠ›ç¡¬å¸é—®é¢˜ï¼ˆäºŒé¡¹åˆ†å¸ƒï¼‰ï¼Œæ›´å¸¸è§çš„åšæ³•æ˜¯å°†å…ˆéªŒåˆ†å¸ƒå‡è®¾ä¸º $\beta$ åˆ†å¸ƒï¼ˆå‚è€ƒï¼‰ï¼Œå› ä¸º $\beta$ åˆ†å¸ƒæ‹¥æœ‰ä¸€ä¸ªè‰¯å¥½çš„æ€§è´¨ï¼šå¦‚æœå…ˆéªŒåˆ†å¸ƒä¸º $\beta$ åˆ†å¸ƒï¼Œé‚£ä¹ˆåéªŒåˆ†å¸ƒä¹Ÿæœä» $\beta$ åˆ†å¸ƒã€‚è¿™æ ·è®¡ç®—èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚è¿™ç§å…ˆéªŒå’ŒåéªŒåˆ†å¸ƒå…·æœ‰ç›¸åŒå½¢å¼çš„ç°è±¡ç§°ä¸ºå…±è½­åˆ†å¸ƒã€‚</p></blockquote></li><li><p>è§‚å¯Ÿæ ·æœ¬çš„ä¸ªæ•°ã€‚è¿™é‡Œè§‚æµ‹æ•°æ®æ˜¯â€œ7æ­£3è´Ÿâ€ï¼Œå¦‚æœæ˜¯â€œ700æ­£300è´Ÿâ€çš„è¯ï¼Œé‚£ä¹ˆåç§»ç¨‹åº¦ä¼šæ›´å¤§ï¼Œå¾—åˆ° $\theta^*=0.6959$ï¼Œéå¸¸é€¼è¿‘ 0.7ã€‚</p></li></ol><h2 id="è´å¶æ–¯æ¨æ–­">è´å¶æ–¯æ¨æ–­</h2><p>æ ¹æ®æœ€å¤§åéªŒä¼°è®¡ï¼Œå·²ç»æ±‚å¾— $\theta^*=0.5577$ã€‚é‚£ä¹ˆï¼Œå¦‚æœç»§ç»­è¿½é—®ï¼šå†æŠ›ä¸€æ¬¡ç¡¬å¸ï¼Œæ­£é¢æœä¸Šçš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ</p><p>ä½ å¯èƒ½ä¼šæƒ³ï¼Œè¿™ä¸æ˜¯æ˜¾è€Œæ˜“è§å—ï¼Ÿå°±æ˜¯ 0.5577 å‘€ã€‚</p><p>è¿™å°±åœ¨ä¸çŸ¥ä¸è§‰ä¸­åˆè¿èƒŒè´å¶æ–¯æ´¾çš„æ€æƒ³ç²¾é«“äº†ã€‚</p><p>å¦‚å‰æ‰€è¿°ï¼Œåœ¨è´å¶æ–¯æ´¾çœ¼ä¸­ï¼Œ$\theta$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå†¥å†¥ä¹‹ä¸­å·²ç»æ³¨å®šäº†çš„å›ºå®šå€¼ã€‚$\theta^*=0.5577$ çš„å«ä¹‰æ˜¯ï¼Œåœ¨è§‚å¯Ÿåˆ°â€œ7æ­£3åâ€ä¹‹åï¼Œ$\theta$ å– 0.5577 çš„å¯èƒ½æ€§æ˜¯æœ€å¤§çš„ã€‚ä½† $\theta$ å– 0.5 æœ‰æ²¡æœ‰å¯èƒ½ï¼Ÿ$\theta$ å– 0.7 æœ‰æ²¡æœ‰å¯èƒ½ï¼Ÿéƒ½æ˜¯æœ‰å¯èƒ½çš„ï¼Œåªæ˜¯å¯èƒ½æ€§ä¸å¦‚ 0.5577 é‚£ä¹ˆå¤§ã€‚</p><p>æ­¤æ—¶ï¼Œ$\theta$ å–å„ç§å€¼çš„å¯èƒ½æ€§å¯é€šè¿‡å…¶åéªŒåˆ†å¸ƒ $p(\theta,|,\bold{x}=7æ­£3å)$ æ¥æè¿°ï¼Œå®ƒçš„å‡½æ•°å›¾åƒç±»ä¼¼ä¸‹å›¾ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/17440097463651744009366162.png" alt="17440097463651744009366162.png"></p><p>å¯è§ï¼Œ$p(\theta,|,\bold{x}=7æ­£3å)$ å‡½æ•°åœ¨ 0.5577 å¤„å–å¾—æœ€å¤§å€¼ã€‚</p><p>é‡æ–°å®¡è§†é—®é¢˜ï¼Œä¼šå‘ç° $\theta$ å– 0ï½1 ä¹‹é—´çš„ä»»æ„å€¼éƒ½æ˜¯æœ‰å¯èƒ½çš„ï¼Œè€Œåœ¨ $\theta$ å–æ¯ä¸ªå€¼çš„æƒ…å†µä¸‹ï¼Œéƒ½å¯ä»¥è®¡ç®—ä¸‹ä¸€æ¬¡ç¡¬å¸æ­£é¢æœä¸Šçš„æ¦‚ç‡ã€‚å…ˆç”¨ä¸ç²¾ç¡®çš„è¯­è¨€æ¥æè¿°ä¸€ä¸‹æ€è·¯ï¼Œæ–¹ä¾¿ç†è§£ã€‚å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬å¤§è‡´èƒ½çœ‹åˆ°ï¼š</p><p>$$p(0.1)=0.00001 \<br>p(0.2)=0.0001 \<br>p(0.3)=0.0002 \<br>p(0.4)=0.001 \<br>p(0.5)=0.0045 \<br>â€¦\<br>p(0.9)=0.0001$$</p><p>æ ¹æ®æ¦‚ç‡çš„åŠ æ³•åŸåˆ™ï¼ŒæŠŠæ‰€æœ‰å¯èƒ½å‘ç”Ÿçš„æƒ…å†µæ•´åˆèµ·æ¥ï¼Œæœ‰ï¼š</p><p>$$P(ä¸‹æ¬¡ä¸ºæ­£) =  0.1<em>p(0.1) + 0.2</em>p(0.2) + \cdots + 0.9*p(0.9)$$</p><p>å¯ä»¥é€šè¿‡ç§¯åˆ†æ¥ä¸¥æ ¼æè¿°ä¸Šè¿°æ€è·¯ï¼š</p><p>$$P(ä¸‹æ¬¡ä¸ºæ­£,|,\bold{x}=7æ­£3å) = \int_0^1 P(\hat{x}|\theta)\cdot p(\theta|\bold{x})\mathrm{d}\theta = \int_0^1 \theta\cdot p(\theta|\bold{x})\mathrm{d}\theta$$</p><p>å…¶ä¸­ï¼Œ$\hat{x}$ ä»£è¡¨â€œä¸‹æ¬¡ä¸ºæ­£â€è¿™ä¸€äº‹ä»¶ï¼Œ$\bold{x}$ ä»£è¡¨å·²è§‚æµ‹åˆ°çš„â€œ7æ­£3åâ€äº‹ä»¶ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ç®€å•å›ç­” $P(ä¸‹æ¬¡ä¸ºæ­£)=0.5577$ çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼Œä¸Šè¿°ç»“è®ºç»¼åˆäº† $\theta$ åœ¨æ‰€æœ‰å¯èƒ½å€¼ä¸‹â€œä¸‹æ¬¡ä¸ºæ­£â€çš„æ¦‚ç‡ï¼Œè€Œä¸åªæ˜¯ 0.5577 ä¸€ä¸ªç‚¹çš„æƒ…å†µã€‚</p><p>ä¸Šè¿°ç§¯åˆ†éš¾ä»¥æ±‚å¾—è§£æè¡¨è¾¾å¼ï¼Œæœ€å¥½é€šè¿‡æ•°å€¼æ–¹æ³•è®¡ç®—ç»“æœã€‚ä½†è¿™åªæ˜¯å› ä¸ºæˆ‘ä»¬å°†å…ˆéªŒåˆ†å¸ƒ $p(\theta)$ å‡è®¾ä¸ºäº†æ­£æ€åˆ†å¸ƒï¼Œå¦‚æœå°† $p(\theta)$ å‡è®¾ä¸º $\beta$ åˆ†å¸ƒï¼Œåˆ™èƒ½å¤Ÿæ±‚å¾—è§£æå¼å’Œç²¾ç¡®è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¦‚ç‡ç»Ÿè®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äºçŠ¶æ€æœºçš„æ€è€ƒ</title>
      <link href="/posts/3b7dc41d/"/>
      <url>/posts/3b7dc41d/</url>
      
        <content type="html"><![CDATA[<p>LeetCode ä¸Šæœ‰è¿™æ ·ä¸€é“é¢˜ç›®ï¼š<a href="https://leetcode.cn/problems/biao-shi-shu-zhi-de-zi-fu-chuan-lcof/">è¡¨ç¤ºæ•°å€¼çš„å­—ç¬¦ä¸²</a>ã€‚é¢˜ç›®çœ‹ä¼¼ç®€å•ï¼Œä½†å…¶æœ€ä½³è§£æ³•å´è•´å«ç€ä¸€ç§ç»å¦™çš„å·¥ç¨‹å®è·µâ€”â€”çŠ¶æ€æœºã€‚</p><p>æœ¬æ–‡ä»è¿™é“ç¼–ç¨‹é¢˜ç›®å‡ºå‘ï¼Œæ€è€ƒäº†ä¸€äº›çŠ¶æ€æœºçš„ä½¿ç”¨åœºæ™¯ï¼Œè®°å½•ä¸‹è„‘æš´è¿‡ç¨‹ã€‚</p><span id="more"></span><p>é¢˜ç›®æè¿°å¦‚ä¸‹ï¼š<br><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697365428841669736542461.png" alt=""></p><h1>ä»€ä¹ˆæ˜¯çŠ¶æ€æœº</h1><p>çŠ¶æ€æœºçš„å…¨ç§°ä¸ºæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºï¼ˆFinite-State Machineï¼ŒFSMï¼‰ã€‚çŠ¶æ€æœºç”±ã€çŠ¶æ€ã€å’Œã€åŠ¨ä½œã€ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªçŠ¶æ€ç»è¿‡æŸä¸ªåŠ¨ä½œä¹‹åå¯ä»¥è½¬ç§»åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€æ‰‡é—¨å¯ä»¥é€šè¿‡çŠ¶æ€æœºæ¥æè¿°ã€‚</p><p>é—¨çš„çŠ¶æ€åŒ…æ‹¬ï¼š</p><ul><li>å¼€/open</li><li>é—­/closed</li></ul><p>å¯ä»¥æ–½åŠ çš„åŠ¨ä½œåŒ…æ‹¬ï¼š</p><ul><li>æ¨/push</li><li>æ‹‰/pull</li></ul><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697367398861669736739326.png" alt=""></p><h1>çŠ¶æ€æœºçš„è¡¨ç¤º</h1><p>ç”±ä¸Šé¢çš„æè¿°å¯ä»¥çŸ¥é“ï¼ŒçŠ¶æ€æœºæœ¬è´¨ä¸Šç­‰æ•ˆäºä¸€ä¸ªæœ‰å‘å›¾ï¼ˆå¯ä»¥æœ‰ç¯ï¼‰ï¼š</p><ul><li>çŠ¶æ€ &lt;â€“&gt; å›¾çš„é¡¶ç‚¹</li><li>åŠ¨ä½œ &lt;â€“&gt; å›¾çš„è¾¹</li></ul><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå›¾æœ‰å¤šç§è¡¨ç¤ºæ–¹å¼ï¼Œé™¤äº†ç”»å›¾å¤–ï¼Œè¿˜æœ‰é‚»æ¥è¡¨ã€é‚»æ¥çŸ©é˜µç­‰ã€‚</p><p>ä¸Šä¾‹ä¸­çš„çŠ¶æ€æœºä»¥é‚»æ¥è¡¨çš„å½¢å¼è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;open&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pull&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;push&quot;</span><span class="punctuation">:</span> <span class="string">&quot;closed&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;closed&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;pull&quot;</span><span class="punctuation">:</span> <span class="string">&quot;open&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;push&quot;</span><span class="punctuation">:</span> <span class="string">&quot;closed&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä»¥é‚»æ¥çŸ©é˜µçš„å½¢å¼è¡¨ç¤ºå¦‚ä¸‹ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697370998991669737099567.png" alt=""></p><p>PSï¼šè¿™åªæ˜¯ä¸ªç‰¹ä¾‹ï¼ŒçŠ¶æ€å›¾ä¸€èˆ¬æ˜¯éå¸¸ç¨€ç–çš„ã€‚</p><h1>çŠ¶æ€æœºæ€ä¹ˆç”¨</h1><p>ä»¥ä¸Šè¿° LeetCode é—®é¢˜çš„è§£ç­”ä¸ºä¾‹é€æ­¥å¼•å‡ºçŠ¶æ€æœºçš„å¦™ç”¨ã€‚</p><p>PSï¼šä»¥ä¸‹è§£ç­”æ‘˜è‡ªå®˜æ–¹é¢˜è§£å’Œè¯„è®ºåŒºã€‚</p><h2 id="è§£æ³•-1-æš´åŠ›ç©·ä¸¾">è§£æ³• 1. æš´åŠ›ç©·ä¸¾</h2><p>æ€è·¯æ˜¯é€šè¿‡ <code>if...else</code> é€»è¾‘ç©·ä¸¾æ‰€æœ‰å¯èƒ½çš„æƒ…å†µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    bool <span class="title function_">is_digit</span><span class="params">(<span class="type">char</span> a)</span> &#123; <span class="comment">//åˆ¤æ–­æ˜¯å¦ä¸ºæ•°å­—return a &gt;= &#x27;0&#x27; &amp;&amp; a &lt;= &#x27;9&#x27;;</span></span><br><span class="line">    &#125;</span><br><span class="line">    bool <span class="title function_">is_e</span><span class="params">(<span class="type">char</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a == <span class="string">&#x27;e&#x27;</span> || a == <span class="string">&#x27;E&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    bool <span class="title function_">check</span><span class="params">(string st)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> i : st) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="string">&#x27;.&#x27;</span>) count++;</span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    bool <span class="title function_">isNumber</span><span class="params">(string s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (check(s) == <span class="literal">false</span>) <span class="keyword">return</span> <span class="literal">false</span>;<span class="comment">//ç¡®ä¿æœ€å¤šåªæœ‰ä¸€ä¸ªå°æ•°ç‚¹//å‰åå»ç©ºæ ¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; s.size() &amp;&amp; s[i] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">end</span> <span class="operator">=</span> s.size() - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (end &gt;= <span class="number">0</span> &amp;&amp; s[end] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            s.erase(s.begin() + end);</span><br><span class="line">            end--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> s.size();</span><br><span class="line">        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;+&#x27;</span> || s[i] == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">                    <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                        i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len)<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;.&#x27;</span> ) &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">                        <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                            i++;</span><br><span class="line">                            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                            <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                            <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                        i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (s[i] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">            <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (is_digit(s[i])) &#123;</span><br><span class="line">                    <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                        i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                        <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                        <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                    i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                    <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (is_e(s[i])) &#123;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">if</span> (s[i] == <span class="string">&#x27;-&#x27;</span> || s[i] == <span class="string">&#x27;+&#x27;</span>) i++;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                <span class="keyword">while</span> (i &lt; len &amp;&amp; is_digit(s[i])) &#123; i++; &#125;</span><br><span class="line">                <span class="keyword">if</span> (i &gt;= len) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸è¶³ï¼š</p><ul><li>å†—é•¿ï¼Œå¯è¯»æ€§å·®</li><li>éš¾ä»¥ç¡®è®¤ä»£ç é€»è¾‘çš„æ­£ç¡®æ€§</li></ul><h2 id="è§£æ³•-2-çŠ¶æ€ç¼–ç¨‹">è§£æ³• 2. çŠ¶æ€ç¼–ç¨‹</h2><p>æ¯”èµ·æš´åŠ›ç©·ä¸¾ï¼Œé€šè¿‡å£°æ˜ä¸€äº›å…¨å±€å˜é‡æ¥ä¿å­˜çŠ¶æ€ï¼Œå¯å¤ç”¨ä¸€éƒ¨åˆ†ä»£ç é€»è¾‘ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">isNumber</span><span class="params">(string s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.<span class="built_in">size</span>() == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·³è¿‡é¦–å°¾ç©ºæ ¼int left = 0, right = s.length() - 1;</span></span><br><span class="line">        <span class="keyword">while</span>(left &lt;= right &amp;&amp; s[left] == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(left &gt; right) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right &amp;&amp; s[right] == <span class="string">&#x27; &#x27;</span>)&#123;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">bool</span> isNum = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">bool</span> isDot = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">bool</span> isEe = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">bool</span> isSign = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i = left; i &lt;= right; i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[i] &gt;= <span class="string">&#x27;0&#x27;</span> &amp;&amp; s[i] &lt;= <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">                isNum = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸€ä¸ª&#x27;.&#x27;ï¼›e/Eåé¢è·Ÿä¸€ä¸ªæ•´æ•°ï¼ˆä¸èƒ½æœ‰&#x27;.&#x27;ï¼‰</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(s[i] == <span class="string">&#x27;.&#x27;</span> &amp;&amp; !isDot &amp;&amp; !isEe)&#123;</span><br><span class="line">                isDot = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// ä¸€ä¸ª&#x27;E&#x27;æˆ–&#x27;e&#x27;ï¼›å‰é¢éœ€è¦å‡ºç°è¿‡æ•°å­—</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((s[i] == <span class="string">&#x27;E&#x27;</span> || s[i] == <span class="string">&#x27;e&#x27;</span>) &amp;&amp; isNum &amp;&amp; !isEe)&#123;</span><br><span class="line">                isEe = <span class="literal">true</span>;</span><br><span class="line">                <span class="comment">//// é¿å…eç»“å°¾çš„æƒ…å†µ eåé¢å¾—è·Ÿä¸€ä¸ªæ•´æ•°</span></span><br><span class="line">                isNum = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// &#x27;+&#x27;&#x27;-&#x27;åªèƒ½å‡ºç°åœ¨å¼€å¤´æˆ–è€…&#x27;E&#x27;æˆ–&#x27;e&#x27;çš„åä¸€ä½</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>((s[i] == <span class="string">&#x27;+&#x27;</span> || s[i] == <span class="string">&#x27;-&#x27;</span>) &amp;&amp; (i == left || s[i - <span class="number">1</span>] == <span class="string">&#x27;E&#x27;</span> || s[i - <span class="number">1</span>] == <span class="string">&#x27;e&#x27;</span>))&#123;</span><br><span class="line">                isSign = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å¿…é¡»ä»¥æ•°å­—ç»“å°¾</span></span><br><span class="line">        <span class="keyword">return</span> isNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>ä¸è¶³ï¼š</p><ul><li>çŠ¶æ€å˜é‡å¤šï¼Œä¸å®¹æ˜“è¯»æ‡‚</li><li>éš¾ä»¥ç¡®è®¤ä»£ç é€»è¾‘çš„æ­£ç¡®æ€§</li></ul><h2 id="è§£æ³•-3-çŠ¶æ€æœº">è§£æ³• 3. çŠ¶æ€æœº</h2><p>åœ¨è§£æ³• 2 çš„åŸºç¡€ä¸Šè¿›ä¸€æ­¥æŠ½è±¡ï¼Œæ•´ç†å‡ºå„ç§çŠ¶æ€ä»¥åŠå¯èƒ½é‡åˆ°çš„å­—ç¬¦çš„ç±»å‹ã€‚</p><p>å¯ä»¥å‘ç°çŠ¶æ€å’Œç±»å‹éƒ½æ˜¯æœ‰é™çš„ï¼Œå¹¶ä¸”å®ƒä»¬ä¹‹é—´çš„è½¬ç§»å…³ç³»æ˜¯ç¡®å®šçš„ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697375479121669737547501.png" alt=""></p><p>é‚»æ¥çŸ©é˜µï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697376719151669737671226.png" alt=""></p><p>é‚»æ¥è¡¨ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;state_initial&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_initial&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_point&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_point_without_int&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_sign&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_int_sign&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_int_sign&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_point&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_point_without_int&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_integer&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_integer&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_exp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_point&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_point&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_end&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_point&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_fraction&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_exp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_end&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_point_without_int&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_fraction&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_fraction&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_fraction&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_exp&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_end&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_exp&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp_number&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_sign&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp_sign&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_exp_sign&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp_number&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_exp_number&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_number&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_exp_number&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_end&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;state_end&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;char_space&quot;</span><span class="punctuation">:</span> <span class="string">&quot;state_end&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä»£ç å®ç°ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isNumber</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; <span class="built_in">bool</span>:</span><br><span class="line">        <span class="comment"># å®šä¹‰æ‰€æœ‰çŠ¶æ€</span></span><br><span class="line">        State = Enum(<span class="string">&quot;State&quot;</span>, [</span><br><span class="line">            <span class="string">&quot;STATE_INITIAL&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_INT_SIGN&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_INTEGER&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_POINT&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_POINT_WITHOUT_INT&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_FRACTION&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_EXP&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_EXP_SIGN&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_EXP_NUMBER&quot;</span>,</span><br><span class="line">            <span class="string">&quot;STATE_END&quot;</span></span><br><span class="line">        ])</span><br><span class="line">        <span class="comment"># å®šä¹‰æ‰€æœ‰åŠ¨ä½œ</span></span><br><span class="line">        Chartype = Enum(<span class="string">&quot;Chartype&quot;</span>, [</span><br><span class="line">            <span class="string">&quot;CHAR_NUMBER&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CHAR_EXP&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CHAR_POINT&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CHAR_SIGN&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CHAR_SPACE&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CHAR_ILLEGAL&quot;</span></span><br><span class="line">        ])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">toChartype</span>(<span class="params">ch: <span class="built_in">str</span></span>) -&gt; Chartype:</span><br><span class="line">            <span class="keyword">if</span> ch.isdigit():</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_NUMBER</span><br><span class="line">            <span class="keyword">elif</span> ch.lower() == <span class="string">&quot;e&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_EXP</span><br><span class="line">            <span class="keyword">elif</span> ch == <span class="string">&quot;.&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_POINT</span><br><span class="line">            <span class="keyword">elif</span> ch == <span class="string">&quot;+&quot;</span> <span class="keyword">or</span> ch == <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_SIGN</span><br><span class="line">            <span class="keyword">elif</span> ch == <span class="string">&quot; &quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_SPACE</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> Chartype.CHAR_ILLEGAL</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å®šä¹‰çŠ¶æ€æœºï¼šé‚»æ¥è¡¨è¡¨ç¤ºæ³•</span></span><br><span class="line">        transfer = &#123;</span><br><span class="line">            State.STATE_INITIAL: &#123;</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_INITIAL,</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_INTEGER,</span><br><span class="line">                Chartype.CHAR_POINT: State.STATE_POINT_WITHOUT_INT,</span><br><span class="line">                Chartype.CHAR_SIGN: State.STATE_INT_SIGN</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_INT_SIGN: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_INTEGER,</span><br><span class="line">                Chartype.CHAR_POINT: State.STATE_POINT_WITHOUT_INT</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_INTEGER: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_INTEGER,</span><br><span class="line">                Chartype.CHAR_EXP: State.STATE_EXP,</span><br><span class="line">                Chartype.CHAR_POINT: State.STATE_POINT,</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_END</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_POINT: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_FRACTION,</span><br><span class="line">                Chartype.CHAR_EXP: State.STATE_EXP,</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_END</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_POINT_WITHOUT_INT: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_FRACTION</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_FRACTION: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_FRACTION,</span><br><span class="line">                Chartype.CHAR_EXP: State.STATE_EXP,</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_END</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_EXP: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_EXP_NUMBER,</span><br><span class="line">                Chartype.CHAR_SIGN: State.STATE_EXP_SIGN</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_EXP_SIGN: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_EXP_NUMBER</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_EXP_NUMBER: &#123;</span><br><span class="line">                Chartype.CHAR_NUMBER: State.STATE_EXP_NUMBER,</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_END</span><br><span class="line">            &#125;,</span><br><span class="line">            State.STATE_END: &#123;</span><br><span class="line">                Chartype.CHAR_SPACE: State.STATE_END</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç¨‹åºä¸»ä½“</span></span><br><span class="line">        st = State.STATE_INITIAL         <span class="comment"># è¿›å…¥åˆå§‹çŠ¶æ€</span></span><br><span class="line">        <span class="keyword">for</span> ch <span class="keyword">in</span> s:                     <span class="comment"># éå†åŠ¨ä½œ</span></span><br><span class="line">            typ = toChartype(ch)</span><br><span class="line">            <span class="keyword">if</span> typ <span class="keyword">not</span> <span class="keyword">in</span> transfer[st]:  <span class="comment"># å¦‚æœåŠ¨ä½œæ— æ³•ä½¿çŠ¶æ€æµè½¬ï¼Œåˆ™å®£å‘Šå¤±è´¥</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            st = transfer[st][typ]       <span class="comment"># æµè½¬åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ¤æ–­æ˜¯å¦åˆ°è¾¾å®ŒæˆçŠ¶æ€</span></span><br><span class="line">        <span class="keyword">return</span> st <span class="keyword">in</span> [State.STATE_INTEGER, State.STATE_POINT, State.STATE_FRACTION, State.STATE_EXP_NUMBER, State.STATE_END]</span><br></pre></td></tr></table></figure><p>ä¼˜åŠ¿ï¼š</p><ul><li>çŠ¶æ€è¡¨çš„å«ä¹‰ä¸€ç›®äº†ç„¶ï¼Œå«ä¹‰æ¸…æ™°</li><li>å¯ä»¥éå†çŠ¶æ€è½¬ç§»å…³ç³»ç¡®è®¤ä»£ç çš„æ­£ç¡®æ€§</li><li>ä»£ç é‡å°‘ï¼Œé€»è¾‘ç®€å•</li></ul><h1>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨çŠ¶æ€æœº</h1><p><strong>çŠ¶æ€æœºä¸æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ç®—æ³•ï¼Œè€Œæ˜¯ä¸€ä¸ªä¼˜ç§€çš„å·¥ç¨‹å®è·µï¼</strong> å› ä¸ºçŠ¶æ€æœºæœ¬è´¨ä¸Šè¿˜æ˜¯ç©·ä¸¾ï¼Œæ—¢æ²¡æœ‰é™ä½æ—¶é—´å¤æ‚åº¦ï¼Œä¹Ÿæ²¡æœ‰é™ä½ç©ºé—´å¤æ‚åº¦ã€‚</p><p>ä½¿ç”¨çŠ¶æ€æœºçš„å¥½å¤„ï¼š</p><ul><li>å¼ºåˆ¶ç†æ¸…æ€è·¯ï¼Œä¸å®¹æ˜“å‡ºé”™ã€‚</li><li>æ–¹ä¾¿ä¿®æ”¹å’Œæ‰©å±•ã€‚å°¤å…¶æ˜¯åœ¨å·¥ç¨‹ä¸Šçº¿åï¼Œä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œè°ƒæ•´é‚»æ¥è¡¨é…ç½®å³å¯ã€‚</li><li>é«˜åº¦æŠ½è±¡ã€‚å°†ç¹ççš„ <code>if...else</code> é€»è¾‘æŠ½è±¡æˆä¸€å¥—å…¬å…±åº“ï¼ŒèŠ‚çº¦å¼€å‘æˆæœ¬ã€‚åœ¨ Javaã€Python ç­‰çƒ­é—¨è¯­è¨€ä¸­éƒ½æœ‰å¤§é‡çš„çŠ¶æ€æœºåº“å¯ä¾›è°ƒç”¨ã€‚</li></ul><h1>çŠ¶æ€æœºçš„åº”ç”¨</h1><p>æœ‰ã€çŠ¶æ€ã€å’Œã€å˜åŒ–ã€çš„åœ°æ–¹å°±å¯ä»¥æœ‰çŠ¶æ€æœºã€‚</p><ul><li>ç¼–è¯‘å™¨/è§£é‡Šå™¨<ul><li>å¦‚ä½•è¯†åˆ«è¯­æ³•é”™è¯¯ï¼Ÿä¾‹å¦‚æ‹¬å·ä¸é—­åˆã€<code>int a = /2</code>ã€‚</li></ul></li><li>æ­£åˆ™è¡¨è¾¾å¼<ul><li><code>\d+</code> ä¸ <code>1</code>ï¼Œ<code>123a</code> match ä¸ä¸Šï¼Œä¸­é—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</li></ul></li><li>ç½‘ç»œåè®®ï¼Œå¦‚ TCP<ul><li>æ¡æ‰‹é˜¶æ®µåœ¨ç­‰å¾… ACK çš„è¿‡ç¨‹ä¸­ä¸æ¥å— SYNã€ä¸æ¥å—æ•°æ®ã€‚</li></ul></li><li>è®¢å•ç³»ç»Ÿ<ul><li>ä»˜æ¬¾ã€å–æ¶ˆã€ç­‰å¾…ã€æŠ•è¯‰ç­‰åŠ¨ä½œä¼šå¯¹è®¢å•çŠ¶æ€äº§ç”Ÿä»€ä¹ˆå½±å“ï¼Ÿ</li></ul></li><li>æ¸¸æˆä»»åŠ¡è®¾è®¡<ul><li>å’Œ NPC å¯¹è¯åå†åšæŸé¡¹ä»»åŠ¡ä¸ç›´æ¥åšæŸé¡¹ä»»åŠ¡æ•ˆæœä¸åŒã€‚</li></ul></li><li>ä¸€ç§å…¨é¢ã€ç³»ç»Ÿçš„æ€è€ƒé—®é¢˜çš„æ–¹å¼ï¼Œå¯ç”¨äºåšé—®é¢˜å»ºæ¨¡ã€‚ä¾‹å¦‚ï¼š<ul><li>Airflow ä¸­çš„ä»»åŠ¡çŠ¶æ€å»ºæ¨¡ï¼š<ul><li>ä»»åŠ¡ pending çŠ¶æ€å‘èµ·é‡è¯•ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li><li>ä»»åŠ¡è¿è¡Œä¸­çŠ¶æ€ç½®æˆåŠŸä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li><li>å¯¹ pending ä»»åŠ¡å‘èµ·å›æº¯ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li><li>å¯¹ pending ä»»åŠ¡ä¿®æ”¹è°ƒåº¦å‘¨æœŸä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</li></ul></li><li>ä¸€äº›æƒé™ç³»ç»Ÿä¸­çš„ç³Ÿç³•è®¾è®¡ï¼š<ul><li>è‡ªå·±åˆ›å»ºçš„èµ„æºï¼Œé»˜è®¤æ²¡æƒé™ï¼Œéœ€è¦è‡ªå·±ç»™è‡ªå·±ç”³è¯·æƒé™</li><li>ç®¡ç†å‘˜å¯ä»¥ç§»é™¤ä»»ä½•äººçš„æƒé™ï¼Œä½†æŠŠè‡ªå·±çš„æƒé™ç§»é™¤äº†</li></ul></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è°ƒä¼˜ä¸€ä¸ªå¤§å‹ Flink ä»»åŠ¡</title>
      <link href="/posts/80f3ba16/"/>
      <url>/posts/80f3ba16/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡<a href="https://developer.volcengine.com/articles/7065250720647708703">é¦–å‘äºç«å±±å¼•æ“å¼€å‘è€…ç¤¾åŒº</a>ï¼Œè·å¾—å½“æœŸç¤¾åŒºå¾æ–‡æ´»åŠ¨ä¸€ç­‰å¥–ã€‚</p></blockquote><h1>æœ¬æ–‡ç›®æ ‡</h1><p>éšç€å®æ—¶è®¡ç®—çš„åº”ç”¨è¶Šæ¥è¶Šå¹¿æ³›ï¼ŒåŒæ—¶å®æ—¶æ•°ä»“çš„æ¦‚å¿µé€æ¸æ·±å…¥äººå¿ƒï¼ŒFlink ä½œä¸ºå®æ—¶è®¡ç®—é¢†åŸŸå½“ä¹‹æ— æ„§çš„æœ€ä¼˜ç§€æ¡†æ¶ï¼Œå…¶ä½¿ç”¨èŒƒå›´é£é€Ÿæ‰©å¼ ã€‚å¯¹äºä¸€ä¸ªä¼˜ç§€çš„å¤§æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œéå¸¸æœ‰å¿…è¦ç†Ÿç»ƒæŒæ¡ Flink æ¡†æ¶çš„ä½¿ç”¨å’Œè¿ç»´ã€‚</p><span id="more"></span><p>æœ¬æ–‡ä¸ä¼šæ¶‰åŠå¯¹ Flink æ¡†æ¶çš„æŠ€æœ¯å‰–æï¼Œè€Œæ˜¯ä¾§é‡äºå·¥ç¨‹å®è·µï¼ŒåŠ›æ±‚å®ç”¨ã€‚ç¬”è€…ä¼šç»“åˆè‡ªå·±è¿ç»´å¤šä¸ªå¤§å‹ Flink ä»»åŠ¡çš„ç»éªŒï¼Œå¯¹äºã€å¦‚ä½•ç³»ç»ŸåŒ–åœ°è°ƒä¼˜ Flink ä»»åŠ¡ã€æå‡æ€§èƒ½ã€ç»™å‡ºä¸€å¥—å®Œæ•´çš„æ–¹æ³•è®ºã€‚</p><h1>å¦‚ä½•å‘ç°æ€§èƒ½é—®é¢˜ï¼Ÿ</h1><p>è§£å†³é—®é¢˜çš„å‰ææ˜¯å‘ç°é—®é¢˜ã€‚é‚£ä¹ˆå¦‚ä½•çŸ¥é“ä¸€ä¸ª Flink ä»»åŠ¡æ˜¯å¦å­˜åœ¨æ€§èƒ½é—®é¢˜å‘¢ï¼Ÿ</p><p>Flink ä½œä¸šæ€§èƒ½ä¸ä½³æ—¶ä¸€èˆ¬æœ‰ä»¥ä¸‹ä¸€äº›è¡¨ç°ï¼Œå¯æ ¹æ®ä¸šåŠ¡æƒ…å†µç»¼åˆåˆ¤æ–­ï¼š</p><ul><li>ä¸Šæ¸¸ Kafka Topic å‡ºç°å †ç§¯ã€‚æ­£å¸¸è¿è¡Œçš„ä»»åŠ¡ï¼Œå…¶ä¸Šæ¸¸ Kafka Topic çš„ Lag Size é€šå¸¸ä¸ºé›¶ã€‚å¦‚æœå‘ç°æ•°æ®æŒç»­å †ç§¯ï¼Œè¯´æ˜å¤„ç†é€Ÿåº¦è·Ÿä¸ä¸Šæµå…¥é€Ÿåº¦ï¼Œå¯èƒ½å­˜åœ¨æ€§èƒ½é—®é¢˜ã€‚ä½†è¿™ç§æƒ…å†µåœ¨æ•°æ®é«˜å³°æœŸä¹Ÿå¯èƒ½å‘ç”Ÿï¼Œå¯æ ¹æ®ä¸šåŠ¡å¯¹å»¶è¿Ÿçš„è¦æ±‚å†³å®šæ˜¯å¦éœ€è¦ä¼˜åŒ–ã€‚</li><li>QPS æ›²çº¿æŠ–åŠ¨ã€‚æ­£å¸¸è¿è¡Œçš„ä»»åŠ¡ï¼Œå…¶ QPS æ›²çº¿ä¸€èˆ¬å¹³æ»‘ä¸”ç¨³å®šï¼Œæœ‰æ—¶ä¹Ÿä¼šéšç€è¾“å…¥ QPS å‘¨æœŸæ€§æ³¢åŠ¨ã€‚å½“å‘ç”Ÿæ€§èƒ½é—®é¢˜æ—¶ï¼Œå¾€å¾€ä¼šçœ‹åˆ° QPS æ›²çº¿æœ‰æ˜æ˜¾æŠ–åŠ¨ã€‚æœ‰æ—¶ QPS æ›²çº¿å¹¶æœªæŠ–åŠ¨ï¼Œä½†ä»ç„¶å‡ºç°å †ç§¯ï¼ŒåŒæ ·è¯´æ˜æ€§èƒ½ä¸è¶³ã€‚</li><li>ç®—å­åå‹ã€‚å¦‚æœä»»åŠ¡æ€§èƒ½ä¸ä½³ï¼Œå‡ ä¹å¿…å®šå¯¹åº”ç€æŸäº›ç®—å­ä¸Šå‘ç”Ÿäº†åå‹ã€‚å¯ä»¥åœ¨ Flink UI ä¸ŠæŸ¥çœ‹æ¯ä¸€ä¸ªç®—å­çš„åå‹æƒ…å†µã€‚æŸä¸ªç®—å­ A å‡ºç°åå‹ï¼Œæ„å‘³ç€è¿™ä¸ªç®—å­çš„è¾“å‡ºè¢«é˜»å¡ï¼Œè¯´æ˜ä¸‹æ¸¸ç®—å­æœ‰æ€§èƒ½é—®é¢˜ï¼Œä½†å¹¶ä¸ä¸€å®šæ˜¯ç›´æ¥ä¸‹æ¸¸ï¼Œå› ä¸ºåå‹æ˜¯ä¼šè¿ç»­å‘ä¸Šæ¸¸ä¼ å¯¼çš„ã€‚ä»ä¸Šåˆ°ä¸‹æ‰¾åˆ°ç¬¬ä¸€ä¸ªæ²¡æœ‰åå‹çš„ç®—å­ï¼Œé€šå¸¸å°±æ˜¯æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨çš„ç®—å­ã€‚<br><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697355828531669735582444.png" alt=""></li><li>CPU å ç”¨ç‡é«˜ä¸”ä¼´éšæŠ–åŠ¨ã€‚æ­£å¸¸è¿è¡Œçš„ä»»åŠ¡ï¼Œå…¶ CPU å ç”¨ç‡åº”ç¨³å®šåœ¨è¾ƒä½æ°´å¹³ã€‚å½“å ç”¨ç‡è¿‡é«˜æ—¶ï¼ˆä¾‹å¦‚ &gt;75%ï¼‰ï¼Œå¾€å¾€ä¼šå‡ºç°æ€§èƒ½é—®é¢˜ï¼Œæ­¤æ—¶ CPU å ç”¨ç‡æ›²çº¿ä¹Ÿé€šå¸¸ä¼šå‡ºç°æŠ–åŠ¨ã€‚</li></ul><p>æœ‰æ—¶å€™ä¸å‡ºç°è¿™äº›ç°è±¡ä¹Ÿä¸ä»£è¡¨ä»»åŠ¡çš„æ€§èƒ½æ²¡é—®é¢˜ï¼Œå› ä¸ºä»»åŠ¡å¹³ç¨³è¿è¡Œå¯èƒ½æ˜¯é å †èµ„æºå †å‡ºæ¥çš„ã€‚æœ¬ç€è¿½æ±‚æè‡´çš„ç²¾ç¥ï¼Œæˆ‘ä»¬åº”è¯¥åŠ›æ±‚æŠŠèµ„æºåˆ©ç”¨ç‡ä¼˜åŒ–åˆ°æœ€å¥½ã€‚å½“æŠŠè®¡ç®—èµ„æºå‹ç¼©åˆ°å°½å¯èƒ½ä½æ—¶ï¼Œæ­¤æ—¶å‡ºç°çš„æ€§èƒ½é—®é¢˜æ‰æ˜¯æˆ‘ä»¬è°ƒä¼˜å’Œè§£å†³çš„å¯¹è±¡ã€‚</p><p>é‚£ä¹ˆåˆ°åº•åˆ†é…å¤šå°‘èµ„æºæ‰ç®—åˆé€‚å‘¢ï¼Ÿè¿™é‡Œæä¾›ä¸€äº› QPS per CPU çš„ç»éªŒæ•°æ®ä¾›å‚è€ƒï¼š</p><ul><li>æœ‰çŠ¶æ€è®¡ç®—ï¼š3000 QPS/CPU</li><li>æ— çŠ¶æ€è®¡ç®—ï¼š10000 QPS/CPU</li></ul><blockquote><p>æœ‰çŠ¶æ€å¤„ç†æ˜¯æŒ‡å¤šæ¡æ•°æ®ä¹‹é—´éœ€è¦ç»´æŠ¤ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¾‹å¦‚æ¶‰åŠ GROUP BY è¯­ä¹‰æ—¶ï¼Œéœ€è¦ä½¿ç”¨ Flink çš„çª—å£å‡½æ•°ï¼Œè€Œçª—å£ä¸­å°±ç»´æŠ¤äº†çŠ¶æ€ä¿¡æ¯ã€‚è¿™ç±»å¤„ç†é€šå¸¸å¯¹ CPU å’Œå†…å­˜éƒ½ä¼šé€ æˆå‹åŠ›ï¼Œä¸”çª—å£è¶Šé•¿å‹åŠ›è¶Šå¤§ã€‚</p></blockquote><p>æ³¨æ„ï¼šè¿™é‡Œç»™å‡ºçš„ä»…ä»…æ˜¯ç²—ç•¥çš„ç»éªŒå€¼ï¼Œç”±äºä¸šåŠ¡æƒ…å†µä¸åŒï¼Œä¾‹å¦‚æ•°æ®æ˜¯å¦å‹ç¼©ã€åºåˆ—åŒ–æ ¼å¼ã€æ˜¯å¦éœ€è¦å¤æ‚è®¡ç®—ç­‰ï¼Œå‡ä¼šé€ æˆä¸€å®šåå·®ã€‚å¦å¤–ï¼ŒCPU ç¡¬ä»¶æœ¬èº«çš„ä¼˜åŠ£ä¹Ÿä¼šé€ æˆä¸€å®šå½±å“ã€‚</p><h1>å¦‚ä½•æ‹†è§£æ€§èƒ½é—®é¢˜ï¼Ÿ</h1><p>ç½‘ä¸Šæœ‰å¤§é‡çš„ Flink æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹åˆ†æï¼Œä½†å®é™…ä¸Šæˆ‘ä»¬æ¯æ¬¡é‡åˆ°æ€§èƒ½é—®é¢˜æ—¶å¾€å¾€è¿˜æ˜¯æ— ä»ä¸‹æ‰‹ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰ä»æ¡ˆä¾‹ä¸­æ€»ç»“å‡ºç³»ç»ŸåŒ–çš„æ–¹æ³•è®ºã€‚ä¸‹é¢å°±æ¥è§£å†³è¿™ä¸ªæ–¹æ³•è®ºçš„é—®é¢˜ã€‚</p><p>ç¬”è€…åœ¨æ—¥å¸¸å®è·µä¸­å‘ç°ï¼ŒFlink çš„æ€§èƒ½é—®é¢˜å‡ ä¹å…¨éƒ½å¯ä»¥å½’ç»“åˆ°ä»¥ä¸‹ 3 ç§åŸå› ã€‚æœ€å¦™çš„æ˜¯ï¼Œè¿™ 3 ç§åŸå› æ˜¯æ­£äº¤çš„ï¼Œå®šä½æ€§èƒ½é—®é¢˜æ—¶ä¸ä¼šå› ä¸ºå„ä¸ªå› ç´ äº’ç›¸è€¦åˆè€ŒæŠŠè„‘å­æä¹±ï¼š</p><blockquote><p>ç»è¿‡ä¸Šä¸€æ­¥ã€é—®é¢˜å‘ç°ã€ç¯èŠ‚ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»é€šè¿‡åå‹æ‰¾åˆ°äº†æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨çš„å…·ä½“ç®—å­ã€‚</p></blockquote><h3 id="1-ç®—å­å»¶è¿Ÿé«˜">1. ç®—å­å»¶è¿Ÿé«˜</h3><p>ç®—å­å»¶è¿Ÿé«˜çš„åŸå› å¤šç§å¤šæ ·ï¼Œä¾‹å¦‚ä¸šåŠ¡é€»è¾‘çš„å¤æ‚åº¦å¤ªé«˜ã€æœ‰é¢‘ç¹çš„ç£ç›˜æˆ–ç½‘ç»œ IOã€å†…å­˜ä¸è¶³é¢‘ç¹ GCã€‚è¿™ç§æƒ…å†µä¸‹å¢å¤§å¹¶è¡Œåº¦å¯èƒ½æœ‰ä¸€å®šæ•ˆæœï¼Œä½†æ— æ³•è§£å†³æ ¹æœ¬é—®é¢˜ã€‚</p><p>è¿™ç§æƒ…å†µå¯ä»¥ç±»æ¯”ä¸ºï¼šæµæ°´çº¿ä¸Šæ¯ä¸ªå·¥äººéƒ½å¾ˆç”Ÿç–ï¼Œæ­¤æ—¶æ‰©å¢äººæ‰‹ä¹Ÿè®¸èƒ½å¸¦æ¥ä¸€å®šçš„é€Ÿåº¦æå‡ï¼Œä½†ä¹Ÿä¼šå¸¦æ¥å¾ˆå¤§çš„ç®¡ç†å¼€é”€ï¼Œæ ¹æœ¬çš„è§£å†³åŠæ³•æ˜¯æé«˜æ¯ä¸ªå·¥äººçš„ç†Ÿç»ƒåº¦ã€‚</p><h3 id="2-å¹¶è¡Œåº¦ä¸è¶³">2. å¹¶è¡Œåº¦ä¸è¶³</h3><p>æœ‰æ—¶å€™å³ä½¿æ¯ä¸ªç®—å­ä¸Šçš„ä¸šåŠ¡é€»è¾‘å’Œç®—æ³•éƒ½å·²ç»ä¼˜åŒ–åˆ°æ— æ‡ˆå¯å‡»ï¼Œä½†ç”±äºå¹¶è¡Œåº¦å¤ªä½ï¼Œä¾‹å¦‚ 10 ä¸ªå¹¶è¡Œåº¦æ¶ˆè´¹ 1000 ä¸ª partitionï¼Œè¿˜æ˜¯ä¼šé€ æˆä½œä¸šæ•´ä½“æ€§èƒ½ä¸è¶³ã€‚</p><p>è¿™ç§æƒ…å†µå¯ä»¥ç±»æ¯”ä¸ºï¼šæµæ°´çº¿ä¸Šæ¯ä¸ªå·¥äººéƒ½å¾ˆç†Ÿç»ƒï¼Œä½†äººæ‰‹ä¸å¤Ÿï¼Œå› æ­¤é€ æˆç”Ÿäº§é€Ÿåº¦ä¸è¶³ï¼Œæ­¤æ—¶åº”è¯¥å¢åŠ äººæ‰‹ï¼Œæ‰©å¤§ç”Ÿäº§çº¿ã€‚</p><h3 id="3-æ•°æ®å€¾æ–œ">3. æ•°æ®å€¾æ–œ</h3><p>æŸä¸ªç®—å­è¢«åˆ†é…äº†è¿‡å¤šçš„æ•°æ®æ¶ˆè´¹ä¸è¿‡æ¥ï¼Œè€Œå…¶ä»–ç®—å­åˆ™æœ‰é—²ç½®çš„æƒ…å†µã€‚ç”±äºä½œä¸šä¸­å¾€å¾€å­˜åœ¨ shuffle æ“ä½œï¼Œé‚£ä¹ˆæ­¤æ—¶å‘ç”Ÿå †ç§¯çš„ç®—å­å°±ä¼šæˆä¸ºæ•´ä¸ªä½œä¸šçš„ç“¶é¢ˆã€‚å³ä½¿ä¸å­˜åœ¨ shuffle æ“ä½œï¼Œæ•°æ®å€¾æ–œçš„åå¤„ä¾ç„¶å­˜åœ¨ï¼Œä¸€ä¸ªæ˜¾è‘—çš„é—®é¢˜æ˜¯ä¼šé€ æˆå †ç§¯ç®—å­ä¸å…¶ä½™ç®—å­ä¹‹é—´å‡ºç°æ›´å¤§çš„æ•°æ®ä¹±åºã€‚è¿™æ—¶æ— è®ºæ˜¯å¢å¤§å¹¶è¡Œåº¦è¿˜æ˜¯è°ƒä¼˜ç®—å­çš„å»¶è¿Ÿéƒ½å¾ˆéš¾å¥æ•ˆï¼Œåªèƒ½å»æ¶ˆé™¤æ•°æ®å€¾æ–œã€‚</p><p>è¿™ç§æƒ…å†µå¯ä»¥ç±»æ¯”ä¸ºï¼šæµæ°´çº¿ä¸ŠæŸäº›å·¥äººè¢«åˆ†é…äº†è¿‡å¤šçš„å·¥ä½œé‡ï¼Œè€Œå…¶ä»–å·¥äººè™½ç„¶æœ‰ç©ºé—²ä½†å´ä¸èƒ½åˆ°åˆ«äººçš„æµæ°´çº¿ä¸Šå»å¸®å¿™ï¼Œè¿™ç§æƒ…å†µåªèƒ½ä»å·¥ä½œé‡çš„åˆ†é…ä¸Šè¿›è¡Œæ”¹å–„ã€‚</p><p>ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œåˆ—å‡ºè¿™ 3 ç§æ€§èƒ½åŸå› çš„ç±»æ¯”è¡¨ï¼š</p><table><thead><tr><th>Flink ä»»åŠ¡</th><th>ç±»æ¯”ä¸ºï¼šå·¥å‚ç”Ÿäº§çº¿</th></tr></thead><tbody><tr><td>ç®—å­å»¶è¿Ÿé«˜</td><td>å·¥äººä¸å¤Ÿç†Ÿç»ƒ</td></tr><tr><td>å¹¶è¡Œåº¦ä¸è¶³</td><td>æ¯ä¸ªå·¥äººéƒ½å¾ˆç†Ÿç»ƒï¼Œä½†äººæ‰‹å¤ªå°‘</td></tr><tr><td>æ•°æ®å€¾æ–œ</td><td>æ¯ä¸ªå·¥äººéƒ½å¾ˆç†Ÿç»ƒï¼Œäººæ‰‹ä¹Ÿè¶³å¤Ÿï¼Œä½†å·¥ä½œé‡åˆ†é…ä¸å‡åŒ€ï¼Œå·¥ä½œæœ€å¤šçš„äººæ‹–æ»¡äº†æ•´ä½“è¿›åº¦</td></tr></tbody></table><p>ä»ä»¥ä¸Šçš„åˆ†æå¯ä»¥çœ‹å‡ºï¼Œè¿™ç§æ‹†è§£ç¬¦åˆ MECE åŸåˆ™ï¼ˆä¸é‡ä¸æ¼ï¼‰ï¼Œå³ï¼š</p><ul><li>è¿™ 3 ç±»åŸå› æ˜¯æ­£äº¤çš„ï¼Œå¯ä»¥ç‹¬ç«‹ã€äº’ä¸å½±å“åœ°å‡ºç°åœ¨æ€§èƒ½é—®é¢˜ä¸­ï¼Œè¿™æ„å‘³ç€ã€è§£å†³ä¸€ç±»é—®é¢˜ä¸å½±å“å…¶ä»–é—®é¢˜ç»§ç»­æˆä¸ºæ€§èƒ½ç“¶é¢ˆã€ã€‚</li><li>è¿™ 3 ç±»åŸå› æ˜¯äº’è¡¥çš„ï¼Œå¹¶ä¸”ä¸å­˜åœ¨é™¤äº†è¿™ 3 ç±»åŸå› ä¹‹å¤–çš„å…¶ä»–åŸå› ï¼ˆåè€…ä¸èƒ½è¯æ˜ï¼Œä½†ç›®å‰ä¹Ÿæ²¡æœ‰æƒ³åˆ°åä¾‹ï¼‰ã€‚</li></ul><h1>å¦‚ä½•ä¼˜åŒ–æ€§èƒ½é—®é¢˜ï¼Ÿ</h1><p>ä¸Šè¿° 3 ç±»åŸå› è™½ç„¶å…¨é¢ï¼Œä½†è¿‡äºç²—ç³™ï¼Œæ¯ç§åŸå› èƒŒåéƒ½å­˜åœ¨å¤šé‡å¤šæ ·çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¼˜åŒ–æ€§èƒ½é—®é¢˜çš„æ—¶å€™éœ€è¦ç»“åˆå…·ä½“æƒ…å†µæ¥åˆ†æå†³ç­–ã€‚</p><p>ä¸‹é¢ç®€è¦åœ°ç»™å‡ºè¿™ 3 ç±»åŸå› çš„æ’æŸ¥æ–¹å‘å’Œä¼˜åŒ–æ€è·¯ï¼š</p><h3 id="1-ç®—å­å»¶è¿Ÿé«˜-2">1. ç®—å­å»¶è¿Ÿé«˜</h3><p>ç®—å­å»¶è¿Ÿé«˜çš„é—®é¢˜å¯ä»¥é€šè¿‡è§‚å¯Ÿç®—å­å»¶è¿Ÿæ›²çº¿è¿›è¡Œåˆ¤å®šï¼Œé€šå¸¸åœ¨ Flink çš„ metrics æŒ‡æ ‡ç»„ä¸­å¯ä»¥æ‰¾åˆ°ã€‚</p><p>å¯¹äºä¸€ä¸ªè‰¯å¥½çš„å®æ—¶ä»»åŠ¡ï¼Œå…¶å„ä¸ªç®—å­å»¶è¿Ÿéƒ½åº”è¯¥ç¨³å®šåœ¨ 10ms ä»¥å†…ï¼Œå› ä¸ºç£ç›˜ IO æˆ–åŒæœºæˆ¿å†…ç½‘ç»œ IO ä¹Ÿåªæ˜¯è¾¾åˆ°è¿™ä¸ªé‡çº§ï¼Œçº¯ç²¹çš„è®¡ç®—æ›´æ²¡æœ‰ç†ç”±æ¯”è¿™äº›æ“ä½œæ›´æ…¢ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œç®—å­å»¶è¿Ÿé«˜çš„å¸¸è§åŸå› æœ‰ï¼š</p><ul><li>ä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œè€— CPU è¾ƒå¤šï¼ˆä¸€èˆ¬æ˜¯å‹ç¼©/è§£å‹ã€åºåˆ—åŒ–/ååºåˆ—åŒ–ç­‰é€ æˆçš„ï¼‰ï¼›</li><li>å†…å­˜ä¸è¶³ï¼Œå¯¼è‡´ JVM é¢‘ç¹å‘ç”Ÿ GCï¼›</li><li>æœ‰è¾ƒå¤š/è¾ƒæ…¢çš„ç£ç›˜æˆ–ç½‘ç»œ IOã€‚</li></ul><p>é’ˆå¯¹å‡ ç±»åŸå› çš„åˆ†ææ€è·¯å¦‚ä¸‹ï¼š</p><p>1 . å¦‚æœæ€€ç–‘ç®—å­çš„ä¸šåŠ¡é€»è¾‘å¤æ‚ï¼Œè€— CPU è¾ƒå¤šï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ CPU ç«ç„°å›¾å®šä½å…·ä½“é—®é¢˜ã€‚CPU ç«ç„°å›¾å¯ä»¥åˆ†æä¸€ä¸ªè¿›ç¨‹ä¸€æ®µæ—¶é—´å†…çš„ CPU è€—æ—¶åˆ†é…åœ¨å„ä¸ªå‡½æ•°è°ƒç”¨æ ˆä¸Šçš„æ¯”ä¾‹ï¼Œç”±æ­¤å¯ä»¥å®šä½åˆ°ä¸šåŠ¡é€»è¾‘ä¸­æœ€è€— CPU çš„éƒ¨åˆ†ã€‚</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697359190821669735918953.png" alt=""></p><p>2 . JVM GC é—®é¢˜å¯¼è‡´ç®—å­å»¶è¿Ÿé«˜æ˜¯éå¸¸å¸¸è§çš„ã€‚Flink ä»»åŠ¡çš„ metrics group ä¸­ä¸€èˆ¬éƒ½é…æœ‰ GC ç›‘æ§ã€‚ç†æƒ³çš„æƒ…å†µä¸‹ï¼ŒJobManager å’Œ TaskManager åº”å½“ä»ä¸å‘ç”Ÿ Full GCï¼Œå¦‚æœé¢‘ç¹å‘ç”Ÿå°±è¯´æ˜å†…å­˜ç®¡ç†æœ‰é—®é¢˜ã€‚</p><p>æ’é™¤æ‰ Full GC ä¹‹åï¼Œç®—å­çš„ GC è€—æ—¶å°±å–å†³äº Young GC äº†ï¼Œåè€…çš„å¹³å‡è€—æ—¶ä¸€èˆ¬åº”è¯¥åœ¨ 100ms ä»¥å†…ï¼Œå¯¹äºä¸æ¶‰åŠå¤§å†…å­˜æ“ä½œï¼ˆ10GB é‡çº§ï¼‰çš„ä»»åŠ¡åº”è¯¥åœ¨ 10ms ä»¥å†…ã€‚GC è€—æ—¶é«˜é€šå¸¸é¢„ç¤ºç€å†…å­˜ä¸è¶³ï¼Œä½†æœªå¿…æ˜¯å› ä¸ºåˆ†é…çš„å†…å­˜ä¸å¤Ÿï¼Œä¹Ÿå¯èƒ½æ˜¯ GC ç­–ç•¥ä¸åˆé€‚å¯¼è‡´å†…å­˜ä½¿ç”¨æ•ˆç‡ä½ï¼Œæˆ–å­˜åœ¨å†…å­˜æ³„éœ²ç­‰ï¼Œéœ€è¦è¿›ä¸€æ­¥å®šä½ã€‚</p><p>3 . å¦‚æœæ€€ç–‘å»¶è¿Ÿæ˜¯ç”±äºç£ç›˜ IO é€ æˆçš„ï¼Œé‚£ä¹ˆå¯ä»¥æ‰¾åˆ°æŸäº› Task Manager æŸ¥çœ‹å…¶å•æœºç£ç›˜ç›‘æ§ï¼Œæ˜¯å¦æœ‰ç£ç›˜ IO æ¬¡æ•°è¿‡é«˜ï¼Œæˆ–è€…æ•°æ® size è¿‡å¤§ã€‚</p><p>å¦‚æœæ€€ç–‘å»¶è¿Ÿæ˜¯ç”±äºç½‘ç»œ IO é€ æˆçš„ï¼Œé‚£ä¹ˆå¯ä»¥æŸ¥çœ‹å¯¹åº” API æä¾›æ–¹çš„å»¶è¿Ÿæ•°æ®ã€‚ä¾‹å¦‚ä»»åŠ¡è®¿é—®äº† Redisã€HBase ç­‰å¤–éƒ¨èµ„æºï¼Œé‚£ä¹ˆè¿™äº›åŸºç¡€è®¾æ–½æœ¬èº«éƒ½ä¼šæœ‰ç›¸åº”çš„å»¶è¿Ÿç›‘æ§ï¼Œå¯ä»¥ä»ä¸­åˆ¤å®šå»¶è¿Ÿçš„æ¥æºã€‚</p><h3 id="2-å¹¶è¡Œåº¦ä¸è¶³-2">2. å¹¶è¡Œåº¦ä¸è¶³</h3><p>å¹¶è¡Œåº¦ä¸è¶³çš„é—®é¢˜æ¯”è¾ƒå®¹æ˜“å‘ç°ï¼Œä¸€èˆ¬å¯ä»¥è§‚å¯Ÿä»»åŠ¡æ€»ä½“çš„ CPU å ç”¨ï¼Œä»¥åŠå„ä¸ª Task Manager/Container çš„ CPU å ç”¨ã€‚å¦‚æœ CPU å ç”¨ç‡ä¸€ç›´æ¥è¿‘ 100%ï¼Œç”šè‡³å¤„äºè¶…å‘çŠ¶æ€ï¼Œä¸”æ’é™¤äº†ç®—å­å»¶è¿Ÿé«˜çš„é—®é¢˜ï¼Œé‚£ä¹ˆé€šå¸¸å°±æ˜¯å¹¶è¡Œåº¦ä¸è¶³é€ æˆçš„ã€‚</p><p>å¹¶è¡Œåº¦ä¸è¶³çš„è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯å¢åŠ èµ„æºã€‚ä¸€èˆ¬æ˜¯å¢åŠ  Task Manager çš„ä¸ªæ•°ï¼Œä»è€Œæ‰©å¤§å¹¶è¡Œåº¦ã€‚</p><h3 id="3-æ•°æ®å€¾æ–œ-2">3. æ•°æ®å€¾æ–œ</h3><p>æ•°æ®å€¾æ–œçš„é—®é¢˜ä¸€èˆ¬å‡ºç°åœ¨å‘ç”Ÿ shuffle æ“ä½œçš„ä»»åŠ¡ä¸­ï¼Œå…¸å‹çš„å°±æ˜¯ GROUP BY è¯­ä¹‰ã€‚</p><p>å¯ä»¥é€šè¿‡è§‚å¯Ÿç®—å­åå‹ç°è±¡åŠ ä»¥å®šä½ï¼Œå¦‚æœåœ¨æŸä¸ªç®—å­çš„æ‰€æœ‰å®ä¾‹ä¸­åªæœ‰éƒ¨åˆ†å®ä¾‹å‡ºç°åå‹ç°è±¡ï¼Œé‚£ä¹ˆè¿™äº›å®ä¾‹å¾ˆå¯èƒ½é‡åˆ°äº†æ•°æ®å€¾æ–œã€‚ä½†ä¹Ÿæœ‰å¯èƒ½æ˜¯è¿™äº›å®ä¾‹å¯¹åº”çš„èŠ‚ç‚¹è´Ÿè½½è¿‡é«˜ï¼Œè¢«åŠ¨é€ æˆäº†æ€§èƒ½é—®é¢˜ï¼Œè¿™ç§æƒ…å†µåªéœ€è¦ç®€å•æ’æŸ¥ä¸€ä¸‹è¿™ä¸ªèŠ‚ç‚¹çš„èµ„æºç›‘æ§å³å¯ã€‚</p><p>ä¹Ÿå¯ä»¥åœ¨ Flink UI ä¸­å•ç‹¬æŸ¥çœ‹æ¯ä¸€ä¸ª SubTask çš„ Records Sent å’Œ Bytes Sent å€¼ï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰éƒ¨åˆ† SubTask ååé‡æ˜æ˜¾æ›´å¤§çš„æƒ…å†µã€‚</p><p>å¦‚æœæœ‰åˆ† Task Manager çš„ CPU ç›‘æ§çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‚è€ƒï¼Œçœ‹æ˜¯å¦å­˜åœ¨ä¸ªåˆ« Task Manager èµ„æºå ç”¨æ˜æ˜¾é«˜äºå…¶ä»–çš„æƒ…å†µï¼Œå¦‚æœæœ‰åˆ™å¾ˆå¯èƒ½è¿™äº› Task Manager ä¸Šå‘ç”Ÿäº†æ•°æ®å€¾æ–œã€‚</p><p>æ•°æ®å€¾æ–œçš„æ²»ç†æ€è·¯å¤§å®¶å¹¶ä¸é™Œç”Ÿï¼Œå¤§è‡´è·Ÿç¦»çº¿æ•°æ®å€¾æ–œç›¸åŒï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªè§£å†³æ–¹æ¡ˆï¼š</p><ul><li>è§‚å¯Ÿå€¾æ–œçš„æ•°æ®æ˜¯å¦ä¸ºè„æ•°æ®ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™åœ¨ shuffle æ“ä½œä¹‹å‰å°†å€¾æ–œçš„æ•°æ®æ¸…æ´—æ‰ï¼›</li><li>å°†å¼•èµ·å€¾æ–œçš„ hot key é™„åŠ ä¸€ä¸ªéšæœºæ•°ï¼Œåœ¨ shuffle ä¹‹å‰å°†å…¶æ‰“æ•£ï¼Œå¾…å¤„ç†å®Œæˆä¹‹åå†æ¸…æ´—æ¢å¤ï¼›</li><li>å°†å¼•èµ·å€¾æ–œçš„ hot key å•ç‹¬èµ·ä¸€ä¸ªä»»åŠ¡è¿›è¡Œå¤„ç†ï¼Œå¾…å¤„ç†å®Œæˆåå†å°†æ‰€æœ‰ç»“æœåˆå¹¶èµ·æ¥ã€‚</li></ul><hr><p>ä»¥ä¸Šä¼˜åŒ–æ€è·¯çœ‹èµ·æ¥ç®€å•ç›´æ¥ï¼Œä½†äº‹å®ä¸Šï¼Œä¸Šè¿° 3 å¤§ç±»åŸå› ä¸­çš„æ¯ä¸€ç§ç»†åˆ†æƒ…å†µéƒ½éœ€è¦å¤§é‡çš„çŸ¥è¯†å’Œç»éªŒæ¥è¾…åŠ©åˆ¤æ–­ï¼Œéœ€è¦å¤šä»å®è·µä¸­æ€»ç»“å’Œå­¦ä¹ ã€‚</p><h1>ä¸€äº›å®ç”¨çš„ã€åå‘æ“ä½œã€</h1><p>Flink å®˜æ–¹æ–‡æ¡£ä¸­æ¨èäº†ä¸€äº›æœ€ä½³å®è·µï¼Œä½†è®¸å¤šå¹¶ä¸é€‚ç”¨äºå¤§å‹ Flink ä»»åŠ¡ï¼ˆå¹¶è¡Œåº¦ &gt; 1000ï¼‰ï¼Œè¿™é‡Œæ€»ç»“ä¸ºã€åå‘æ“ä½œã€ï¼ˆå³ä¸ç¬¦åˆå®˜æ–¹æ¨èåšæ³•çš„æ„æ€ï¼‰ã€‚</p><p>è¿™ä¸ªåˆ—è¡¨ä¸å®œç›´æ¥éµå®ˆï¼Œå…¶ç›®çš„æ˜¯ï¼Œå½“ä½ åœ¨è¿ç»´å¤§å‹ Flink ä»»åŠ¡æ—¶ï¼Œå¦‚æœå‘ç°äº†æ— è®ºå¦‚ä½•ä¹Ÿè§£å†³ä¸äº†çš„æ€§èƒ½/ç¨³å®šæ€§é—®é¢˜ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹ï¼Œæ€è€ƒæ˜¯å¦æ‰è¿›äº†ã€æœ€ä½³å®è·µã€çš„é™·é˜±é‡Œã€‚</p><h3 id="1-æ…ç”¨-CheckPoint">1. æ…ç”¨ CheckPoint</h3><p>Flink çš„ CheckPoint æ˜¯ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨ä»»åŠ¡å¤±è´¥ä¹‹åå®Œå…¨æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡ CheckPoint çš„çŠ¶æ€ï¼Œç”¨äºå®ç° end to end çš„ exactly once è¯­ä¹‰ã€‚</p><p>ä½†åœ¨ä¸€äº›å¤§å‹ Flink ä»»åŠ¡ä¸­ï¼Œæœ‰æ—¶å€™ç»´æŠ¤çš„ state ä¼šéå¸¸é‡ï¼Œå¯¼è‡´æ¯æ¬¡ CheckPoint éƒ½éœ€è¦å°†ç™¾ GB ç”šè‡³ TB é‡çº§çš„æ•°æ®å†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œä»»åŠ¡æ€§èƒ½è¢«ä¸¥é‡æ‹–æ…¢ï¼Œä¸” CheckPoint å®¹æ˜“ç”Ÿæˆå¤±è´¥æˆ–è¶…æ—¶ã€‚</p><p>éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œå¼€å¯ CheckPoint å¹¶ä¸ä¸€å®šèƒ½è¾¾æˆç«¯åˆ°ç«¯çš„ exactly once è¯­ä¹‰ï¼Œè¿™å–å†³äºä¸‹æ¸¸çš„æ¥æ”¶æ–¹æ˜¯ä¸æ˜¯å¹‚ç­‰çš„ã€‚å¦‚æœä¸æ˜¯ï¼Œå½“ä»»åŠ¡å¤±è´¥é‡å¯æ—¶ï¼ŒCheckPoint åè€Œä¼šå¯¼è‡´æ•°æ®é‡å¤æ¶ˆè´¹ã€‚å¯¹äºæŸäº›ä¸šåŠ¡ï¼Œè¿™å¹¶æ²¡æœ‰æ¯”æ•°æ®ä¸¢å¤±å¥½åˆ°å“ªå„¿å»ã€‚</p><p>æ‰€ä»¥ï¼Œå½“ä½ çš„ Flink ä»»åŠ¡ä¸ care å¶ç„¶ä¸”å°‘é‡çš„æ•°æ®ä¸¢å¤±æ—¶ï¼Œå…³é—­ CheckPoint ä¸ä»…æ²¡æœ‰åå¤„ï¼Œåè€Œå¯ä»¥æå‡ä½œä¸šæ€§èƒ½ã€‚</p><h3 id="2-æ…ç”¨-EventTime">2. æ…ç”¨ EventTime</h3><p>å¯¹äº Flink çš„ Timing Systemï¼Œæˆ‘ä»¬ä¸€èˆ¬é€‰æ‹© ProcessingTime æˆ– EventTime çš„å…¶ä¸­ä¸€ä¸ªã€‚å…·ä½“å¦‚ä½•é€‰æ‹©é€šå¸¸åŸºäºä¸šåŠ¡æ¥åˆ¤æ–­ï¼Œä¾‹å¦‚ä½ éœ€è¦æŒ‰ç…§ç”¨æˆ·ä¸‹å•çš„æ—¶é—´æ¥å¤„ç†æ•°æ®ï¼Œé‚£ä¹ˆæ¯«æ— ç–‘é—®åº”å½“é‡‡ç”¨ EventTime é…åˆ Watermarkã€‚å¦åˆ™ï¼Œå‡ºäºæ€§èƒ½è€ƒè™‘é»˜è®¤é‡‡ç”¨ ProcessingTimeã€‚</p><p>Flink å®˜æ–¹æ–‡æ¡£å¯¹ EventTime åšäº†æµ“å¢¨é‡å½©çš„ä»‹ç»ï¼Œä½†å´æ²¡æœ‰å¼ºè°ƒä¸€ä¸ªé‡è¦çš„ç‚¹ï¼Œé‚£å°±æ˜¯ EventTime å¯¹ä½œä¸šæ€§èƒ½æœ‰ç€ä¸¥é‡çš„æŸè€—ï¼Œå°¤å…¶æ˜¯å¯¹äºå­˜åœ¨ shuffle æ“ä½œçš„å¤§å‹ Flink ä»»åŠ¡ã€‚è¿™æ˜¯å› ä¸º EventTime çš„ä¹±åºä»¥åŠ Watermark çš„ä¼ å¯¼å’Œå¯¹é½æœºåˆ¶ä¼šå¯¼è‡´æ•°æ®åœ¨ shuffle æ“ä½œä¸¤ç«¯å‡ºç°ä¸¥é‡çš„ç­‰å¾…ã€æ»åã€è¿›è€Œæ‹¥å µã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä»»åŠ¡ç”¨åˆ°äº†çª—å£çŠ¶æ€ï¼Œé‚£ä¹ˆå†…å­˜å ç”¨ä¼šæŒç»­ä¸Šæ¶¨ï¼Œæœ€ç»ˆå´©æºƒã€‚</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697360948681669736094280.png" alt=""></p><p>å¦‚æœä½ å·²ç»é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆåº”è¯¥æŠŠ EventTime æ¢æˆ ProcessingTimeã€‚è™½ç„¶è¿™ä¸å¤ªç¬¦åˆä¸šåŠ¡è¦æ±‚ï¼Œä½†è‡³å°‘èƒ½å¤Ÿè®©ä»»åŠ¡å¹³ç¨³è¿è¡Œã€‚ä¸ºäº†æ»¡è¶³ä¸šåŠ¡éœ€æ±‚ï¼Œä½ å¯èƒ½éœ€è¦åŸºäº Flink è¾“å‡ºçš„æ•°æ®çš„æ—¶é—´å­—æ®µè¿›è¡Œé¢å¤–çš„å¤„ç†ã€‚</p><h1>æ€»ç»“</h1><p>æœ¬æ–‡ä»‹ç»äº†å¤§å‹ Flink ä»»åŠ¡çš„è¿ç»´å’Œè°ƒä¼˜ç»éªŒï¼Œç«‹è¶³å®è·µï¼ŒåŠ›æ±‚å®ç”¨ã€‚</p><p>æœ¬æ–‡ç²¾åéƒ¨åˆ†åœ¨äºå¦‚ä½•æ‹†è§£ Flink çš„æ€§èƒ½é—®é¢˜ï¼Œå…·ä½“ä»ä»¥ä¸‹ä¸‰ä¸ªæ­£äº¤çš„è§’åº¦å…¥æ‰‹ï¼š</p><ul><li>ç®—å­å»¶è¿Ÿé«˜</li><li>å¹¶è¡Œåº¦ä¸è¶³</li><li>æ•°æ®å€¾æ–œ</li></ul><p>ä»¥åŠå¯¹è¿™ä¸‰ç±»é—®é¢˜çš„å…·ä½“ä¼˜åŒ–æ€è·¯ã€‚</p><p>æœ€åä»‹ç»äº†ä¸€äº›ä¸ç¬¦åˆæœ€ä½³å®è·µçš„ã€åå‘æ“ä½œã€ï¼Œå±•ç¤ºäº†å·¥ç¨‹å®è·µä¸­æœ‰æ—¶ä¸å¾—ä¸ã€å±ˆæœäºç°å®ã€çš„æ— å¥ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤§æ•°æ® </tag>
            
            <tag> Flink </tag>
            
            <tag> å®æ—¶æ•°ä»“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ–‡ç†è§£ HyperLogLog(HLL) ç®—æ³•</title>
      <link href="/posts/365f8e92/"/>
      <url>/posts/365f8e92/</url>
      
        <content type="html"><![CDATA[<p>HyperLogLog(HLL) ç®—æ³•æ˜¯ä¸€ç§ä¼°ç®—æµ·é‡æ•°æ®åŸºæ•°çš„æ–¹æ³•ï¼Œè¢«å¹¿æ³›ç”¨äºå„ä¸ªæ•°æ®åº“äº§å“ä¸­ã€‚</p><p>ä¸ç²¾ç¡®çš„åŸºæ•°ç»Ÿè®¡ç®—æ³•ç›¸æ¯”ï¼ŒHLL å…·å¤‡å¯åˆå¹¶æ€§ (mergeability) ï¼Œå› è€Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹æµ·é‡æ•°æ®è¿›è¡Œå¹¶è¡Œè®¡ç®—ï¼Œè¢«å¹¿æ³›åœ°ç”¨äºå¤§æ•°æ®å¤šç»´åˆ†æåœºæ™¯ä¸­ã€‚ä¾‹å¦‚åˆ†åˆ«ç»Ÿè®¡ä¸€æ¬¾ APP æ¯ä¸ªå°æ—¶çš„ UV ä»¥åŠå…¨å¤©çš„ UVï¼Œè¿™ç±»é—®é¢˜å°±éå¸¸é€‚åˆä½¿ç”¨ HLL ç®—æ³•ã€‚</p><p>æœ¬æ–‡å°†ä¼šç”±æµ…å…¥æ·±ï¼Œä»åŸºæœ¬æ¦‚å¿µè®²èµ·ï¼Œå¼•å¯¼è¯»è€…ä»ç›´è§‚ä¸Šç†è§£ HLL ç®—æ³•èƒŒåè•´å«çš„åŸºæœ¬æ€æƒ³ã€‚</p><span id="more"></span><h1>åŸºæ•°ç»Ÿè®¡</h1><p>åŸºæ•° (Cardinality) æ˜¯æŒ‡ä¸€ä¸ªå­—æ®µæ‰€åŒ…å«çš„ä¸åŒå–å€¼çš„ä¸ªæ•°ï¼Œæœ‰æ—¶å€™ä¹Ÿç§°ä¸º Distinct Valuesï¼Œç®€å†™ä¸º DVã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><ul><li>åºåˆ— [1, 2, 3, 4] çš„åŸºæ•°ä¸º 4ï¼Œå› ä¸ºåŒ…å« 4 ä¸ªä¸åŒçš„å–å€¼ã€‚</li><li>åºåˆ— [1, 2, 3, 1, 2] çš„åŸºæ•°ä¸º 3ï¼Œè™½ç„¶åŒ…å« 5 ä¸ªå…ƒç´ ï¼Œä½†å…¶ä¸­çš„ 1, 2 åˆ†åˆ«é‡å¤äº†ä¸€æ¬¡ã€‚</li></ul><p>æœ€ç›´è§‚çš„åŸºæ•°ç»Ÿè®¡æ–¹æ³•æ˜¯åˆ©ç”¨ HashSetï¼šå°†åºåˆ—ä¸­çš„æ‰€æœ‰å€¼ä¾æ¬¡æ·»åŠ åˆ° HashSet ä¸­ï¼Œæœ€åç»Ÿè®¡ HashSet ä¸­å€¼çš„ä¸ªæ•°å³å¯ã€‚ç”¨ Python ä»£ç å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_dv</span>(<span class="params">stream</span>):</span><br><span class="line">    s = <span class="built_in">set</span>()</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> stream:</span><br><span class="line">        s.add(value)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(s)</span><br></pre></td></tr></table></figure><p>æ—¢ç„¶å¦‚æ­¤ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸ä½¿ç”¨ HashSet æ¥è®¡ç®—åŸºæ•°å‘¢ï¼Ÿ</p><p>åŸå› åœ¨äºè®¡ç®—æˆæœ¬ã€‚å½“è¦ç»Ÿè®¡çš„æ•°æ®éå¸¸å¤šæ—¶ï¼ŒHashSet å°†ä¼šå ç”¨å¾ˆå¤§çš„å†…å­˜ï¼Œä»¥è‡³äºèµ„æºè€—å°½ä¹Ÿæ— æ³•å®Œæˆè®¡ç®—ï¼Œè¿™ç§æƒ…å†µåœ¨å¤§æ•°æ®åœºæ™¯ä¸‹éå¸¸å¸¸è§ã€‚åœ¨ HashSet çš„åŸºç¡€ä¸Šï¼Œæœ‰ä¸€ä¸ªå¯ä»¥èŠ‚çœèµ„æºçš„æ”¹è¿›æ–¹æ¡ˆï¼Œå°±æ˜¯é‡‡ç”¨ bitmapï¼Œä½† bitmap åªæ˜¯æŠŠé—®é¢˜å»¶ç¼“äº†ï¼Œä»ç„¶æ²¡æœ‰æ ¹æœ¬æ€§åœ°è§£å†³é—®é¢˜ã€‚</p><p>äº‹å®ä¸Šï¼Œæˆ‘ä»¬ç»Ÿè®¡åŸºæ•°æ—¶å¾€å¾€å¹¶ä¸è¦æ±‚åˆ†æ¯«ä¸å·®ï¼Œåªéœ€è¦ç»™å‡ºä¸€ä¸ªå…·æœ‰è¯¯å·®è¾¹ç•Œçš„ç²—ç•¥å€¼å³å¯ã€‚é‚£ä¹ˆåœ¨è¿™ç§å‰æä¸‹èƒ½å¦èŠ‚çœè®¡ç®—èµ„æºå‘¢ï¼Ÿ</p><p>HyperLogLog(HLL) å°±æ˜¯è¿™æ ·ä¸€ç§ç®—æ³•ï¼Œå¯ä»¥åœ¨è®¡ç®—ç»“æœçš„ç²¾ç¡®ç¨‹åº¦å’Œèµ„æºå ç”¨ä¹‹é—´å–å¾—ä¸€ç§å¹³è¡¡ã€‚</p><p>è®©æˆ‘ä»¬ä»ä¸€äº›æµ…æ˜¾çš„é—®é¢˜ç€æ‰‹ï¼Œé€æ­¥æ­å¼€ HLL ç®—æ³•çš„ç¥ç§˜é¢çº±ã€‚</p><h1>ä»æ¦‚ç‡è§†è§’çœ‹è®¡æ•°æ–¹æ³•</h1><p>å¸¸è§„çš„è®¡æ•°æ–¹æ³•ä¼šç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯åˆ°æ¥ä¸€æ¡æ•°æ®è®°å½•ä¸€ä¸‹ã€‚è¿™ç§è®¡æ•°æ˜¯ç²¾ç¡®çš„ï¼Œä½†ä»£ä»·æ˜¯å¿…é¡»ç»´æŠ¤ä¸€ä¸ªè¶Šæ¥è¶Šé•¿çš„åˆ—è¡¨ã€‚</p><p>æ¦‚ç‡è®ºä¸ºæˆ‘ä»¬æä¾›äº†å¦å¤–ä¸€ç§çœ‹å¾…è®¡æ•°çš„è§†è§’ï¼š</p><p>$$ è§‚æµ‹åˆ°å°æ¦‚ç‡äº‹ä»¶å‘ç”Ÿï¼ˆæ¦‚ç‡ pï¼‰ â†’ ç±»ä¼¼çš„äº‹æƒ…é‡å¤è¿‡å¾ˆå¤šæ¬¡äº†ï¼ˆæ¬¡æ•° Nï¼‰$$</p><p>å…¶ä¸­è•´å«ç€ä¸€ä¸ªç²—ç•¥çš„å®šé‡å…³ç³»ï¼š</p><p>$$N = 1/p$$</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><blockquote><p>åœ¨æ‘‡éª°å­çŒœå¤§å°çš„æ¸¸æˆä¸­ï¼Œä¸‰ä¸ªéª°å­åŒæ—¶ä¸º 6 ç‚¹çš„æ¦‚ç‡å¾ˆå°ï¼Œä¸º 1/(6^3)ã€‚å‡å¦‚åœ¨æŸåœºæ¸¸æˆä¸­æ‘‡å‡ºäº†ä¸‰ä¸ª 6 ç‚¹ï¼ŒçŒœçŒœä¸€å…±æ‘‡äº†å‡ æ¬¡ï¼Ÿ</p><p>ç­”ï¼šå¤§æ¦‚ 6^3=216 æ¬¡</p></blockquote><p>æ›´è¿›ä¸€æ­¥çš„ä¾‹å­ï¼š</p><blockquote><p>æœ‰ä¸€ä¸ªæŠ›ç¡¬å¸æ¸¸æˆï¼Œè§„åˆ™å¦‚ä¸‹ï¼šç©å®¶æ¯æ¬¡æŠ›æ·ä¸€æšå‡åŒ€çš„ç¡¬å¸ï¼Œæ­£é¢ä¸åé¢æœä¸Šçš„æ¦‚ç‡å‡&gt; ä¸º 1/2ï¼Œæ¯æ¬¡æŠ›æ·éƒ½è®°ä¸€åˆ†ã€‚å¦‚æœæ­£é¢æœä¸Šï¼Œåˆ™ç»§ç»­æŠ›æ·ï¼›å¦‚æœåé¢æœä¸Šï¼Œåˆ™æ¸¸æˆç»“&gt; æŸã€‚</p><p>é—®1ï¼šåœ¨ä¸€å±€æ¸¸æˆä¸­å¾— 5 åˆ†çš„æ¦‚ç‡æ˜¯å¤šå°‘ï¼Ÿ<br>ç­”1ï¼šå¾— 5 åˆ†æ„å‘³ç€æŠ›æ·åºåˆ—ä¸ºã€Œæ­£æ­£æ­£æ­£åã€ï¼Œæ¦‚ç‡ä¸º (1/2)^5 = 1/32</p><p>é—®2ï¼šåœ¨ä¸€ç»„æ¸¸æˆä¸­ï¼Œæœ€é«˜å¾—åˆ†æ˜¯ 5 åˆ†ï¼Œè¯·é—®ç©äº†å¤šå°‘å±€ï¼Ÿ<br>ç­”2ï¼šå¤§æ¦‚ 32 å±€</p></blockquote><p>å¦‚æœæŠŠç¡¬å¸çš„æ­£åä¸¤é¢åˆ†åˆ«è®°ä½œ 0ã€1 çš„è¯ï¼Œé‚£ä¹ˆ HyperLogLog çš„è®¡æ•°åŸç†å°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼š</p><p>å¯¹äºæ¯ä¸€æ¡å¾…ç»Ÿè®¡çš„æ•°æ®ï¼ˆä¾‹å¦‚ user_idï¼‰ï¼Œè®¡ç®—å…¶ hash å€¼å¹¶å†™æˆäºŒè¿›åˆ¶å½¢å¼ï¼ˆ0-1 ä¸²ï¼‰ï¼Œç„¶åå°†å…¶çœ‹ä½œä¸€å±€æŠ›ç¡¬å¸æ¸¸æˆçš„è®°å½•ï¼Œå…¶ä¸­ï¼š</p><ul><li>0 ä»£è¡¨ç¡¬å¸æ­£é¢æœä¸Šã€‚</li><li>1 ä»£è¡¨ç¡¬å¸åé¢æœä¸Šã€‚</li></ul><p>ä¾‹å¦‚ hash(uid_345678)=00010010ï¼Œæ„å‘³ç€è¿™å±€æŠ›ç¡¬å¸æ¸¸æˆå‡ºç°è¿ç»­ 3 æ¬¡æ­£é¢æœä¸Šï¼Œç¬¬ 4 æ¬¡åé¢æœä¸Šï¼Œæ¸¸æˆç»“æŸï¼Œæœ€ç»ˆå¾—åˆ†ä¸º 4ã€‚ç¬¬ 4 ä½ä»¥åçš„åºåˆ—ä¸å½±å“å¾—åˆ†ï¼Œå¯ä»¥å¿½ç•¥ã€‚</p><p>æŒ‰ç…§ä¸Šè¿°æ­¥éª¤ï¼Œè®¡ç®—æ¯æ¡æ•°æ®å¯¹åº”çš„ã€Œå¾—åˆ†ã€ï¼Œå¹¶æ‰¾å‡ºå…¶ä¸­çš„æœ€é«˜åˆ† Î¼ã€‚é‚£ä¹ˆè¿™ç»„æ•°æ®çš„åŸºæ•°çš„æœŸæœ›ä¸ºï¼š</p><p>$$N = 2^Î¼$$</p><p>è¿™å°±æ˜¯åˆ©ç”¨æ¦‚ç‡è®ºæ¥ä¼°ç®—åŸºæ•°æ‰€ä¾æ®çš„åŸºæœ¬åŸç†ã€‚</p><p>åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­æ¶‰åŠäº†ä¸€ä¸ªé‡è¦æ­¥éª¤ï¼Œå°±æ˜¯å°†æ¯ä¸ªå¾…è§‚å¯Ÿçš„æ•°æ®è¿›è¡Œ hash æ“ä½œã€‚ä¸ºä»€ä¹ˆéœ€è¦ hash æ“ä½œï¼Œè€Œä¸æ˜¯ç›´æ¥è§‚å¯Ÿæ•°æ®æœ¬èº«å¯¹åº”çš„äºŒè¿›åˆ¶ä¸²å‘¢ï¼Ÿ</p><p>è¿™æ˜¯å› ä¸ºæ¸¸æˆè¦æ±‚æ¯æ¬¡å– 0 æˆ– 1 çš„æ¦‚ç‡æ˜¯å‡ç­‰çš„ï¼Œéƒ½æ˜¯ 0.5ï¼ˆè¿™æ ·æ•´å±€æ¸¸æˆæ˜¯ä¸€ä¸ª<a href="https://en.wikipedia.org/wiki/Bernoulli_process">ä¼¯åŠªåˆ©è¿‡ç¨‹</a>ï¼‰ã€‚æ¢è¨€ä¹‹ï¼Œè¦ç¡®ä¿è§‚å¯Ÿçš„ 0-1 ä¸²è¶³å¤Ÿéšæœºæ‰è¡Œã€‚å¦‚æœä¸åš hash çš„è¯åˆ™æ— æ³•ä¿è¯éšæœºæ€§ï¼Œä¾‹å¦‚å¯¹äº int ç±»å‹çš„æ•°æ®ï¼Œè¾ƒå°çš„å€¼å¦‚ 0ã€1ã€2 çš„äºŒè¿›åˆ¶ä¸²ä¸­åŒ…å«å¾ˆé•¿çš„è¿ç»­ 0ï¼Œå¯¼è‡´å¾—åˆ†å¾ˆé«˜ï¼Œè¿™æ˜¾ç„¶æ˜¯é”™è¯¯çš„ã€‚</p><p>HLL ä¸­å®é™…ä½¿ç”¨çš„ hash ç®—æ³•ä¸º <a href="https://en.wikipedia.org/wiki/MurmurHash">MurmurHash</a>ï¼Œå…¶ä¸»è¦ä¼˜åŠ¿æ˜¯éšæœºæ€§å¼ºå’Œå¿«é€Ÿã€‚</p><p>æ­¤å¤–ï¼Œæ¯”ç‰¹å¸ä¸­ä½¿ç”¨ hash å€¼çš„å‰å¯¼é›¶çš„ä¸ªæ•°æ¥å®šä¹‰æŒ–çŸ¿æ—¶çš„éš¾åº¦å€¼ <a href="https://en.bitcoin.it/wiki/Difficulty">Difficulty</a>ï¼Œå…¶è•´å«çš„æ€æƒ³æ˜¯å®Œå…¨ç›¸åŒçš„ã€‚å‰å¯¼é›¶ä¸ªæ•°è¶Šå¤šï¼Œæ„å‘³ç€è¦å°è¯•çš„ hash è®¡ç®—æ¬¡æ•°è¶Šå¤šï¼Œå¯¹åº”ç€åŸºæ•°è¶Šå¤§ï¼Œå…¶å·¥ä½œé‡/éš¾åº¦ä¹Ÿè¶Šé«˜ã€‚</p><h1>MVP ç‰ˆåŸºæ•°ä¼°è®¡ç®—æ³•</h1><p>æ ¹æ®ä¸Šé¢çš„è®¨è®ºï¼Œå®ç°ä¸€ä¸ªç®€å•çš„åŸºæ•°ä¼°è®¡ç®—æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_dv</span>(<span class="params">stream</span>):</span><br><span class="line">    max_z = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> stream:</span><br><span class="line">        h = murmur_hash(value)</span><br><span class="line">        z = leading_zeros_count(h)</span><br><span class="line">        <span class="keyword">if</span> z &gt; max_z:</span><br><span class="line">            max_z = z</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> &lt;&lt; (max_z + <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç®—æ³•è¶³å¤Ÿç®€å•ï¼Œè€Œä¸”ç†è®ºä¸Šæ˜¯æ²¡é—®é¢˜çš„ã€‚ä½†å®é™…ä¸Šåœ¨æ•°æ®é‡è¾ƒå°çš„æƒ…å†µä¸‹è¯¯å·®éå¸¸å¤§ï¼Œå› ä¸ºå‰å¯¼é›¶ä¸ªæ•°çš„å¶ç„¶æ€§å¤ªå¤§äº†ã€‚å°±å¥½æ¯”æŠ›ç¡¬å¸æ€»æ˜¯å®¹æ˜“å‡ºç°æŸä¸€æ¬¡è¿æ°”çˆ†æ£šçš„æƒ…å†µï¼Œä¸¥é‡æ‹‰é«˜æ€»ä½“çš„ä¼°ç®—å€¼ã€‚</p><p>è®¾æƒ³ä¸€ä¸‹ï¼Œå‡è®¾ä»…è¾“å…¥ä¸€æ¡æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®åˆšå¥½æœ‰ 1 ä¸ªå‰å¯¼é›¶ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼°è®¡å‡ºçš„åŸºæ•°ä¸º 2^(1+1)=4ï¼Œå¦‚æœåˆšå·§é‡åˆ°æ›´å¤šçš„å‰å¯¼é›¶ï¼Œé‚£ä¹ˆåå·®ä¼šæ›´å¤§ã€‚æœ€å…³é”®çš„æ˜¯ï¼Œè¿™äº›åå·®æ— æ³•é ç®—æ³•æœ¬èº«æ¥æ§åˆ¶ï¼Œå‡†ç¡®åº¦å…¨é è¿æ°”ã€‚</p><h1>LogLog ç®—æ³•</h1><p>ä¸ºäº†è§£å†³ MVP ç®—æ³•ä¸ç¨³å®šã€è¿æ°”æˆåˆ†å¤§çš„é—®é¢˜ï¼Œä¸€ç§æœ€ç®€å•çš„æ€è·¯å°±æ˜¯ã€Œåˆ†æ‹†è®¡ç®—æ±‚å¹³å‡å€¼ã€ï¼Œä¹Ÿå°±æ˜¯æŠŠè¾“å…¥æ•°æ®å‡åˆ†ä¸º $m$ ä»½ï¼ˆç§°ä¸ºæ¡¶ï¼‰ï¼Œæ¯ä¸€ä¸ªæ¡¶åˆ†åˆ«åº”ç”¨ MVP ç®—æ³•ï¼Œæœ€ç»ˆå¾—åˆ† <strong>$\bar{\mu}$ ä¸ºå„æ¡¶å¾—åˆ†çš„å¹³å‡å€¼</strong>ã€‚è¿™å°±æ˜¯ LogLog ç®—æ³•æ‰€é‡‡ç”¨çš„æ€è·¯ï¼ŒLogLog æ˜¯æ—©äº HyperLogLog è¯ç”Ÿçš„ä¸€ç§ç®—æ³•ã€‚</p><p>LogLog ç®—æ³•çš„è®¡ç®—å…¬å¼å¯è¡¨ç¤ºä¸ºï¼š</p><p>$$N=\alpha \cdot m \cdot 2^{\bar{\mu}}$$</p><p>å…¶ä¸­ï¼Œ$m$ ä¸ºåˆ†æ¡¶ä¸ªæ•°ï¼Œ$\bar{\mu}$ ä¸ºå„æ¡¶æœ€é«˜å¾—åˆ†çš„å¹³å‡å€¼ï¼Œ$\alpha$ ä¸ºä¿®æ­£ç³»æ•°ï¼Œç”¨äºä¿®æ­£ç®—æœ¯å¹³å‡æ•°å¸¦æ¥çš„ç³»ç»Ÿåå·®ã€‚$\alpha$ çš„è®¡ç®—è§„åˆ™å¦‚ä¸‹ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697329140171669732913934.png" alt=""></p><!-- $$\alpha_m=\left( m\int_0^\infty \left(log_2{\frac{2+u}{1+u}} \right)^m \text{d}u \right)^{-1} â‰ˆ \lbrace{}$$ --><p>æ ¹æ®ç®—æ³•çš„ç‰¹ç‚¹ï¼Œé€šå¸¸å°†åˆ†æ¡¶æ•° $m$ è®¾ä¸º 2 çš„æ•´æ•°æ¬¡å¹‚ã€‚ä¾‹å¦‚ $m=64=2^6$ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ hash å€¼çš„å‰ 6 ä¸ª bit æ¥è¡¨ç¤ºæ¡¶ç¼–å·ã€‚ä»ç¬¬ 7 ä¸ª bit å¼€å§‹ç»Ÿè®¡å‰å¯¼é›¶ä¸ªæ•°ã€‚</p><h1>HyperLogLog ç®—æ³•</h1><p>LogLog ç®—æ³•é€šè¿‡ã€Œåˆ†æ¡¶æ±‚å¹³å‡å€¼ã€çš„æ–¹å¼æé«˜äº†ä¼°ç®—ç»“æœçš„ç¨³å®šæ€§ï¼Œä½¿å¾—ç®—æ³•æ›´èƒ½æŠµå¾¡å¶ç„¶æ€§å¸¦æ¥çš„å½±å“ã€‚</p><p>ä½†è¿™ä¹ˆåšä»ç„¶ä¸å¤Ÿï¼Œå› ä¸ºç®—æœ¯å¹³å‡æ•°æœ‰ä¸€ä¸ªå¤©ç„¶çš„ç¼ºé™·ï¼Œå°±æ˜¯å®¹æ˜“å—åˆ°æå¤§/æå°å€¼çš„å½±å“ï¼Œä¸€ä¸ªç¦»ç¾¤ç‚¹å¯èƒ½æŠŠæœ€ç»ˆç»“æœä¸¥é‡å¸¦åã€‚ä¾‹å¦‚è€æ¿æœˆå…¥ 100000 å…ƒï¼Œ9 ä¸ªå‘˜å·¥å‡æœˆå…¥ 3000 å…ƒï¼Œé‚£ä¹ˆå¹³å‡æ”¶å…¥å°±æ˜¯ (100000+3000*9)/10=12700 å…ƒï¼Œè¿™è·ç¦»ç¾¤é‡Œä¸­çš„å¤§å¤šæ•°ï¼ˆå³ 9 ä¸ªå‘˜å·¥ï¼‰ç›¸å·®ç”šè¿œï¼Œä¸èƒ½åæ˜ æ™®éæƒ…å†µã€‚</p><p>å¦‚æœå°†ç®—æœ¯å¹³å‡æ•°æ”¹ä¸ºè°ƒå’Œå¹³å‡æ•°å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè°ƒå’Œå¹³å‡æ•°çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$\bar{x}=\frac{1}{\frac{1}{n}\sum_n\frac{1}{x_i}} = \frac{n}{\sum_n\frac{1}{x_i}}$$</p><p>ä½¿ç”¨è°ƒå’Œå¹³å‡æ•°è®¡ç®—å‡ºçš„å¹³å‡æ”¶å…¥ä¸º 10/(1/100000+9/3000)=3322ï¼Œæ¯”è¾ƒæ¥è¿‘ç¾¤ä½“ä¸­çš„æ™®éæƒ…å†µã€‚</p><p>HyperLogLog ç®—æ³•å¯¹äº LogLog ç®—æ³•çš„é‡è¦æ”¹è¿›å°±æ˜¯æŠŠç®—æœ¯å¹³å‡æ•°æ”¹æˆäº†è°ƒå’Œå¹³å‡æ•°ã€‚åŒæ—¶ï¼ŒHLL ä¸æ˜¯å…ˆæ±‚å¹³å‡å¾—åˆ†ï¼Œå†è®¡ç®—æŒ‡æ•°ï¼ˆå› ä¸ºè¿™ä¼šå¯¼è‡´ç¦»ç¾¤ç‚¹çš„æ•ˆåº”æŒ‡æ•°çº§æ”¾å¤§ï¼‰ï¼Œè€Œæ˜¯å…ˆè®¡ç®—å‡ºæ¯ä¸ªæ¡¶çš„åŸºæ•°ï¼Œç„¶åæ±‚è°ƒå’Œå¹³å‡æ•°ã€‚</p><p>HLL ç»Ÿè®¡åŸºæ•°çš„å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$ N=\alpha\cdot m \cdot \frac{m}{\sum_{i=1}^m \frac{1}{2^{\mu_i}}} $$</p><p>åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä¸ºäº†æé«˜å°æ ·æœ¬çš„å‡†ç¡®åº¦ï¼ŒHLL åœ¨ä¸Šè¿°å…¬å¼è®¡ç®—ç»“æœçš„åŸºç¡€ä¸Šè¿˜è¿›è¡Œäº†ä¸€æ¬¡ä¿®æ­£ã€‚å®Œæ•´è®¡ç®—æµç¨‹å‚è§ä¸‹å›¾ï¼š</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697331667431669733165968.png" alt=""></p><p>å‰é¢æåˆ°è¿‡ï¼Œåˆ†æ¡¶æ•°è¶Šå¤šè¶Šèƒ½æŠµå¾¡å¶ç„¶æ•ˆåº”å¸¦æ¥çš„å½±å“ï¼Œä½¿å¾—åŸºæ•°ä¼°è®¡çš„ç»“æœæ›´å‡†ç¡®ã€‚é‚£ä¹ˆå¯ä»¥æƒ³åˆ°ï¼ŒHLL ç®—æ³•çš„ä¼°ç®—ç²¾åº¦ï¼ˆç”¨<a href="https://en.wikipedia.org/wiki/Coefficient_of_variation">ç›¸å¯¹æ ‡å‡†è¯¯å·® RSD</a> æ¥è¡¨ç¤ºï¼‰ä¸åˆ†æ¡¶æ•° m ä¹‹é—´å­˜åœ¨è´Ÿç›¸å…³å…³ç³»ã€‚å…¶å®šé‡å…³ç³»å¦‚ä¸‹ï¼š</p><p>$$RSD = \frac{1.04}{\sqrt{m}}$$</p><p>æœ‰äº†è¿™ä¸ªå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ˜“åœ°é€šè¿‡æƒ³è¦è¾¾åˆ°çš„è¯¯å·®ç²¾åº¦æ¥å†³å®šåˆ†æ¡¶çš„ä¸ªæ•°ã€‚</p><h2 id="åˆå¹¶">åˆå¹¶</h2><p>HLL ç®—æ³•çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯å¯åˆå¹¶æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿé¢„å…ˆç»Ÿè®¡å„ä¸ªå­é›†çš„åŸºæ•°ï¼Œç„¶åæ±‡æ€»å¾—åˆ°æ€»ä½“åŸºæ•°ï¼Œæå¤§åœ°æé«˜äº†ç»Ÿè®¡æ•ˆç‡ã€‚</p><p>HLL ç»“æ„ä½“çš„åˆå¹¶è¿‡ç¨‹éå¸¸ç®€å•ï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ª HLL ç»“æ„ä½“æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ¡¶æ•°ç»„ã€‚å‡è®¾è¦å°†æ¡¶æ•°ç»„ a å’Œ b åˆå¹¶æˆæ¡¶æ•°ç»„ cï¼Œåªéœ€è¦ä» aã€b çš„å¯¹åº”ä½ç½®å–æœ€å¤§å€¼å³å¯ï¼Œä½¿ç”¨ Python ä»£ç æè¿°å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hll_merge</span>(<span class="params">a, b</span>):</span><br><span class="line">    m = <span class="built_in">len</span>(a)</span><br><span class="line">    c = [<span class="number">0</span>]*m</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">        c[i] = <span class="built_in">max</span>(a[i], b[i])</span><br><span class="line">    <span class="keyword">return</span> c</span><br></pre></td></tr></table></figure><p>åˆå¹¶åçš„æ¡¶æ•°ç»„æŒ‰ç…§ä¸Šæ–‡ä¸­çš„å…¬å¼ä¼°ç®—åŸºæ•°å³å¯ã€‚</p><h1>ç¤ºä¾‹</h1><p>Rob Grzywinski åˆ›å»ºäº†ä¸€ä¸ª HyperLogLog ç®—æ³•çš„ <a href="http://content.research.neustar.biz/blog/hll.html">demo</a> ç½‘ç«™ï¼Œå¯ä»¥ç›´è§‚åœ°ç†è§£ç®—æ³•çš„è®¡ç®—è¿‡ç¨‹ã€‚</p><p>ä¸‹å›¾ä¸­æ˜¾ç¤ºï¼Œè¾“å…¥æ•°æ® value=8188163ï¼Œå…¶ MurmurHash å€¼ä¸º 84796297ï¼ŒäºŒè¿›åˆ¶ä¸²è§å›¾ã€‚æ­¤å¤–ï¼Œå›¾ä¸­ m=64 ä»£è¡¨æœ‰ 64 ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶ä¸­çš„æœ€é«˜å¾—åˆ†ç»´æŠ¤åœ¨ä¸€ä¸ªè¡¨æ ¼ä¸­ã€‚</p><p>äºŒè¿›åˆ¶ä¸²çš„æœ€å 6 bit ç”¨äºè¡¨ç¤ºæ¡¶ (Register) ç¼–å·ï¼Œå³ <code>001001</code>(9)ï¼Œæ‰€ä»¥å½“å‰æ•°æ®åˆ’åˆ°ç¬¬ 9 æ¡¶ã€‚ä¸ºä»€ä¹ˆç”¨ 6 bit è¡¨ç¤ºæ¡¶ç¼–å·ï¼Ÿå› ä¸ºè¿™æ ·åˆšå¥½è¶³å¤ŸåŒºåˆ† 64 ä¸ªæ¡¶ã€‚å¦‚æœè¦æ±‚æ¡¶æ•°æ›´å¤šï¼Œåˆ™ç›¸åº”åœ°éœ€è¦æ›´å¤š bitã€‚</p><p>ç´§æ¥ç€çš„ 15 bit ç”¨äºç»Ÿè®¡å¾—åˆ†ï¼ˆä»å³ç«¯å¼€å§‹ï¼‰ï¼Œæœ¬ä¾‹ä¸­å¾—åˆ†ä¸º 2ï¼Œå› æ­¤ç¬¬ 9 ä¸ªæ¡¶ä¸­è®°å½• 2ã€‚ä¸ºä»€ä¹ˆåªç»Ÿè®¡ 15 ä¸ª bit å‘¢ï¼Ÿå› ä¸ºå·¥ç¨‹å®ç°ä¸­ register ç»“æ„ä½“æ˜¯æœ‰ç©ºé—´é™åˆ¶çš„ï¼Œæ­¤å¤„æ¯ä¸ª register å ç”¨ 4 bitï¼Œè®°å½•èŒƒå›´ä¸º 0~15ï¼Œæ‰€ä»¥èƒ½å®¹çº³çš„æœ€å¤§æ•°å­—å°±æ˜¯ 15ï¼Œå¦‚æœå¾—åˆ†å¤§äº 15 å°±è®°å½•ä¸ä¸Šäº†ã€‚</p><p>å¯ä»¥æƒ³è±¡ï¼Œæ¯ä¸ªæ¡¶å ç”¨ 4 bit çš„è¯èƒ½å¤Ÿç»Ÿè®¡çš„æ•°æ®é‡éå¸¸æœ‰é™ï¼Œå½“æ‰€æœ‰æ¡¶çš„å¾—åˆ†éƒ½ä¸º 15 æ—¶è¾¾åˆ°ä¸Šé™ï¼Œçº¦ä¸º 0.709*64*2^15=1486880 ä¸ªã€‚ä½†è€ƒè™‘åˆ°æ•´ä¸ª HLL ç»“æ„ä½“ä»…å ç”¨äº† 64*4bit=32byte çš„å­˜å‚¨ï¼Œç©ºé—´æ•ˆç‡æ˜¯éå¸¸æƒŠäººçš„ã€‚</p><p><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697333217441669733321293.png" alt=""></p><p>ä»ä¸Šé¢çš„æ¨å¯¼ä¸­å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ª HLL ç»“æ„ä½“æ‰€èƒ½ç»Ÿè®¡çš„åŸºæ•°èŒƒå›´ä¸å®ƒå ç”¨çš„ç©ºé—´å­˜åœ¨ä¸¤é‡ Log å…³ç³»ï¼Œè¿™ä¹Ÿæ˜¯ç®—æ³•è¢«ç§°ä¸º LogLog çš„åŸå› ã€‚</p><p>å›åˆ°ä¸Šé¢çš„ä¾‹å­å°±æ˜¯ï¼ŒåŸºæ•°å®¹é‡ $1486880 âˆ 2^{2^4}$ï¼Œå…¶ä¸­çš„&quot;4&quot;ä»£è¡¨æ¯ä¸ªæ¡¶å ç”¨ 4bit ç©ºé—´ã€‚</p><h1>ä¸šç•Œæ¡ˆä¾‹</h1><p>åœ¨å·¥ç¨‹å®è·µä¸­ï¼ŒHLL ç»“æ„ä½“çš„æ¡¶æ•°å’Œå®¹é‡é€šå¸¸æ˜¯å¯è°ƒå‚æ•°ï¼Œå½“æ•°æ®é‡å¢å¤§æˆ–è€…è¦æ±‚æ›´é«˜çš„ç²¾ç¡®åº¦æ—¶ï¼Œå¯ä»¥è°ƒé«˜å®¹é‡ã€‚</p><p>ä¸‹é¢åˆ—å‡ºä¸€äº›ä¸šç•Œä½¿ç”¨ HLL ç®—æ³•çš„ä¾‹å­ï¼š</p><p>1 . <a href="https://datasketches.apache.org/">Apache DataSketch</a></p><p>Apache DataSketch ç®—æ³•æ—ä¸­åŒ…å« HyperLogLog çš„å®ç°ï¼Œè¯¥ç®—æ³•æ—è¢«å¹¿æ³›ç”¨äºè®¸å¤šå¤§æ•°æ®åŸºç¡€ç»„ä»¶ä¸­ï¼Œç”¨äºæ”¯æŒåŸºæ•°ã€åˆ†ä½æ•°ç­‰çš„å¿«é€Ÿè®¡ç®—ã€‚ä¾‹å¦‚ï¼š</p><ul><li>Hive/Spark é€šè¿‡å®˜æ–¹ <a href="https://github.com/apache/datasketches-hive">UDXF</a> çš„æ–¹å¼ä½¿ç”¨ DataSketchï¼›</li><li>Apache Druid é€šè¿‡<a href="https://druid.apache.org/docs/latest/development/extensions-core/datasketches-extension.html">å®˜æ–¹æ’ä»¶</a>çš„å½¢å¼å¼•å…¥ DataSketch æ‰©å±•ï¼›</li><li>PostgreSQL ä¹Ÿé€šè¿‡<a href="https://github.com/apache/datasketches-postgresql">æ’ä»¶</a>å½¢å¼å¼•å…¥ DataSketch ç®—æ³•ã€‚</li></ul><p>2 . Redis</p><p>Redis ä¸­ä½¿ç”¨ <code>PFCOUNT</code> å‘½ä»¤æ¥è°ƒç”¨ HLL ç®—æ³•ã€‚</p><p>å…¶ HLL ç»“æ„ä½¿ç”¨äº† 2^14=16384 ä¸ªæ¡¶ï¼Œhash å€¼é‡‡ç”¨ 64bit è¡¨ç¤ºï¼Œé™¤äº†æ¡¶ç¼–å·ä¹‹å¤–å‰©ä½™çš„ 50 bit (64-14=50) å…¨éƒ¨ç”¨äºç»Ÿè®¡å¾—åˆ†ã€‚ä¸ºäº†ç¡®ä¿æ¡¶ä¸­è®°å½•çš„åˆ†æ•°æœ€å¤§èŒƒå›´é«˜äº 50ï¼Œæ¯ä¸ªæ¡¶éœ€è¦å ç”¨ 6 bit ç©ºé—´ï¼ˆ2^6&gt;50ï¼‰ã€‚è¿™æ ·ï¼Œæ€»ä½“çš„ç©ºé—´å ç”¨ä¸º 16384*6bit=12KBã€‚</p><p>å½“æ•°æ®é‡å¾ˆå°‘æ—¶ä¼šå­˜åœ¨å¤§é‡çš„ç©ºæ¡¶ï¼Œæ­¤æ—¶å‡ºäºä¼˜åŒ–ç›®çš„ï¼Œå¯ä»¥å€ŸåŠ©ç¨€ç–å­˜å‚¨çš„è¡¨ç¤ºæ–¹æ³•æ¥å‹ç¼©ç©ºé—´ï¼Œèƒ½å¤Ÿå–å¾—æ•°å€åˆ°ä¸Šåƒå€çš„å‹ç¼©ç‡ã€‚</p><p>3 . ClickHouse</p><p>ClickHouse ä¸­çš„ <a href="https://clickhouse.com/docs/zh/sql-reference/aggregate-functions/reference/uniq/#agg_function-uniq">uniq</a> å‡½æ•°èƒŒåé‡‡ç”¨çš„æ˜¯ HLL ç®—æ³•ã€‚</p><p>4 . Doris<br>Doris ä¸­ <a href="https://cloud.baidu.com/doc/DORIS/s/Ikmealrom#approx_count_distinct">approx_count_distinct</a> å‡½æ•°èƒŒåé‡‡ç”¨çš„ä¹Ÿæ˜¯ HLL ç®—æ³•ã€‚åŸç†ç±»ä¼¼ï¼Œä¸å†èµ˜è¿°ã€‚</p><h1>å»¶ä¼¸é˜…è¯»</h1><ul><li>HLL ç®—æ³•ä¸­æ¯ä¸ªæ¡¶ä»…è®°å½•è¯¥æ¡¶ä¸­æœ€å¤§çš„å¾—åˆ†ï¼Œè€Œå¿½ç•¥å…¶ä»–å¾—åˆ†ï¼Œå› æ­¤ç»å¤§å¤šæ•°æ•°æ®å®Œå…¨æ²¡æœ‰ç•™ä¸‹ä»»ä½•ç—•è¿¹å°±è¢«ä¸¢å¼ƒäº†ï¼Œä½†æœ€ç»ˆä¼°è®¡å‡ºæ¥çš„ç»“æœå´èƒ½ä½“ç°å‡ºè¿™äº›æ•°æ®çš„å­˜åœ¨ï¼Œæœ‰äº›åŒªå¤·æ‰€æ€ã€‚è¿™ä¸€ç‚¹å…¶å®ç¬¦åˆä¿¡æ¯è®ºçš„æ€æƒ³ï¼Œå³æ¦‚ç‡è¶Šå°çš„äº‹ä»¶æ‰€æºå¸¦çš„ä¿¡æ¯é‡è¶Šå¤§ï¼ˆ$S=-log_2p$ï¼‰ã€‚ç”±äºå¾—åˆ†æœ€é«˜çš„æ•°æ®å‡ºç°çš„æ¦‚ç‡æœ€ä½ï¼Œå› æ­¤æºå¸¦çš„ä¿¡æ¯é‡æœ€å¤§ï¼Œæ„å‘³ç€æˆ‘ä»¬ä»…æ•è·æµ·é‡æ•°æ®ä¸­æºå¸¦æœ€å¤§ä¿¡æ¯é‡çš„æ•°æ®ï¼Œè€Œä¸¢å¼ƒå…¶ä»–ä¿¡æ¯é‡è¾ƒå°‘çš„æ•°æ®ã€‚å¢åŠ åˆ†æ¡¶ä¸ªæ•°å¯ä»¥è®©æ•è·åˆ°çš„ä¿¡æ¯é‡çº¿æ€§å¢é•¿ï¼Œå› æ­¤èƒ½å¤Ÿæé«˜æœ€ç»ˆçš„ç²¾åº¦ã€‚</li><li>é€šè¿‡æ¦‚ç‡è®ºæ¥è®¡æ•°çš„åŸºæœ¬æ€æƒ³æ˜¯æ ¹æ®ã€Œå®éªŒè§‚å¯Ÿã€ä¸ã€Œæ¦‚ç‡ç†è®ºã€åæ¨å‡ºã€ŒèƒŒåçš„äº‹å®ã€ï¼Œè€Œä¸æ˜¯ç›´æ¥ç ”ç©¶ã€ŒèƒŒåçš„äº‹å®ã€ï¼Œè¿™ç§æ€æƒ³è¢«å¹¿æ³›ç”¨äºé™¤ HLL ä¹‹å¤–çš„å¾ˆå¤šåœ°æ–¹ï¼Œä¾‹å¦‚ï¼š<a href="https://en.wikipedia.org/wiki/Monte_Carlo_method#Overview">åˆ©ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ä¼°ç®—åœ†å‘¨ç‡</a>ã€<a href="https://en.wikipedia.org/wiki/Sunrise_problem">å¤ªé˜³å‡èµ·é—®é¢˜</a>ã€‚</li></ul><h1>å‚è€ƒ</h1><ul><li>è®ºæ–‡ <a href="http://algo.inria.fr/flajolet/Publications/FlFuGaMe07.pdf">HyperLogLog: the analysis of a near-optimal cardinality estimation algorithm</a></li><li><a href="http://dqyuan.top/2018/08/22/hyperloglog.html">æ¢ç´¢HyperLogLogç®—æ³•ï¼ˆå«Javaå®ç°ï¼‰</a></li><li><a href="http://content.research.neustar.biz/blog/hll.html">Sketch of the Day: HyperLogLog â€” Cornerstone of a Big Data Infrastructure</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> å¤§æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>DataSketches ç®—æ³•æ¦‚è¿°</title>
      <link href="/posts/b4f47739/"/>
      <url>/posts/b4f47739/</url>
      
        <content type="html"><![CDATA[<p>åœ¨æ•°æ®é¢†åŸŸï¼Œæœ‰å‡ ç±»ç»å…¸çš„æŸ¥è¯¢åœºæ™¯ï¼Œè¿™äº›æŸ¥è¯¢åœ¨å°æ•°æ®é‡ä¸‹å¾ˆå®¹æ˜“åšåˆ°ï¼Œä½†ä¸€æ—¦æ•°æ®é‡æ‰©å¤§ä¼ ç»Ÿæ€è·¯å°†å˜å¾—ä¸å¯è¡Œï¼Œå¿…é¡»é‡‡ç”¨ç‰¹å®šçš„æ•°æ®ç»“æ„ä¸ç®—æ³•æ¥æ”¯æŒï¼Œè¿™å°±æ˜¯ä»Šå¤©è¦è®¨è®ºçš„ DataSketches ç®—æ³•æ—ã€‚</p><span id="more"></span><h1>èƒŒæ™¯</h1><p>è¿™å‡ ç±»ç»å…¸çš„æŸ¥è¯¢åœºæ™¯åŒ…æ‹¬ï¼š</p><ol><li>åŸºæ•°ç»Ÿè®¡ // Unique User orÂ Count Distinct</li></ol><ul><li>ç»Ÿè®¡æŸæ®µæ—¶é—´å†…è®¿é—®æŸç½‘ç«™çš„ UV æ•°</li><li>ç»Ÿè®¡æŸæ®µæ—¶é—´å†…æ—¢è®¿é—®äº†é¡µé¢ A åˆè®¿é—®äº†é¡µé¢ B çš„ UV æ•°</li><li>ç»Ÿè®¡æŸæ®µæ—¶é—´å†…è®¿é—®äº†é¡µé¢ A ä½†æœªè®¿é—®é¡µé¢ B çš„ UV æ•°</li></ul><ol start="2"><li>åˆ†ä½æ•° // Quantile &amp; Histogram</li></ol><ul><li>ç»Ÿè®¡æŸæ®µæ—¶é—´å†…è®¿é—®é¡µé¢ A ä¸é¡µé¢ B å„è‡ªçš„ç­‰å¾…æ—¶é•¿ 95 åˆ†ä½æ•°ï¼Œä»¥åŠæ•´ä½“ç­‰å¾…æ—¶é•¿ 95 åˆ†ä½æ•°</li></ul><ol start="3"><li>TopN ç»Ÿè®¡ // Most Frequent Items</li></ol><ul><li>ç»Ÿè®¡æŸæ®µæ—¶é—´å†…æ’­æ”¾é‡æœ€å¤šçš„ 10 ä¸ªè§†é¢‘ï¼ˆçƒ­æ¦œåˆ—è¡¨ï¼‰</li></ul><ol start="4"><li>éšæœºé‡‡æ · // Sampling</li></ol><ul><li>ä»ä¸€ä¸ªæ•°æ®æµä¸­æ„é€ ä¸€ä¸ªå¤§å°ä¸º k çš„éšæœºæ ·æœ¬ï¼Œæ— è®ºæ•°æ®æµæœ‰å¤šé•¿ã€‚</li></ul><p>è¿™å‡ ç±»é—®é¢˜åœ¨æ•°æ®é‡ä¸å¤§çš„æƒ…å†µä¸‹éƒ½æ˜¯éå¸¸å®¹æ˜“å¤„ç†çš„ã€‚ä½†ä¸€æ—¦æ•°æ®åˆ°è¾¾ Billion é‡çº§ï¼Œå¸¸è§„ç®—æ³•å¯èƒ½è¦èŠ±è´¹æ•°å°æ—¶ç”šè‡³æ•°å¤©çš„æ—¶é—´ï¼Œå¹¶ä¸”å³ä½¿æä¾›å……è¶³çš„è®¡ç®—èµ„æºä¹Ÿäºäº‹æ— è¡¥ï¼Œå› ä¸ºè¿™å‡ ç±»é—®é¢˜éƒ½éš¾ä»¥å¹¶è¡ŒåŒ–å¤„ç†ã€‚</p><p><a href="https://datasketches.apache.org/">DataSketches</a> å°±æ˜¯ä¸ºäº†è§£å†³å¤§æ•°æ®åœºæ™¯ä¸‹çš„è¿™å‡ ç±»å…¸å‹é—®é¢˜è€Œè¯ç”Ÿçš„ä¸€ç»„ç®—æ³•ï¼Œæœ€åˆç”±é›…è™å¼€æºã€‚DataSketches ç®—æ³•ä»¥ç‰ºç‰²æŸ¥è¯¢ç»“æœçš„ç²¾ç¡®æ€§ä¸ºä»£ä»·ï¼Œå¯ä»¥åœ¨æå°çš„ç©ºé—´å†…å¹¶è¡Œã€å¿«é€Ÿåœ°è§£å†³ä¸Šè¿°å‡ ç±»é—®é¢˜ã€‚</p><h1>æ ¸å¿ƒæ€æƒ³</h1><p>DataSketches çš„å­—é¢å«ä¹‰ä¸ºã€æ•°æ®è‰å›¾ã€ï¼Œå…¶åŸºæœ¬æ€æƒ³æ˜¯æŠŠä¸€ä¸ªæºæºä¸æ–­çš„æ•°æ®æµæ±‡æ€»æˆä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œä¹Ÿå°±æ˜¯ sketchï¼ˆè‰å›¾ï¼‰ï¼Œä¹‹åå¯ä»¥ä» sketch ä¸­ä¼°ç®— (evaluate) å‡ºéœ€è¦çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p><p>sketch ä¸€èˆ¬å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</p><ol><li><p>Single-Pass / One-Touch<br>å¯ä»¥æŠŠ sketch ç†è§£ä¸ºä¸€ä¸ªçŠ¶æ€å­˜å‚¨å™¨ï¼Œå®ƒæ—¶åˆ»æ‰¿è½½ç€æ•°æ®æµè¿„ä»Šä¸ºæ­¢çš„æ‰€æœ‰å†å²ä¿¡æ¯ï¼Œå› æ­¤ sketch é€šå¸¸æ˜¯ single-pass çš„ï¼Œåªéœ€è¦éå†ä¸€éæ•°æ®å³å¯å–å¾—æ‰€éœ€çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</p></li><li><p>å ç”¨ç©ºé—´å°<br>ä¼ ç»Ÿçš„ç»Ÿè®¡æ–¹å¼éœ€è¦ç»´æŠ¤ä¸€ä¸ªå·¨å¤§çš„æ•°æ®åˆ—è¡¨ï¼Œä¸”éšç€æ•°æ®çš„è¾“å…¥è¶Šæ¥è¶Šå¤§ã€‚sketch å¯ä»¥åœ¨å¾ˆå°çš„å¸¸é‡ç©ºé—´å†…æ‘„å…¥æµ·é‡çš„æ•°æ®ï¼Œé€šå¸¸åœ¨ KB é‡çº§ã€‚è¿™ä½¿å¾— sketch åœ¨æµ·é‡æ•°æ®çš„ç»Ÿè®¡ä¸­éå¸¸æœ‰ä¼˜åŠ¿ã€‚<br><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697312156751669731215351.png" alt=""></p></li><li><p>å¯åˆå¹¶æ€§ (mergeability)<br>è¿™ä½¿å¾— sketch å¯ä»¥è‡ªç”±åœ°åˆ†å¸ƒå¼å¹¶è¡Œå¤„ç†å¤§é‡æ•°æ®ï¼Œå› æ­¤å…·æœ‰å¿«é€Ÿã€é«˜æ•ˆçš„ä¼˜åŠ¿ã€‚ä¾‹å¦‚ï¼Œåœ¨ç»Ÿè®¡åŸºæ•° (Distinct Value) æ—¶ï¼Œsketch å¯ä»¥è½»æ˜“åœ°å°†å±€éƒ¨ç»Ÿè®¡ç»“æœåˆå¹¶ä¸ºå…¨å±€ç»Ÿè®¡ç»“æœï¼Œè€Œç›´æ¥è®¡æ•°åˆ™åšä¸åˆ°è¿™ä¸€ç‚¹ï¼š<br>$$DV(uid | city=åŒ—äº¬orä¸Šæµ·) â‰  DV(uid | city=åŒ—äº¬) + DV(uid | city=ä¸Šæµ·)$$<br>$$sketch(uid | city=åŒ—äº¬orä¸Šæµ·) = sketch(uid | city=åŒ—äº¬) + sketch(uid | city=ä¸Šæµ·)$$<br>PS: ç¬¬äºŒä¸ªå¼å­ä¸­çš„åŠ å·ä»£è¡¨ sketch çš„åˆå¹¶æ“ä½œã€‚<br><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697313486761669731347974.png" alt=""></p></li><li><p>ä¸æä¾›ç²¾ç¡®çš„ç»Ÿè®¡å€¼ï¼Œä½†å¯è®¾å®šè¯¯å·®èŒƒå›´<br>sketch ä¸ºäº†èŠ‚çœç©ºé—´å¿…ç„¶ä¼šä¸¢å¤±ä¸€éƒ¨åˆ†ä¿¡æ¯ï¼Œå› æ­¤ç»Ÿè®¡ç»“æœä¸å¯èƒ½æ˜¯å®Œå…¨ç²¾ç¡®çš„ã€‚ä½†åœ¨ç°å®ä¸­ï¼Œè®¸å¤šåˆ†æå’Œå†³ç­–ä¹Ÿå¹¶ä¸è¦æ±‚æ•°æ®æ˜¯ç»å¯¹ç²¾ç¡®çš„ï¼Œæœ‰æ—¶å€™çŸ¥é“æŸä¸ªç»Ÿè®¡æ•°æ®åœ¨ 1% çš„è¯¯å·®èŒƒå›´å†…å¾€å¾€è·Ÿç²¾ç¡®çš„ç­”æ¡ˆä¸€æ ·æœ‰æ•ˆã€‚sketch å¯ä»¥åœ¨è®¡ç®—å¤æ‚åº¦ä¸è¯¯å·®ä¹‹é—´è¿›è¡Œæƒè¡¡ï¼Œè¶³ä»¥æ»¡è¶³å¤§æ•°æ®åœºæ™¯ä¸‹å¤§éƒ¨åˆ†çš„ç»Ÿè®¡éœ€æ±‚ã€‚</p><p>ä¸€ä¸ª sketch ç®—æ³•çš„ä½¿ç”¨æµç¨‹é€šå¸¸å¦‚ä¸‹ï¼ˆä»¥ HLL ä¸ºä¾‹ï¼‰ï¼š<br><img src="https://fastly.jsdelivr.net/gh/hzhu212/image-store@master/blog/16697313906761669731390065.png" alt=""></p></li></ol><h1>ç®—æ³•ä¸€è§ˆ</h1><p>åŸºæ•°ç»Ÿè®¡ // Unique User orÂ Count Distinctï¼š</p><ul><li><a href="https://datasketches.apache.org/docs/HLL/HLL.html">HLL Sketch</a>ï¼ˆè¯¦æƒ…å‚è€ƒä¸‹ä¸€ç¯‡åšæ–‡ï¼‰</li><li><a href="https://datasketches.apache.org/docs/CPC/CPC.html">CPC Sketch</a></li><li><a href="https://datasketches.apache.org/docs/Theta/ThetaSketchFramework.html">Theta Sketch</a></li><li><a href="https://datasketches.apache.org/docs/Tuple/TupleOverview.html">Tuple Sketch</a></li></ul><p>åˆ†ä½æ•° // Quantile &amp; Histogramï¼š</p><ul><li><a href="https://datasketches.apache.org/docs/Quantiles/OrigQuantilesSketch.html">Original QuantilesSketch</a> + <a href="https://datasketches.apache.org/docs/KLL/KLLSketch.html">KLL Floats Sketch</a></li><li><a href="https://arxiv.org/pdf/1902.04023.pdf">T-Digest</a></li></ul><p>TopN ç»Ÿè®¡ // Most Frequent Itemsï¼š</p><ul><li><a href="https://datasketches.apache.org/docs/Frequency/FrequentDistinctTuplesSketch.html">Items Sketch</a>ï¼ˆåŸºäº Misra-Gries ç®—æ³•ï¼‰</li></ul><p>éšæœºé‡‡æ · // Samplingï¼š</p><ul><li><a href="https://datasketches.apache.org/docs/Sampling/ReservoirSampling.html">Reservoir Sampling</a></li></ul><h1>å®é™…åº”ç”¨</h1><p>ç›´æ¥ä½¿ç”¨ï¼š</p><ul><li>Hive/Spark (<a href="https://github.com/apache/datasketches-hive">UDXF</a>)</li><li>Druid (<a href="https://druid.apache.org/docs/latest/development/extensions-core/datasketches-extension.html">Druid DataSketches Extension</a>)</li><li>PostgreSQL (<a href="https://github.com/apache/datasketches-postgresql">extension</a>)</li></ul><p>ä½¿ç”¨ç›¸å…³ç®—æ³•ï¼Œä½†æœªå¼•ç”¨ä»£ç åº“ï¼ˆåˆ é™¤çº¿è¡¨ç¤ºæœªä½¿ç”¨ DataSketch ç›¸å…³ç®—æ³•ï¼‰ï¼š</p><ul><li>ClickHouse (<a href="https://clickhouse.com/docs/zh/sql-reference/aggregate-functions/reference/uniq/#agg_function-uniq">uniq</a>: HLL; <a href="https://clickhouse.com/docs/zh/sql-reference/aggregate-functions/reference/quantile/">quantile</a>: Reservoir Sampling; <s>topK: Space-Saving</s>)</li><li>Doris (<a href="https://cloud.baidu.com/doc/DORIS/s/Ikmealrom#approx_count_distinct">approx_count_distinct</a>: HLL; <s><a href="https://cloud.baidu.com/doc/DORIS/s/Ikmealrom#percentile_approx">percentile_approx</a>: T-Digest; <a href="https://cloud.baidu.com/doc/DORIS/s/Ikmealrom#topn">topn</a>: Space-Saving</s>)</li><li>Redis (<s>åŸºæ•°ç»Ÿè®¡ï¼š1. SCARD-åŸºäºé›†åˆï¼›2. BITCOUNT-åŸºäºbitmapï¼›</s> 3. PFCOUNT-HLLã€‚åˆ†ä½æ•°ï¼š<s>TDIGEST-åŸºäº T-Digest</s>)</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> å¤§æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€æ–‡ç†è§£Pythonå¯¼å…¥æœºåˆ¶</title>
      <link href="/posts/b9859a94/"/>
      <url>/posts/b9859a94/</url>
      
        <content type="html"><![CDATA[<p>Python çš„ import æœºåˆ¶æ˜¯æœ€ä»¤ç”¨æˆ·å›°æƒ‘çš„åœ°æ–¹ä¹‹ä¸€ï¼Œåœ¨å®è·µä¸­éå¸¸å®¹æ˜“å‡ºé”™ï¼Œç›¸ä¿¡è¢« <code>ImportError</code> å’Œ <code>ModuleNotFoundError</code> æŠ˜ç£¨è¿‡çš„åŒå­¦éƒ½å¯¹æ­¤æ·±æœ‰ä½“ä¼šã€‚æœ¬æ–‡å®Œæ•´åœ°æ¢³ç† Python çš„å„ç§å¯¼å…¥é€»è¾‘ï¼ŒåŠ›æ±‚åœ¨å®è·µä¸­é¿å‘å¹¶æå‡ºä¸€äº›æœ€ä½³å®è·µã€‚</p><span id="more"></span><p>PSï¼šæœ¬æ–‡ä¸­çš„å¯¼å…¥è¯­å¥å‡ä»¥å¦‚ä¸‹æ‰€ç¤ºçš„ç›®å½•ç»“æ„ä¸ºä¾‹è¿›è¡Œæ¼”ç¤ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package/</span><br><span class="line">    __init__.py</span><br><span class="line">    subpackage1/</span><br><span class="line">        __init__.py</span><br><span class="line">        moduleX.py</span><br><span class="line">        moduleY.py</span><br><span class="line">    subpackage2/</span><br><span class="line">        __init__.py</span><br><span class="line">        moduleZ.py</span><br><span class="line">    moduleA.py</span><br></pre></td></tr></table></figure><p>Python çš„å¯¼å…¥è¡Œä¸ºå¯ä»¥åˆ†ä¸ºç»å¯¹å¯¼å…¥ä¸ç›¸å¯¹å¯¼å…¥ä¸¤ç±»ï¼š</p><h2 id="ç»å¯¹å¯¼å…¥">ç»å¯¹å¯¼å…¥</h2><p>ç»å¯¹å¯¼å…¥å³æŒ‡å®š package æˆ– module çš„ç»å¯¹åç§°æˆ–è·¯å¾„ï¼Œç»å¸¸ç”¨äºå¯¼å…¥å†…ç½®åº“æˆ–ç¬¬ä¸‰æ–¹åº“ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os        <span class="comment"># å¯¼å…¥å†…ç½®åº“</span></span><br><span class="line"><span class="keyword">import</span> requests  <span class="comment"># å¯¼å…¥ç¬¬ä¸‰æ–¹åº“</span></span><br></pre></td></tr></table></figure><p>äº‹å®ä¸Šï¼Œç»å¯¹å¯¼å…¥æ˜¯é€šè¿‡ä¾æ¬¡æœç´¢ <code>sys.path</code> åˆ—è¡¨ä¸­çš„æ‰€æœ‰è·¯å¾„æ¥å®Œæˆçš„ï¼Œè¿™ä¸€ç‚¹ç±»ä¼¼äºæ“ä½œç³»ç»Ÿçš„ <code>PATH</code> ç¯å¢ƒå˜é‡ã€‚ä¸€ä¸ªç›®å½•åªè¦åŠ å…¥åˆ°äº† <code>sys.path</code> ä¸­ï¼Œé‚£ä¹ˆå…¶ä¸­ç›´æ¥åŒ…å«çš„ä»»æ„ package æˆ– module å‡å¯å®è¡Œç»å¯¹å¯¼å…¥ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">path = <span class="string">&#x27;/path/to/package&#x27;</span></span><br><span class="line"><span class="keyword">if</span> path <span class="keyword">not</span> <span class="keyword">in</span> sys.path:</span><br><span class="line">    sys.path.insert(<span class="number">0</span>, path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> moduleA</span><br><span class="line"><span class="keyword">import</span> subpackage1.moduleX</span><br><span class="line"><span class="keyword">from</span> subpackage1 <span class="keyword">import</span> moduleY</span><br><span class="line"><span class="keyword">import</span> subpackage2</span><br></pre></td></tr></table></figure><p>é™¤äº†åœ¨ä»£ç è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ  <code>sys.path</code> å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç¯å¢ƒå˜é‡å¯ä»¥åœ¨ Python è¿›ç¨‹å¯åŠ¨æ—¶è®¾å®š <code>sys.path</code> çš„åˆå§‹å€¼ï¼Œå³ <code>PYTHONPATH</code>ã€‚ä¸€äº›éœ€è¦ç»å¸¸å¼•ç”¨çš„æœ¬åœ°ç›®å½•å¯ä»¥åŠ å…¥ <code>PYTHONPATH</code> ä¸­ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½åœ¨ä»£ç ä¸­ä¿®æ”¹ <code>sys.path</code> äº†ã€‚</p><p>æ­¤å¤–ï¼Œé€šè¿‡ Python å‘½ä»¤å¯åŠ¨è„šæœ¬æˆ–æ¨¡å—æ—¶ä¼šæŠŠçˆ¶è¿›ç¨‹ï¼ˆé€šå¸¸æ˜¯å‘½ä»¤è¡Œï¼‰çš„å½“å‰ç›®å½•åŠ å…¥ <code>sys.path</code> ä¸­ï¼Œå› æ­¤å½“å‰ç›®å½•ä¸‹çš„ä»»æ„ package æˆ– module ä¹Ÿå¯ä»¥ç›´æ¥è¿›è¡Œç»å¯¹å¯¼å…¥ã€‚ä¾‹å¦‚åœ¨ shell ä¸­æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤è°ƒç”¨ Python è„šæœ¬ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /path/to/package</span><br><span class="line">python moduleA.py  <span class="comment"># or python -m moduleA</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆåœ¨ <a href="http://moduleA.py">moduleA.py</a> ä¸­å¯ä»¥è¿›è¡Œä»¥ä¸‹ç»å¯¹å¯¼å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subpackage1.moduleX</span><br><span class="line"><span class="keyword">from</span> subpackage1 <span class="keyword">import</span> moduleY</span><br><span class="line"><span class="keyword">import</span> subpackage2</span><br></pre></td></tr></table></figure><h2 id="ç›¸å¯¹å¯¼å…¥">ç›¸å¯¹å¯¼å…¥</h2><p>ç›¸å¯¹å¯¼å…¥æ˜¯æŒ‡<strong>åŒä¸€ä¸ªé¡¶å±‚ package å†…éƒ¨ä¸åŒ module ä¹‹é—´çš„å¯¼å…¥è¡Œä¸º</strong>ï¼Œè¿™æ˜¯å¤§å‰æã€‚å¾ˆå¤šæ–‡ç« åŒ…æ‹¬<a href="https://docs.python.org/3/reference/import.html#package-relative-imports">å®˜æ–¹æ–‡æ¡£</a>åœ¨è®²è§£ç›¸å¯¹å¯¼å…¥æ—¶å¾€å¾€æ²¡æœ‰å¼ºè°ƒè¿™ä¸ªå‰æï¼Œå¯¼è‡´å¤§é‡çš„è¯¯è§£ã€‚</p><p>ç›¸å¯¹å¯¼å…¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå‰å¯¼çš„ <code>.</code>ï¼Œå…¶æ ¼å¼ä¸º <code>from .xxx import yyy</code>ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> moduleA</span><br><span class="line"><span class="keyword">from</span> .subpackage1 <span class="keyword">import</span> moduleX</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>.</code> ä»£è¡¨å½“å‰ packageï¼Œ<code>..</code> ä»£è¡¨ä¸Šå±‚ packageï¼Œ<code>...</code> ä»£è¡¨ä¸Šä¸Šå±‚ packageï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§ç§°ä¸ºâ€œéšå¼ç›¸å¯¹å¯¼å…¥â€çš„æ–¹å¼ï¼Œå…¶å¯¼å…¥è¯­å¥æ ¼å¼ä¸ç»å¯¹å¯¼å…¥å®Œå…¨ä¸€æ ·ã€‚ä¾‹å¦‚åœ¨ moduleX ä¸­å¼•ç”¨ moduleYï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> moduleY                   <span class="comment"># éšå¼ç›¸å¯¹å¯¼å…¥</span></span><br><span class="line"><span class="keyword">from</span> . <span class="keyword">import</span> moduleY            <span class="comment"># æ˜¾å¼ç›¸å¯¹å¯¼å…¥</span></span><br></pre></td></tr></table></figure><p>éšå¼ç›¸å¯¹å¯¼å…¥å®¹æ˜“ä¸ç»å¯¹å¯¼å…¥æ··æ·†ï¼Œéå¸¸ä¸æ¨èï¼Œå·²è¢« Python3 åºŸå¼ƒã€‚å¦‚æœå¸Œæœ›åœ¨ä½¿ç”¨ Python2 æ—¶ä¹ŸåºŸå¼ƒè¿™ç§è¯­æ³•ï¼Œå¯ä»¥åœ¨ä»£ç ä¸­åŠ ä¸Šä»¥ä¸‹è¯­å¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> __future__ <span class="keyword">import</span> absolute_import</span><br></pre></td></tr></table></figure><p>åæ–‡ä¸­æ‰€æåˆ°çš„ç›¸å¯¹å¯¼å…¥å¦‚æ— ç‰¹æ®Šè¯´æ˜å‡æŒ‡æ˜¾å¼ç›¸å¯¹å¯¼å…¥ã€‚</p><p>åœ¨ç›¸å¯¹å¯¼å…¥ä¸­ï¼Œå½“ç›®å½•ç»“æ„ä¸å¯¼å…¥è¯­å¥å‡ç¡®å®šæ—¶ï¼Œèƒ½å¦æ–­å®šä¸€ä¸ªç»å¯¹å¯¼å…¥/ç›¸å¯¹å¯¼å…¥ä¸€å®šæ­£ç¡®æˆ–é”™è¯¯çš„ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯ä¸èƒ½ï¼Œéœ€è¦è§†æƒ…å†µè€Œå®šã€‚æ ¹æ®ç¨‹åºè°ƒèµ·çš„æ–¹å¼ä¸åŒï¼ŒåŒæ ·çš„ import è¯­å¥æœ‰æ—¶å€™æ˜¯æ­£ç¡®çš„ï¼Œæœ‰æ—¶å€™ä¼šæŠ¥é”™ã€‚è¿™å°±æ˜¯ç›¸å¯¹å¯¼å…¥æœ€è®©äººå›°æƒ‘çš„åœ°æ–¹ã€‚</p><p>å¯¹æ­¤ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ Python ç¨‹åºçš„ä¸åŒè°ƒèµ·æ–¹å¼ã€‚</p><h3 id="Python-ç¨‹åºçš„ä¸‰ç§è°ƒèµ·æ–¹å¼">Python ç¨‹åºçš„ä¸‰ç§è°ƒèµ·æ–¹å¼</h3><ol><li>ä½œä¸ºè„šæœ¬ç›´æ¥è¿è¡Œï¼š<code>python package/subpackage1/moduleX.py</code></li><li>ä½œä¸ºæ¨¡å—ç›´æ¥è¿è¡Œï¼š<code>python -m package.subpackage1.moduleX</code></li><li>ä»åˆ«çš„æ¨¡å—ä¸­å¯¼å…¥ï¼š<code>import package.subpackage1.moduleX</code></li></ol><p>Python çš„å¯¼å…¥æœºåˆ¶ä¾èµ– <code>sys.path</code>ã€<code>__package__</code> å’Œ <code>__name__</code> ä¸‰ä¸ªå˜é‡ã€‚ä»¥ä¸Šä¸‰ç§è°ƒç”¨æ–¹å¼ä¼šå¯¹è¿™ä¸‰ä¸ªå˜é‡äº§ç”Ÿä¸åŒçš„ä½œç”¨ã€‚å½“æ‰§è¡Œåˆ° <code>moduleX.py</code> å†…éƒ¨æ—¶ï¼Œæœ‰ï¼š</p><ol><li>æ–¹å¼ 1ï¼š<code>__package__</code> ä¸º <code>None</code>; <code>__name__</code> ä¸º <code>'__main__'</code>; <strong>å½“å‰ç›®å½•å’Œè„šæœ¬æ‰€åœ¨ç›®å½•</strong>è¢«åŠ å…¥ <code>sys.path</code>ã€‚</li><li>æ–¹å¼ 2ï¼š<code>__package__</code> ä¸º <code>'package'</code>; <code>__name__</code> ä¸º <code>'__main__'</code>; <strong>å½“å‰ç›®å½•</strong>è¢«åŠ å…¥ <code>sys.path</code>ã€‚</li><li>æ–¹å¼ 3ï¼š<code>__package__</code> ä¸º <code>'package'</code>; <code>__name__</code> ä¸º <code>'moduleA'</code>ã€‚<code>sys.path</code> ä¸­å…·ä½“åŠ å…¥äº†ä»€ä¹ˆè·¯å¾„ï¼Œè¦çœ‹ç¨‹åºå…¥å£æ˜¯æ€ä¹ˆè°ƒèµ·çš„ã€‚</li></ol><p><strong>æ‰€è°“ç›¸å¯¹å¯¼å…¥ï¼Œç›¸å¯¹çš„å°±æ˜¯ <code>__package__</code> æ‰€ä»£è¡¨çš„åŒ…å</strong>ã€‚å½“æ‰§è¡Œ <code>from .moduleY import func</code> æ—¶ï¼Œå®é™…ä¸Šç›¸å½“äºè§£æ <code>from __package__.moduleY import func</code>ã€‚å¦‚æœ <code>__package__</code> ä¸º <code>None</code>ï¼Œåˆ™ä¼šè§£æ <code>from __name__.moduleY import func</code>ï¼ˆåæ–‡è®¨è®º <code>__package__</code> çš„å–å€¼æ—¶ï¼Œå‡å·²åŒ…å«è¯¥é™çº§é€»è¾‘ï¼‰ã€‚</p><p>ç›¸å¯¹å¯¼å…¥å¯èƒ½æŠ›å‡ºçš„é”™è¯¯åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><p>å¦‚æœ <code>__package__</code> ä¸º <code>''</code>ï¼ˆä¸€èˆ¬å‡ºç°åœ¨ç±»ä¼¼ <code>python -m moduleX</code> è¿™æ ·çš„è°ƒç”¨æ–¹å¼ä¸­ï¼‰ï¼Œä¼šæŠ›å‡º <code>ImportError: attempted relative import with no known parent package</code> é”™è¯¯ã€‚</p></li><li><p>å¦‚æœ <code>__package__</code> ä¸ä¸ºç©ºï¼Œä½†åœ¨ <code>sys.path</code> çš„æ‰€æœ‰è·¯å¾„ä¸­å‡æœªæœç´¢åˆ° <code>__package__</code> æ‰€ä»£è¡¨çš„åŒ…åï¼Œä¼šæŠ›å‡ºç±»ä¼¼ <code>ModuleNotFoundError: No module named 'xxxpackage.moduleY'; 'xxxpackage' is not a package</code> çš„é”™è¯¯ã€‚</p></li><li><p>å¦‚æœ <code>__package__</code> ä¸ä¸ºç©ºä¸”å­˜åœ¨å¯¹åº”çš„åŒ…ï¼Œä½†å…¶ä¸­æ²¡æœ‰ <code>moduleY</code> æ¨¡å—ï¼Œä¼šæŠ›å‡ºç±»ä¼¼ <code>ModuleNotFoundError: No module named 'xxxpackage.moduleY'</code> çš„é”™è¯¯ã€‚</p></li><li><p>å¦‚æœè¯•å›¾ä»ä¸Šçº§ package ä¸­è¿›è¡Œç›¸å¯¹å¯¼å…¥ï¼Œä¾‹å¦‚ <code>from ..moduleA import func</code>ï¼Œé‚£ä¹ˆå¿…é¡»ç¡®ä¿ <code>__package__</code> æ˜¯å¤šçº§ packageï¼Œä¾‹å¦‚ <code>__package__ = 'package.subpackage1'</code>ã€‚å¦‚æœ package çº§åˆ«æ•°å°äºä¸Šæº¯çš„çº§åˆ«æ•°ï¼Œä¾‹å¦‚ <code>__package__ = 'subpackage1'</code>ï¼Œå°†ä¼šæŠ›å‡º <code>ValueError: attempted relative import beyond top-level package</code> é”™è¯¯ã€‚</p></li></ul><p>ç”±æ­¤å¯è§ï¼Œç›¸å¯¹å¯¼å…¥å¿…é¡»ç¡®ä¿ <code>__package__</code> æœ‰åˆé€‚çš„å–å€¼ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ç”¨äºä¸Šè¿°ç¬¬ 2ã€3 ç§è°ƒèµ·æ–¹å¼ã€‚å°½ç®¡ç¬¬ 1 ç§è°ƒèµ·æ–¹å¼æ˜¯æœ€å¸¸ç”¨çš„ï¼Œä½†ä¸å¹¸çš„æ˜¯åœ¨è¿™ç§æ–¹å¼ä¸‹åªèƒ½ä½¿ç”¨ç»å¯¹å¯¼å…¥ï¼Œä¸èƒ½ä½¿ç”¨ç›¸å¯¹å¯¼å…¥ã€‚</p><h2 id="ç»å¯¹å¯¼å…¥ä¸ç›¸å¯¹å¯¼å…¥å¯¹æ¯”">ç»å¯¹å¯¼å…¥ä¸ç›¸å¯¹å¯¼å…¥å¯¹æ¯”</h2><p>ç»å¯¹å¯¼å…¥ç”±äºå…¶å«ä¹‰éå¸¸æ˜ç¡®ï¼Œä¸”åœ¨ä»»ä½•è°ƒèµ·æ–¹å¼ä¸­å‡å¯ä»¥ä½¿ç”¨ï¼Œå› è€Œè¢« PEP8 æ‰€æ¨èã€‚</p><p>ç»å¯¹å¯¼å…¥å”¯ä¸€çš„ç¼ºç‚¹æ˜¯å°† package åç§°ç¡¬ç¼–ç åˆ°äº†ä»£ç ä¸­ï¼Œä¼šå¸¦æ¥ç»´æŠ¤é—®é¢˜ã€‚ä¾‹å¦‚ä¿®æ”¹äº†æŸä¸€é¡¶å±‚åŒ…åä¹‹åï¼Œé‚£ä¹ˆå…¶å†…éƒ¨çš„æ‰€æœ‰ç»å¯¹å¯¼å…¥ä»£ç éƒ½éœ€è¦ç›¸åº”ä¿®æ”¹ã€‚</p><p>è€Œç›¸å¯¹å¯¼å…¥å°±å¯ä»¥é¿å…è¿™ç§ç»´æŠ¤é—®é¢˜ï¼Œå½“åŒ…åä¿®æ”¹ä¹‹åå†…éƒ¨ä»£ç æ— éœ€åšä»»ä½•æ”¹åŠ¨ã€‚ä½†ç›¸å¯¹å¯¼å…¥çš„è§£ææœºåˆ¶æ›´åŠ å¤æ‚ï¼Œå®¹æ˜“å› ä¸ºä½¿ç”¨ä¸å½“è€ŒæŠ¥é”™ã€‚å¹¶ä¸”ä½¿ç”¨äº†ç›¸å¯¹å¯¼å…¥çš„ py æ–‡ä»¶æ— æ³•å†ä½œä¸ºè„šæœ¬ç›´æ¥è¿è¡Œã€‚</p><h2 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</h2><p>ç»“åˆç»å¯¹å¯¼å…¥ä¸ç›¸å¯¹å¯¼å…¥äºŒè€…çš„ä¼˜ç¼ºç‚¹ï¼Œæ¨èä¸€ç§å…³äºç»å¯¹å¯¼å…¥ä¸ç›¸å¯¹å¯¼å…¥çš„æœ€ä½³å®è·µï¼š</p><ol><li>ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨ç»å¯¹å¯¼å…¥ã€‚</li><li>å¦‚æœè¦æ„å»ºä¸€ä¸ª package ä¾›å¤–éƒ¨è°ƒç”¨ï¼Œä¾‹å¦‚ç»™å…¶ä»–è„šæœ¬è°ƒç”¨æˆ–å‘å¸ƒåˆ° <a href="https://pypi.org/">PYPI</a>ï¼Œåˆ™åœ¨è¯¥ package å†…éƒ¨ä½¿ç”¨ç›¸å¯¹å¯¼å…¥ã€‚</li><li>å¯¹äºä½¿ç”¨äº†ç›¸å¯¹å¯¼å…¥çš„è„šæœ¬ï¼Œå¦‚æœæƒ³ç›´æ¥è¿è¡Œå…¶ä¸­çš„ <code>if __name__ == '__main__':</code> ä»£ç å—ï¼ˆé€šå¸¸ç”¨äºç®€å•æµ‹è¯•å½“å‰ module çš„åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ <code>python -m package.module</code> çš„æ–¹å¼è°ƒèµ·ï¼Œé¿å…ä½¿ç”¨ <code>python package/module.py</code>ã€‚</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LSM Treeï¼šä¸€ç§æ”¯æŒé«˜æ•ˆè¯»å†™çš„å­˜å‚¨å¼•æ“</title>
      <link href="/posts/2d7c5edb/"/>
      <url>/posts/2d7c5edb/</url>
      
        <content type="html"><![CDATA[<p><strong>LSM tree (log-structured merge-tree)</strong> æ˜¯ä¸€ç§å¯¹é¢‘ç¹å†™æ“ä½œéå¸¸å‹å¥½çš„æ•°æ®ç»“æ„ï¼ŒåŒæ—¶å…¼é¡¾äº†æŸ¥è¯¢æ•ˆç‡ã€‚LSM tree æ˜¯è®¸å¤š key-value å‹æˆ–æ—¥å¿—å‹æ•°æ®åº“æ‰€ä¾èµ–çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ <a href="https://cloud.google.com/bigtable">BigTable</a>ã€<a href="https://hbase.apache.org/">HBase</a>ã€<a href="https://cassandra.apache.org/">Cassandra</a>ã€<a href="https://github.com/google/leveldb">LevelDB</a>ã€<a href="https://www.sqlite.org/">SQLite</a>ã€<a href="https://www.scylladb.com/">Scylla</a>ã€<a href="https://rocksdb.org/">RocksDB</a> ç­‰ã€‚</p><span id="more"></span><p>LSM tree ä¹‹æ‰€ä»¥æœ‰æ•ˆæ˜¯åŸºäºä»¥ä¸‹äº‹å®ï¼šç£ç›˜æˆ–å†…å­˜çš„è¿ç»­è¯»å†™æ€§èƒ½è¿œé«˜äºéšæœºè¯»å†™æ€§èƒ½ï¼Œæœ‰æ—¶å€™è¿™ç§å·®è·å¯ä»¥è¾¾åˆ°ä¸‰ä¸ªæ•°é‡çº§ä¹‹é«˜ã€‚è¿™ç§ç°è±¡ä¸ä»…å¯¹ä¼ ç»Ÿçš„æœºæ¢°ç¡¬ç›˜æˆç«‹ï¼Œå¯¹ SSD ç¡¬ç›˜ä¹ŸåŒæ ·æˆç«‹ã€‚å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612419000098-1612419000090.png" alt="ç¡¬ç›˜å’Œå†…å­˜çš„éšæœºè¯»å†™ä¸è¿ç»­è¯»å†™æ€§èƒ½å¯¹æ¯”"></p><p>LSM tree åœ¨å·¥ä½œè¿‡ç¨‹ä¸­å°½å¯èƒ½é¿å…éšæœºè¯»å†™ï¼Œå……åˆ†å‘æŒ¥äº†ç£ç›˜è¿ç»­è¯»å†™çš„æ€§èƒ½ä¼˜åŠ¿ã€‚</p><h2 id="SSTable">SSTable</h2><p>LSM tree æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸Šä¹‹åçš„ç»“æ„ç§°ä¸º <strong>Sorted Strings Table (SSTable)</strong>ã€‚é¡¾åæ€ä¹‰ï¼ŒSSTable ä¿å­˜äº†<strong>æ’åº</strong>åçš„æ•°æ®ï¼ˆå®é™…ä¸Šæ˜¯æŒ‰ç…§ key æ’åºçš„ key-value å¯¹ï¼‰ã€‚æ¯ä¸ª SSTable å¯ä»¥åŒ…å«å¤šä¸ªå­˜å‚¨æ•°æ®çš„æ–‡ä»¶ï¼Œç§°ä¸º segmentï¼Œæ¯ä¸ª segment å†…éƒ¨éƒ½æ˜¯æœ‰åºçš„ï¼Œä½†ä¸åŒ segment ä¹‹é—´æ²¡æœ‰é¡ºåºå…³ç³»ã€‚ä¸€ä¸ª segment ä¸€æ—¦ç”Ÿæˆä¾¿ä¸å†ä¿®æ”¹ï¼ˆimmutableï¼‰ã€‚ä¸€ä¸ª SSTable çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612358955833-1612358955820.png" alt="SSTable"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ª segment å†…éƒ¨çš„æ•°æ®éƒ½æ˜¯æŒ‰ç…§ key æ’åºçš„ã€‚ä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»æ¯ä¸ª segment æ˜¯å¦‚ä½•ç”Ÿæˆçš„ã€‚</p><h2 id="å†™å…¥æ•°æ®">å†™å…¥æ•°æ®</h2><p>LSM tree çš„æ‰€æœ‰å†™æ“ä½œå‡ä¸º<strong>è¿ç»­å†™</strong>ï¼Œå› æ­¤æ•ˆç‡éå¸¸é«˜ã€‚ä½†ç”±äºå¤–éƒ¨æ•°æ®æ˜¯æ— åºåˆ°æ¥çš„ï¼Œå¦‚æœæ— è„‘è¿ç»­å†™å…¥åˆ° segmentï¼Œæ˜¾ç„¶æ˜¯ä¸èƒ½ä¿è¯é¡ºåºçš„ã€‚å¯¹æ­¤ï¼ŒLSM tree ä¼šåœ¨å†…å­˜ä¸­æ„é€ ä¸€ä¸ªæœ‰åºæ•°æ®ç»“æ„ï¼ˆç§°ä¸º memtableï¼‰ï¼Œä¾‹å¦‚çº¢é»‘æ ‘ã€‚æ¯æ¡æ–°åˆ°è¾¾çš„æ•°æ®éƒ½æ’å…¥åˆ°è¯¥çº¢é»‘æ ‘ä¸­ï¼Œä»è€Œå§‹ç»ˆä¿æŒæ•°æ®æœ‰åºã€‚å½“å†™å…¥çš„æ•°æ®é‡è¾¾åˆ°ä¸€å®šé˜ˆå€¼æ—¶ï¼Œå°†è§¦å‘çº¢é»‘æ ‘çš„ flush æ“ä½œï¼ŒæŠŠæ‰€æœ‰æ’å¥½åºçš„æ•°æ®ä¸€æ¬¡æ€§å†™å…¥åˆ°ç¡¬ç›˜ä¸­ï¼ˆè¯¥è¿‡ç¨‹ä¸ºè¿ç»­å†™ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªæ–°çš„ segmentã€‚è€Œä¹‹åçº¢é»‘æ ‘ä¾¿ä»é›¶å¼€å§‹ä¸‹ä¸€è½®ç§¯æ”’æ•°æ®çš„è¿‡ç¨‹ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612360358135-1612360358128.png" alt="çº¢é»‘æ ‘è¢«ä¸€æ¬¡æ€§å†™å…¥ä¸€ä¸ªæ–°çš„ segment"></p><h2 id="è¯»å–-æŸ¥è¯¢æ•°æ®">è¯»å–/æŸ¥è¯¢æ•°æ®</h2><p>å¦‚ä½•ä» SSTable ä¸­æŸ¥è¯¢ä¸€æ¡ç‰¹å®šçš„æ•°æ®å‘¢ï¼Ÿä¸€ä¸ªæœ€ç®€å•ç›´æ¥çš„åŠæ³•æ˜¯æ‰«ææ‰€æœ‰çš„ segmentï¼Œç›´åˆ°æ‰¾åˆ°æ‰€æŸ¥è¯¢çš„ key ä¸ºæ­¢ã€‚é€šå¸¸åº”è¯¥ä»æœ€æ–°çš„ segment æ‰«æï¼Œä¾æ¬¡åˆ°æœ€è€çš„ segmentï¼Œè¿™æ˜¯å› ä¸º<strong>è¶Šæ˜¯æœ€è¿‘çš„æ•°æ®è¶Šå¯èƒ½è¢«ç”¨æˆ·æŸ¥è¯¢</strong>ï¼ŒæŠŠæœ€è¿‘çš„æ•°æ®ä¼˜å…ˆæ‰«æèƒ½å¤Ÿæé«˜å¹³å‡æŸ¥è¯¢é€Ÿåº¦ã€‚</p><p>å½“æ‰«ææŸä¸ªç‰¹å®šçš„ segment æ—¶ï¼Œç”±äºè¯¥ segment å†…éƒ¨çš„æ•°æ®æ˜¯æœ‰åºçš„ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼ï¼Œåœ¨ $O(\log n)$ çš„æ—¶é—´å†…å¾—åˆ°æŸ¥è¯¢ç»“æœã€‚ä½†å¯¹äºäºŒåˆ†æŸ¥æ‰¾æ¥è¯´ï¼Œè¦ä¹ˆä¸€æ¬¡æ€§æŠŠæ•°æ®å…¨éƒ¨è¯»å…¥å†…å­˜ï¼Œè¦ä¹ˆåœ¨æ¯æ¬¡äºŒåˆ†æ—¶éƒ½æ¶ˆè€—ä¸€æ¬¡ç£ç›˜ IOï¼Œå½“ segment éå¸¸å¤§æ—¶ï¼ˆè¿™ç§æƒ…å†µåœ¨å¤§æ•°æ®åœºæ™¯ä¸‹å¸ç©ºè§æƒ¯ï¼‰ï¼Œè¿™ä¸¤ç§æƒ…å†µçš„ä»£ä»·éƒ½éå¸¸é«˜ã€‚ä¸€ä¸ªç®€å•çš„ä¼˜åŒ–ç­–ç•¥æ˜¯ï¼Œåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ª<strong>ç¨€ç–ç´¢å¼•ï¼ˆsparse indexï¼‰</strong>ï¼Œå…¶ç»“æ„å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612408728966-1612408728945.png" alt="ä¸€ä¸ª segment çš„ç¨€ç–ç´¢å¼•"></p><blockquote><p>ç¨€ç–ç´¢å¼•æ˜¯æŒ‡å°†æœ‰åºæ•°æ®åˆ‡åˆ†æˆï¼ˆå›ºå®šå¤§å°çš„ï¼‰å—ï¼Œä»…å¯¹å„ä¸ªå—å¼€å¤´çš„ä¸€æ¡æ•°æ®åšç´¢å¼•ã€‚ä¸ä¹‹ç›¸å¯¹çš„æ˜¯å…¨é‡ç´¢å¼•ï¼ˆdense indexï¼‰ï¼Œå³å¯¹å…¨éƒ¨æ•°æ®ç¼–åˆ¶ç´¢å¼•ï¼Œå…¶ä¸­çš„ä»»æ„ä¸€æ¡æ•°æ®å‘ç”Ÿå¢åˆ å‡éœ€è¦æ›´æ–°ç´¢å¼•ã€‚ä¸¤è€…ç›¸æ¯”ï¼Œå…¨é‡ç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡æ›´é«˜ï¼Œè¾¾åˆ°äº†ç†è®ºæé™å€¼ $O(\log n)$ï¼Œä½†å†™å…¥å’Œåˆ é™¤æ•ˆç‡æ›´ä½ï¼Œå› ä¸ºæ¯æ¬¡æ•°æ®å¢åˆ æ—¶å‡éœ€è¦å› ä¸ºæ›´æ–°ç´¢å¼•è€Œæ¶ˆè€—ä¸€æ¬¡ IO æ“ä½œã€‚é€šå¸¸çš„å…³ç³»å‹æ•°æ®åº“ï¼Œä¾‹å¦‚ MySQL ç­‰ï¼Œå…¶å†…éƒ¨é‡‡ç”¨ B tree ä½œä¸ºç´¢å¼•ç»“æ„ï¼Œè¿™ä¾¿æ˜¯ä¸€ç§å…¨é‡ç´¢å¼•ã€‚</p></blockquote><p>æœ‰äº†ç¨€ç–ç´¢å¼•ä¹‹åï¼Œå¯ä»¥å…ˆåœ¨ç´¢å¼•è¡¨ä¸­ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾å¿«é€Ÿå®šä½æŸä¸ª key ä½äºå“ªä¸€å°å—æ•°æ®ä¸­ï¼Œç„¶åä»…ä»ç£ç›˜ä¸­è¯»å–è¿™ä¸€å—æ•°æ®å³å¯è·å¾—æœ€ç»ˆæŸ¥è¯¢ç»“æœï¼Œæ­¤æ—¶åŠ è½½çš„æ•°æ®é‡ä»…ä»…æ˜¯æ•´ä¸ª segment çš„ä¸€å°éƒ¨åˆ†ï¼Œå› æ­¤ IO ä»£ä»·è¾ƒå°ã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬è¦æŸ¥è¯¢ <code>dollar</code> æ‰€å¯¹åº”çš„ valueã€‚é¦–å…ˆåœ¨ç¨€ç–ç´¢å¼•è¡¨ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå®šä½åˆ° <code>dollar</code> åº”è¯¥ä½äº <code>dog</code> å’Œ <code>downgrade</code> ä¹‹é—´ï¼Œå¯¹åº”çš„ offset ä¸º 17208~19504ã€‚ä¹‹åå»ç£ç›˜ä¸­è¯»å–è¯¥èŒƒå›´å†…çš„å…¨éƒ¨æ•°æ®ï¼Œç„¶åå†æ¬¡è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å³å¯æ‰¾åˆ°ç»“æœï¼Œæˆ–ç¡®å®šç»“æœä¸å­˜åœ¨ã€‚</p><p>ç¨€ç–ç´¢å¼•æå¤§åœ°æé«˜äº†æŸ¥è¯¢æ€§èƒ½ï¼Œç„¶è€Œæœ‰ä¸€ç§æç«¯æƒ…å†µå´ä¼šé€ æˆæŸ¥è¯¢æ€§èƒ½éª¤é™ï¼šå½“è¦æŸ¥è¯¢çš„ç»“æœåœ¨ SSTable ä¸­ä¸å­˜åœ¨æ—¶ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸ä¾æ¬¡æ‰«æå®Œæ‰€æœ‰çš„ segmentï¼Œè¿™æ˜¯æœ€å·®çš„ä¸€ç§æƒ…å†µã€‚æœ‰ä¸€ç§ç§°ä¸º**å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆbloom filterï¼‰**çš„æ•°æ®ç»“æ„å¤©ç„¶é€‚åˆè§£å†³è¯¥é—®é¢˜ã€‚å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ç§ç©ºé—´æ•ˆç‡æé«˜çš„ç®—æ³•ï¼Œèƒ½å¤Ÿå¿«é€Ÿåœ°æ£€æµ‹ä¸€æ¡æ•°æ®æ˜¯å¦åœ¨æ•°æ®é›†ä¸­å­˜åœ¨ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨å†™å…¥æ¯æ¡æ•°æ®ä¹‹å‰å…ˆåœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­ç™»è®°ä¸€ä¸‹ï¼Œåœ¨æŸ¥è¯¢æ—¶å³å¯æ–­å®šæŸæ¡æ•°æ®æ˜¯å¦ç¼ºå¤±ã€‚</p><blockquote><p>å¸ƒéš†è¿‡æ»¤å™¨çš„å†…éƒ¨ä¾èµ–äºå“ˆå¸Œç®—æ³•ï¼Œå½“æ£€æµ‹æŸä¸€æ¡æ•°æ®æ˜¯å¦è§è¿‡æ—¶ï¼Œæœ‰ä¸€å®šæ¦‚ç‡å‡ºç°å‡é˜³æ€§ï¼ˆFalse Positiveï¼‰ï¼Œä½†ä¸€å®šä¸ä¼šå‡ºç°å‡é˜´æ€§ï¼ˆFalse Negativeï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“<strong>å¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºä¸€æ¡æ•°æ®å‡ºç°è¿‡ï¼Œé‚£ä¹ˆè¯¥æ¡æ•°æ®å¾ˆå¯èƒ½å‡ºç°è¿‡ï¼›ä½†å¦‚æœå¸ƒéš†è¿‡æ»¤å™¨è®¤ä¸ºä¸€æ¡æ•°æ®æ²¡å‡ºç°è¿‡ï¼Œé‚£ä¹ˆè¯¥æ¡æ•°æ®ä¸€å®šæ²¡å‡ºç°è¿‡</strong>ã€‚è¿™ç§ç‰¹æ€§åˆšå¥½ä¸æ­¤å¤„çš„éœ€æ±‚ç›¸å¥‘åˆï¼Œå³æ£€éªŒæŸæ¡æ•°æ®æ˜¯å¦ç¼ºå¤±ã€‚</p></blockquote><h2 id="æ–‡ä»¶åˆå¹¶ï¼ˆCompactionï¼‰">æ–‡ä»¶åˆå¹¶ï¼ˆCompactionï¼‰</h2><p>éšç€æ•°æ®çš„ä¸æ–­ç§¯ç´¯ï¼ŒSSTable å°†ä¼šäº§ç”Ÿè¶Šæ¥è¶Šå¤šçš„ segmentï¼Œå¯¼è‡´æŸ¥è¯¢æ—¶æ‰«ææ–‡ä»¶çš„ IO æ¬¡æ•°å¢å¤šï¼Œæ•ˆç‡é™ä½ï¼Œå› æ­¤éœ€è¦æœ‰ä¸€ç§æœºåˆ¶æ¥æ§åˆ¶ segment çš„æ•°é‡ã€‚å¯¹æ­¤ï¼ŒLSM tree ä¼šå®šæœŸæ‰§è¡Œæ–‡ä»¶åˆå¹¶ï¼ˆcompactionï¼‰æ“ä½œï¼Œå°†å¤šä¸ª segment åˆå¹¶æˆä¸€ä¸ªè¾ƒå¤§çš„ segmentï¼Œéšåå°†æ—§çš„ segment æ¸…ç†æ‰ã€‚ç”±äºæ¯ä¸ª segment å†…éƒ¨çš„æ•°æ®éƒ½æ˜¯æœ‰åºçš„ï¼Œåˆå¹¶è¿‡ç¨‹ç±»ä¼¼äºå½’å¹¶æ’åºï¼Œæ•ˆç‡å¾ˆé«˜ï¼Œåªéœ€è¦ $O(n)$ çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612415672645-1612415672637.png" alt="segment compaction"></p><p>åœ¨ä¸Šå›¾çš„ç¤ºä¾‹ä¸­ï¼Œsegment 1 å’Œ 2 ä¸­éƒ½å­˜åœ¨ key ä¸º <code>dog</code> çš„æ•°æ®ï¼Œè¿™æ—¶åº”è¯¥ä»¥æœ€æ–°çš„ segment ä¸ºå‡†ï¼Œå› æ­¤åˆå¹¶åçš„å€¼å– 84 è€Œä¸æ˜¯ 52ï¼Œè¿™å®ç°äº†ç±»ä¼¼äºå­—å…¸/HashMap ä¸­â€œè¦†ç›–å†™â€çš„è¯­ä¹‰ã€‚</p><h2 id="åˆ é™¤æ•°æ®">åˆ é™¤æ•°æ®</h2><p>ç°åœ¨ä½ å·²ç»äº†è§£äº† LSM tree è¯»å†™æ•°æ®çš„æ–¹å¼ï¼Œé‚£ä¹ˆå¦‚ä½•åˆ é™¤æ•°æ®å‘¢ï¼Ÿå¦‚æœæ˜¯åœ¨å†…å­˜ä¸­ï¼Œåˆ é™¤æŸå—æ•°æ®é€šå¸¸æ˜¯å°†å®ƒçš„å¼•ç”¨æŒ‡å‘ NULLï¼Œé‚£ä¹ˆè¿™å—å†…å­˜å°±ä¼šè¢«å›æ”¶ã€‚ä½†ç°åœ¨çš„æƒ…å†µæ˜¯ï¼Œæ•°æ®å·²ç»å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œè¦ä»ä¸€ä¸ª segment æ–‡ä»¶ä¸­é—´æŠ¹é™¤ä¸€æ®µæ•°æ®å¿…é¡»è¦è¦†å†™å…¶ä¹‹åçš„æ‰€æœ‰å†…å®¹ï¼Œè¿™ä¸ªæˆæœ¬éå¸¸é«˜ã€‚LSM tree æ‰€é‡‡ç”¨çš„åšæ³•æ˜¯è®¾è®¡ä¸€ä¸ªç‰¹æ®Šçš„æ ‡å¿—ä½ï¼Œç§°ä¸º <em>tombstoneï¼ˆå¢“ç¢‘ï¼‰</em>ï¼Œåˆ é™¤ä¸€æ¡æ•°æ®å°±æ˜¯æŠŠå®ƒçš„ value ç½®ä¸ºå¢“ç¢‘ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/hzhu212/image-store@master/blog/1612416928355-1612416928350.png" alt="åˆ é™¤æ•°æ®"></p><p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†åˆ é™¤ segment 2 ä¸­çš„ <code>dog</code> ä¹‹åçš„æ•ˆæœã€‚æ³¨æ„ï¼Œæ­¤æ—¶ segment 1 ä¸­ä»ç„¶ä¿ç•™ç€ <code>dog</code> çš„æ—§æ•°æ®ï¼Œå¦‚æœæˆ‘ä»¬æŸ¥è¯¢ <code>dog</code>ï¼Œé‚£ä¹ˆåº”è¯¥è¿”å›ç©ºï¼Œè€Œä¸æ˜¯ 52ã€‚å› æ­¤ï¼Œ<strong>åˆ é™¤æ“ä½œçš„æœ¬è´¨æ˜¯è¦†ç›–å†™ï¼Œè€Œä¸æ˜¯æ¸…é™¤ä¸€æ¡æ•°æ®</strong>ï¼Œè¿™ä¸€ç‚¹åˆçœ‹èµ·æ¥ä¸å¤ªç¬¦åˆå¸¸è¯†ã€‚å¢“ç¢‘ä¼šåœ¨ compact æ“ä½œä¸­è¢«æ¸…ç†æ‰ï¼Œäºæ˜¯ç½®ä¸ºå¢“ç¢‘çš„æ•°æ®åœ¨æ–°çš„ segment ä¸­å°†ä¸å¤å­˜åœ¨ã€‚</p><h2 id="LSM-tree-ä¸-B-tree-çš„å¯¹æ¯”">LSM tree ä¸ B tree çš„å¯¹æ¯”</h2><p>ä¸»æµçš„å…³ç³»å‹æ•°æ®åº“å‡ä»¥ B/B+ tree ä½œä¸ºå…¶æ„å»ºç´¢å¼•çš„æ•°æ®ç»“æ„ï¼Œè¿™æ˜¯å› ä¸º B tree æä¾›äº†ç†è®ºä¸Šæœ€é«˜çš„æŸ¥è¯¢æ•ˆç‡ - $O(\log n)$ã€‚ä½†å¯¹æŸ¥è¯¢æ€§èƒ½çš„è¿½æ±‚ä¹Ÿé€ æˆäº† B tree çš„ç›¸åº”ç¼ºç‚¹ï¼Œå³æ¯æ¬¡æ’å…¥æˆ–åˆ é™¤ä¸€æ¡æ•°æ®æ—¶ï¼Œå‡éœ€è¦æ›´æ–°ç´¢å¼•ï¼Œä»è€Œé€ æˆä¸€æ¬¡ç£ç›˜ IOã€‚è¿™ç§ç‰¹æ€§å†³å®šäº† B tree åªé€‚ç”¨äºé¢‘ç¹è¯»ã€è¾ƒå°‘å†™çš„åœºæ™¯ã€‚å¦‚æœåœ¨é¢‘ç¹å†™çš„åœºæ™¯ä¸‹ï¼Œå°†é€ æˆå¤§é‡çš„ç£ç›˜ IOï¼Œä»è€Œå¯¼è‡´æ€§èƒ½éª¤é™ã€‚è¿™ç§åº”ç”¨åœºæ™¯åœ¨ä¼ ç»Ÿçš„å…³ç³»å‹æ•°æ®åº“ä¸­æ¯”è¾ƒå¸¸è§ã€‚</p><p>è€Œ LSM tree åˆ™é¿å…äº†é¢‘ç¹å†™åœºæ™¯ä¸‹çš„ç£ç›˜ IO å¼€é”€ï¼Œå°½ç®¡å…¶æŸ¥è¯¢æ•ˆç‡æ— æ³•è¾¾åˆ°ç†æƒ³çš„ $O(\log n)$ï¼Œä½†ä¾ç„¶éå¸¸å¿«ï¼Œå¯ä»¥æ¥å—ã€‚æ‰€ä»¥ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼ŒLSM tree ç›¸å½“äºç‰ºç‰²äº†ä¸€éƒ¨åˆ†æŸ¥è¯¢æ€§èƒ½ï¼Œæ¢å–äº†å¯è§‚çš„å†™å…¥æ€§èƒ½ã€‚è¿™å¯¹äº key-value å‹æˆ–æ—¥å¿—å‹æ•°æ®åº“æ˜¯éå¸¸é‡è¦çš„ã€‚</p><h2 id="æ€»ç»“">æ€»ç»“</h2><p>LSM tree å­˜å‚¨å¼•æ“çš„å·¥ä½œåŸç†åŒ…å«ä»¥ä¸‹å‡ ä¸ªè¦ç‚¹ï¼š</p><ol><li>å†™æ•°æ®æ—¶ï¼Œé¦–å…ˆå°†æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­çš„ä¸€ä¸ªæœ‰åºæ ‘ç»“æ„ä¸­ï¼ˆç§°ä¸º memtableï¼‰ã€‚åŒæ—¶è§¦å‘ç›¸å…³ç»“æ„çš„æ›´æ–°ï¼Œä¾‹å¦‚å¸ƒéš†è¿‡æ»¤å™¨ã€ç¨€ç–ç´¢å¼•ã€‚</li><li>å½“ memtable ç§¯ç´¯åˆ°è¶³å¤Ÿå¤§æ—¶ï¼Œä¼šä¸€æ¬¡æ€§å†™å…¥ç£ç›˜ä¸­ï¼Œç”Ÿæˆä¸€ä¸ªå†…éƒ¨æœ‰åºçš„ segment æ–‡ä»¶ã€‚è¯¥è¿‡ç¨‹ä¸ºè¿ç»­å†™ï¼Œå› æ­¤æ•ˆç‡æé«˜ã€‚</li><li>è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥å¸ƒéš†è¿‡æ»¤å™¨ã€‚å¦‚æœå¸ƒéš†è¿‡æ»¤å™¨æŠ¥å‘Šæ•°æ®ä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è¿”å›ä¸å­˜åœ¨ã€‚å¦åˆ™ï¼ŒæŒ‰ç…§ä»æ–°åˆ°è€çš„é¡ºåºä¾æ¬¡æŸ¥è¯¢æ¯ä¸ª segmentã€‚</li><li>åœ¨æŸ¥è¯¢æ¯ä¸ª segment æ—¶ï¼Œé¦–å…ˆä½¿ç”¨äºŒåˆ†æœç´¢æ£€ç´¢å¯¹åº”çš„ç¨€ç–ç´¢å¼•ï¼Œæ‰¾åˆ°æ•°æ®æ‰€åœ¨çš„ offset èŒƒå›´ã€‚ç„¶åè¯»å–ç£ç›˜ä¸Šè¯¥èŒƒå›´å†…çš„æ•°æ®ï¼Œå†æ¬¡è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å¹¶è·å¾—ç»“æœã€‚</li><li>å¯¹äºå¤§é‡çš„ segment æ–‡ä»¶ï¼Œå®šæœŸåœ¨åå°æ‰§è¡Œ compaction æ“ä½œï¼Œå°†å¤šä¸ªæ–‡ä»¶åˆå¹¶ä¸ºæ›´å¤§çš„æ–‡ä»¶ï¼Œä»¥ä¿è¯æŸ¥è¯¢æ•ˆç‡ä¸è¡°å‡ã€‚</li></ol><h2 id="å‚è€ƒï¼š">å‚è€ƒï¼š</h2><ul><li><a href="https://yetanotherdevblog.com/lsm/">Understanding LSM Trees: What Powers Write-Heavy Databases. Braden Groom</a></li><li><a href="http://www.benstopford.com/2015/02/14/log-structured-merge-trees/">Log Structured Merge Trees. Ben Stopford</a></li><li><a href="https://queue.acm.org/detail.cfm?id=1563874">The Pathologies of Big Data. ACM</a></li><li><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.44.2782&amp;rep=rep1&amp;type=pdf">åŸå§‹è®ºæ–‡</a>ï¼ˆæ¯”è¾ƒæ™¦æ¶©ï¼Œä¸å»ºè®®ï¼‰</li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> å¤§æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>shellå‘½ä»¤çš„æ ‡å‡†è¾“å…¥(stdin)</title>
      <link href="/posts/2c63bd16/"/>
      <url>/posts/2c63bd16/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ shell å‘½ä»¤ä¸­ï¼Œæœ‰å¤šç§æ–¹å¼å¯ä»¥çµæ´»åœ°æ§åˆ¶å‘½ä»¤çš„æ ‡å‡†è¾“å…¥(stdin)ï¼Œç†Ÿç»ƒæŒæ¡è¿™äº›æŠ€å·§æœ‰æ—¶ä¼šèµ·åˆ°äº‹åŠåŠŸå€çš„æ•ˆæœã€‚</p><span id="more"></span><h2 id="ç®¡é“ç¬¦å·">ç®¡é“ç¬¦å·(<code>|</code>)</h2><p>ç®¡é“æ“ä½œå¯ä»¥å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$string</span>&quot;</span> | <span class="built_in">command</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æœ€æ–¹ä¾¿ï¼Œä¹Ÿæœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„ä¸€ç§æ–¹å¼ã€‚ä½†è¿™ç§æ–¹å¼æœ‰ä¸ªç¼ºé™·ï¼Œå³ç®¡é“ç¬¦ä¹‹åçš„å‘½ä»¤æ˜¯åœ¨ä¸€ä¸ªå­ shell è¿›ç¨‹ä¸­è¿è¡Œçš„ï¼Œå®ƒçš„è¿è¡Œæ•ˆæœæ— æ³•ä½œç”¨åˆ°å½“å‰ shell è¿›ç¨‹ã€‚</p><p>è€ƒè™‘ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> | <span class="built_in">read</span> first second</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$second</span> <span class="variable">$first</span>  <span class="comment"># will output nothing</span></span><br></pre></td></tr></table></figure><p>ä¼šå‘ç°ç¬¬äºŒæ¡ <code>echo</code> å‘½ä»¤çš„è¾“å‡ºä¸ºç©ºï¼Œå¹¶éé¢„æœŸä¸­çš„ <code>world hello</code>ï¼ˆæ³¨æ„ï¼Œä¸€äº›ç‰¹æ®Šçš„ shell å¦‚ zsh ä¸å­˜åœ¨è¯¥é—®é¢˜ï¼‰ã€‚äº‹å®ä¸Šï¼Œ<code>read</code> å‘½ä»¤ç¡®å®æ­£ç¡®åœ°è¯»å–äº†ä¸¤ä¸ªå˜é‡ï¼Œä½†ä¹‹åè¯¥ shell å­è¿›ç¨‹ç»“æŸï¼Œæ§åˆ¶æƒå›åˆ°ä¸»è¿›ç¨‹ï¼Œå˜é‡åˆè¢«ä¸¢å¼ƒäº†ã€‚</p><p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å·æŠŠ shell å­è¿›ç¨‹ä¸­çš„æ‰€æœ‰å‘½ä»¤æ‹¬èµ·æ¥ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> | &#123;</span><br><span class="line">    <span class="built_in">read</span> first second</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$second</span> <span class="variable">$first</span>  <span class="comment"># will output &quot;world hello&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä½¿å¾—ç¬¬äºŒä¸ª <code>echo</code> å‘½ä»¤èƒ½å¤Ÿæ­£å¸¸è¾“å‡º <code>world hello</code>ï¼Œä½†ä»ç„¶æ— æ³•æŠŠ <code>first</code> å’Œ <code>second</code> ä¸¤ä¸ªå˜é‡å¸¦åˆ°ä¸»è¿›ç¨‹ä¸­æ¥ã€‚</p><h2 id="here-string">here-string(<code>&lt;&lt;&lt;</code>)</h2><p>ç»§ç»­ä¸Šé¢çš„ä¾‹å­ï¼Œé™¤äº†ç®¡é“ç¬¦ä¹‹å¤–ï¼Œæˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•æŠŠå­—ç¬¦ä¸²<code>&quot;hello world&quot;</code>ä»¥æ ‡å‡†è¾“å…¥çš„å½¢å¼ä¼ é€’ç»™ <code>read</code> å‘½ä»¤å‘¢ï¼Ÿ</p><p>æœ‰ã€‚ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„åŠæ³•æ˜¯ä½¿ç”¨â€œhere-stringâ€ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">read</span> first second &lt;&lt;&lt; <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$second</span> <span class="variable">$first</span>  <span class="comment"># will output &quot;world hello&quot;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°å‘½ä»¤ä¸ä»…èƒ½å¤Ÿç¬¦åˆé¢„æœŸåœ°è¾“å‡º <code>world hello</code>ï¼Œè€Œä¸” <code>first</code> å’Œ <code>second</code> ä¸¤ä¸ªå˜é‡ä¹Ÿè¢«ä¿å­˜åˆ°äº†å½“å‰ shell ä¸­ï¼Œéšæ—¶å¯ç”¨ã€‚</p><h2 id="here-document">here-document(<code>&lt;&lt;</code>)</h2><p>here-document å¯ä»¥è®¤ä¸ºæ˜¯ here-string çš„é«˜é˜¶å½¢å¼ï¼Œå®ƒæ”¯æŒå¤šè¡Œè¾“å…¥ï¼Œé€‚åˆè¾“å…¥å¤§æ®µæ–‡æœ¬ã€‚</p><p>åœ¨ shell å‘½ä»¤è¡Œä¸­ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">&gt; hi</span></span><br><span class="line"><span class="string">&gt; there</span></span><br><span class="line"><span class="string">&gt; EOF</span></span><br><span class="line">hi</span><br><span class="line">there</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå…¶ä¸­çš„ <code>$</code> è¡¨ç¤ºå‘½ä»¤æç¤ºç¬¦ï¼Œ<code>&gt;</code> è¡¨ç¤ºæ¢è¡Œï¼Œå‡ç”± shell æä¾›ï¼Œå¹¶éç”¨æˆ·è¾“å…¥ã€‚<code>EOF</code> ä¸ºæ ‡å¿—å­—ç¬¦ä¸²ï¼Œä»£è¡¨è¾“å…¥çš„å¼€å¤´å’Œç»“å°¾ï¼Œå¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–ä»»æ„å­—ç¬¦ä¸²ã€‚</p><p>here-documnet åœ¨ shell è„šæœ¬ä¸­ä½¿ç”¨çš„ä¾‹å­å¦‚ä¸‹ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &gt; out.txt &lt;&lt;<span class="string">FILE</span></span><br><span class="line"><span class="string">foo</span></span><br><span class="line"><span class="string">bar</span></span><br><span class="line"><span class="string">bar bar</span></span><br><span class="line"><span class="string">foo foo</span></span><br><span class="line"><span class="string">FILE</span></span><br></pre></td></tr></table></figure><p>è¿™æ®µè„šæœ¬ä¼šå°†ä¸¤ä¸ª <code>FILE</code> ä¹‹é—´çš„é‚£æ®µæ–‡æœ¬å†™å…¥ <code>out.txt</code> æ–‡ä»¶ä¸­ã€‚</p><h2 id="è¾“å…¥é‡å®šå‘">è¾“å…¥é‡å®šå‘(<code>&lt;</code>)</h2><p>è¾“å…¥é‡å®šå‘ç¬¦å·(<code>&lt;</code>)åéœ€è¦æ¥ä¸€ä¸ªæ–‡ä»¶è·¯å¾„ï¼Œè¡¨ç¤ºå°†æ–‡ä»¶çš„å†…å®¹é‡å®šå‘åˆ°æ ‡å‡†è¾“å…¥ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> &gt; tmp.txt</span><br><span class="line"><span class="built_in">cat</span> tmp.txt  <span class="comment"># will output &quot;hello world&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> first second &lt; tmp.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$second</span> <span class="variable">$first</span>  <span class="comment"># will output &quot;world hello&quot;</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ul><li><a href="https://unix.stackexchange.com/questions/80362/what-does-mean">https://unix.stackexchange.com/questions/80362/what-does-mean</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> shell </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨èä¸€äº›Windowsä¸‹çš„ç”Ÿäº§åŠ›å·¥å…·</title>
      <link href="/posts/28fcbc62/"/>
      <url>/posts/28fcbc62/</url>
      
        <content type="html"><![CDATA[<blockquote class="blockquote-center"><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚</p></blockquote><p>Windows ç³»ç»Ÿæ‹¥æœ‰ MacOS å’Œ Linux æ— æ³•æ¯”æ‹Ÿçš„è½¯ä»¶ç”Ÿæ€ï¼Œä½†å¯æƒœçš„æ˜¯ï¼Œå¤§å¤šæ•°ç”¨æˆ·å¹¶æ²¡æœ‰çœŸæ­£å‘æ˜å‡º Windows ç³»ç»Ÿçš„ç”Ÿäº§åŠ›ã€‚æœ¬æ–‡æ¨èä¸€äº›â€œå°è€Œç¾â€çš„ Windows è½¯ä»¶ï¼ŒåŒ…æ‹¬æœ¬åœ°è½¯ä»¶ä¸æµè§ˆå™¨æ’ä»¶ï¼Œèƒ½å¤Ÿæå¤§åœ°æå‡å·¥ä½œæ•ˆç‡ã€‚</p><span id="more"></span><h2 id="æœ¬åœ°è½¯ä»¶">æœ¬åœ°è½¯ä»¶</h2><h3 id="Launchy-å¯åŠ¨å™¨">Launchy - å¯åŠ¨å™¨</h3><p><a href="https://www.launchy.net/">https://www.launchy.net/</a></p><p>Launchy æ˜¯ä¸€æ¬¾å…è´¹ã€å°å·§ã€å¿«æ·çš„å¯åŠ¨å™¨ï¼Œå®‰è£…åŒ…ä»…4Mï¼Œæ£€ç´¢é€Ÿåº¦æé«˜ï¼Œè€Œä¸”æ”¯æŒæ’ä»¶ã€çš®è‚¤ç­‰æ‰©å±•åŠŸèƒ½ï¼Œæ˜¯ä¸€æ¬¾éš¾å¾—çš„æå‡æ•ˆç‡çš„è½¯ä»¶ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151423.png" alt=""></p><p>Windows ä¸Šçš„å¯åŠ¨å™¨è½¯ä»¶ä¸åœ¨å°‘æ•°ï¼ŒLaunchy æœ‰å¾ˆå¤šæ›¿ä»£å“å¯é€‰ï¼Œä¾‹å¦‚ï¼š</p><ul><li><a href="https://www.listary.com/">Listary</a></li><li><a href="http://www.wox.one/">Wox</a></li><li><a href="https://u.tools/">uTools</a></li></ul><p>å®ƒä»¬æˆ–æœ‰æ›´åä¸½çš„ç•Œé¢ï¼Œæˆ–æœ‰ä¸°å¯Œçš„åŠŸèƒ½ï¼Œä½†ç¬”è€…æœ€çˆ± Launchyï¼Œå› ä¸ºå®ƒå°†è½¯ä»¶çš„ä½“ç§¯ã€åŠŸèƒ½å’Œé€Ÿåº¦éƒ½åšåˆ°äº†æè‡´ã€‚</p><h3 id="Everything-æ–‡ä»¶æœç´¢">Everything - æ–‡ä»¶æœç´¢</h3><p><a href="https://www.voidtools.com/zh-cn/">https://www.voidtools.com/zh-cn/</a></p><p>Everything æ˜¯ Windows ä¸‹çš„ä¸€æ¬¾æ–‡ä»¶æœç´¢å¼•æ“ï¼Œèƒ½å¤ŸåŸºäºæ–‡ä»¶åå¿«é€Ÿå®šæ–‡ä»¶å’Œæ–‡ä»¶å¤¹ä½ç½®ã€‚å…¶æœç´¢é€Ÿåº¦æ¯” Windows èµ„æºç®¡ç†å™¨çš„é»˜è®¤æœç´¢å¿«å‡ ä¸ªæ•°é‡çº§ï¼Œå¹¶ä¸”æ”¯æŒé€šé…ç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰å¤æ‚æœç´¢åŠŸèƒ½ã€‚å¹¶ä¸”ï¼ŒEverything æ˜¯å®Œå…¨å…è´¹çš„ã€‚</p><p>å¾ˆå¤šå¯åŠ¨å™¨è½¯ä»¶éœ€è¦é…åˆ Everything ä½¿ç”¨ï¼Œä¾‹å¦‚ Listaryã€uTools ç­‰ã€‚</p><p><img src="https://www.voidtools.com/zh-cn/support/everything/Everything.Search.Window.png" alt=""></p><h3 id="FastStone-Capture-æˆªå›¾å½•å±">FastStone Capture - æˆªå›¾å½•å±</h3><p><a href="https://www.faststone.org/FSCaptureDetail.htm">https://www.faststone.org/FSCaptureDetail.htm</a></p><p>ä¸€æ¬¾åŠŸèƒ½ä¸°å¯Œçš„æˆªå›¾å·¥å…·åŒ…ï¼ŒåŠŸèƒ½åŒ…æ‹¬ï¼š</p><ul><li>æˆªå›¾</li><li>å›¾ç‰‡æ ‡æ³¨</li><li>å›¾ç‰‡èƒŒæ™¯å»é™¤</li><li>å›¾ç‰‡åƒç´ çº§ç¼–è¾‘</li><li>å±å¹•å½•åˆ¶</li><li>å–è‰²å™¨</li><li>å±å¹•æ ‡å°º</li></ul><p>æˆªå›¾æ–¹å¼ä¹Ÿéå¸¸ä¸°å¯Œï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>æˆªå–åŒºåŸŸ</li><li>æˆªå–å½¢çŠ¶</li><li>æˆªå–çª—å£æˆ–çª—å£ç»„ä»¶</li><li>æ»šåŠ¨æˆªå›¾</li></ul><p>åœ¨æ‹¥æœ‰å¦‚æ­¤å¼ºå¤§åŠŸèƒ½çš„æƒ…å†µä¸‹ï¼Œè½¯ä»¶ä½“ç§¯å°åˆ°ä»¤äººéš¾ä»¥ç½®ä¿¡ï¼Œä»…æœ‰ 4Mã€‚</p><p>å”¯ä¸€çš„é—æ†¾æ˜¯ï¼Œè¯¥è½¯ä»¶æ˜¯æ”¶è´¹çš„ï¼Œç„¶è€Œâ€¦â€¦</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151618.png" alt=""></p><h3 id="QTranslate-ç¿»è¯‘">QTranslate - ç¿»è¯‘</h3><p><a href="https://quest-app.appspot.com/home">https://quest-app.appspot.com/home</a></p><p>ä¸€æ¬¾å°å·§è€Œå¼ºå¤§çš„æ¡Œé¢ç¿»è¯‘è½¯ä»¶ï¼Œæ”¯æŒè°·æ­Œç¿»è¯‘ã€å¿…åº”ç¿»è¯‘ã€æœ‰é“ç¿»è¯‘ã€ç™¾åº¦ç¿»è¯‘ç­‰åå¤šä¸ªç¿»è¯‘æ¥å£ï¼Œä¸ƒåå¤šç§è¯­è¨€ï¼Œå¹¶å…·æœ‰åˆ’è¯ç¿»è¯‘ã€OCR å–è¯ç¿»è¯‘ã€é•¿æ®µæ–‡æœ¬ç¿»è¯‘ç­‰é«˜çº§åŠŸèƒ½ã€‚</p><p>QTranslate çš„ä½“ç§¯ä¸è¶³ 1Mï¼Œå°åˆ°ä»¤äººéš¾ä»¥ç½®ä¿¡ã€‚å…¶åŸå› æ˜¯ï¼ŒQTranslate çš„æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯é€šè¿‡è°ƒç”¨å¤–éƒ¨ API æ¥å£æ¥å®ç°çš„ï¼Œåªæä¾›ä¸€ä¸ªæœ¬åœ°ç•Œé¢è€Œå·²ï¼Œè½¯ä»¶æœ¬èº«æ˜¯ä¸€ç»„ API æ¥å£çš„ç²˜åˆå‰‚ã€‚ä¼˜ç‚¹æ˜¯ç”¨æˆ·å¯ä»¥ä½“éªŒåˆ°æœ€æ–°çš„ç¿»è¯‘æŠ€æœ¯ã€æœ€å¥½çš„ç¿»è¯‘è´¨é‡ï¼Œç¼ºç‚¹æ˜¯éœ€è¦ç½‘ç»œç”šè‡³æ¢¯å­ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151639.png" alt=""></p><h3 id="åšæœäº‘-äº‘ç›˜åŒæ­¥">åšæœäº‘ - äº‘ç›˜åŒæ­¥</h3><p><a href="https://www.jianguoyun.com/">https://www.jianguoyun.com/</a></p><p>ä¸€æ¬¾å°å·§å¥½ç”¨çš„äº‘ç›˜è½¯ä»¶ï¼Œä¸»æ‰“è‡ªåŠ¨åŒæ­¥åŠŸèƒ½ã€‚</p><p>åšæœäº‘å¯é•¿æœŸé©»ç•™åå°ï¼Œèµ„æºå ç”¨æå°ï¼Œç”¨æˆ·å‡ ä¹å¯Ÿè§‰ä¸åˆ°åŒæ­¥çš„å­˜åœ¨ã€‚å…è´¹æ–¹æ¡ˆä¹Ÿå¾ˆè‰¯å¿ƒï¼Œç”¨æˆ·æ¯æœˆå¯ä»¥è·å¾— 1GB ä¸Šä¼ æµé‡å’Œ 3GB ä¸‹è½½æµé‡ï¼Œåªè¦ä¸ç”¨æ¥å¤§é‡å¤‡ä»½å›¾ç‰‡å’Œè§†é¢‘ï¼Œå®Œå…¨å¤Ÿç”¨äº†ï¼Œæœ€é‡è¦çš„æ˜¯æ²¡æœ‰é™é€Ÿã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151659.png" alt=""></p><h3 id="Cmder-ConEmu-å‘½ä»¤è¡Œ">Cmder/ConEmu - å‘½ä»¤è¡Œ</h3><p><a href="https://cmder.net/">https://cmder.net/</a> | <a href="https://conemu.github.io/">https://conemu.github.io/</a></p><p>ä¸€æ¬¾ Windows ä¸‹çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè‡´åŠ›äºè§£å†³ Windows å¹³å°å¯¹å¼€å‘è€…ä¸å‹å¥½çš„é—®é¢˜ï¼Œè®©ç”¨æˆ·åœ¨ Windows ä¸Šæµç•…åœ°ä½¿ç”¨ Linux Shellã€‚Cmder åŸºäº ConEmu å¼€å‘ï¼Œæä¾›äº†æ›´å¥½çš„çš®è‚¤ã€äº¤äº’ç­‰ã€‚ä¸¤è€…å‡ä¸ºå…è´¹ã€å¼€æºè½¯ä»¶ã€‚</p><p>ConEmu æ”¯æŒå¤šç§ä¸åŒçš„ Shellï¼ŒåŒ…æ‹¬ Cmdã€PowerShellã€Git Bash ç­‰ã€‚åœ¨ Windows 10 æ¨å‡º Linux Subsystem åï¼Œä¹Ÿç¬¬ä¸€æ—¶é—´è¿›è¡Œäº†æ”¯æŒã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151713.png" alt=""></p><h3 id="ScreenToGif-åŠ¨å›¾åˆ¶ä½œ">ScreenToGif - åŠ¨å›¾åˆ¶ä½œ</h3><p><a href="https://www.screentogif.com/?l=zh_cn">https://www.screentogif.com/?l=zh_cn</a></p><p>ä¸€æ¬¾å…è´¹å°å·§çš„ gif åˆ¶ä½œå·¥å…·ï¼Œæ”¯æŒä»å±å¹•å½•åˆ¶ gif æˆ–å¯¼å…¥å›¾ç‰‡åˆ¶ä½œ gifï¼Œå¯å¯¹ gif å†…å®¹åšåæœŸç¼–è¾‘ã€‚å ªç§°ä½“ç§¯å°å·§ï¼ˆ2Mï¼‰ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151731.png" alt=""></p><h3 id="PicGo-å›¾åºŠ">PicGo - å›¾åºŠ</h3><p><a href="https://github.com/Molunerfinn/PicGo">https://github.com/Molunerfinn/PicGo</a></p><p>ä¸€æ¬¾ç®€å•å°å·§ã€åŠŸèƒ½å¼ºå¤§çš„å…è´¹å¼€æºå›¾åºŠå·¥å…·ã€‚èšåˆäº†</p><ul><li>ä¸ƒç‰›äº‘å›¾åºŠ</li><li>è…¾è®¯äº‘å›¾åºŠ</li><li>Github å›¾åºŠ</li><li><a href="http://SM.MS">SM.MS</a> å›¾åºŠ</li></ul><p>ç­‰ä¸»æµå›¾åºŠæ¥å£ã€‚æ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€å‰ªè´´æ¿ä¸Šä¼ ã€æ‚¬æµ®çª—å£ç­‰å¤šç§ä¾¿æ·çš„äº¤äº’å½¢å¼ï¼Œå±…å®¶å†™åšå®¢å¿…ä¸å¯å°‘ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151744.png" alt=""></p><h3 id="Sublime-Text-3-æ–‡æœ¬ç¼–è¾‘">Sublime Text 3 - æ–‡æœ¬ç¼–è¾‘</h3><p><a href="https://www.sublimetext.com/">https://www.sublimetext.com/</a></p><p>ä¸€æ¬¾å°å·§è½»ä¾¿ã€æ— æ‰€ä¸èƒ½çš„æ–‡æœ¬ç¼–è¾‘å™¨ã€‚åœ¨ä¸€ä¼—æµè¡Œçš„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­é—´ï¼ˆNotepad++ã€UltraEditã€VSCodeã€Atom ç­‰ï¼‰ï¼Œ Sublime Text 3 åšåˆ°äº†ä½“ç§¯æœ€å°ã€é€Ÿåº¦æœ€å¿«ã€èµ„æºæœ€çœï¼ŒåŒæ—¶ä¿è¯äº†ç•Œé¢åä¸½ã€åŠŸèƒ½å¼ºå¤§ã€æ’ä»¶ç³»ç»Ÿå®Œå–„ã€‚</p><p>Sublime Text æ˜¯å…è´¹è½¯ä»¶ï¼Œä½†å¦‚æœä¸ä»˜è´¹ï¼Œå¶å°”ä¼šæœ‰å¼¹çª—æé†’ï¼Œä¸å½±å“ä½¿ç”¨ã€‚</p><p>æœ€å¤§çš„æ§½ç‚¹æ˜¯æ’ä»¶ç³»ç»Ÿå¶å°”ä¼šè¢«å¢™ï¼Œä¸è¿‡è¿™å¯¹äºä¸€ååˆæ ¼çš„è½¯ä»¶å·¥ç¨‹å¸ˆæ¥è¯´åº”è¯¥ä¸ç®—é—®é¢˜ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20191201151800.png" alt=""></p><h3 id="Internet-Download-Manager-IDM-ä¸‹è½½å™¨">Internet Download Manager (IDM) - ä¸‹è½½å™¨</h3><p><a href="https://www.internetdownloadmanager.com/">https://www.internetdownloadmanager.com/</a></p><p>Windows ä¸‹æœ€ä¼˜ç§€çš„ä¸‹è½½è½¯ä»¶ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚IDM èƒ½å¤Ÿæœ€å¤§é™åº¦åœ°åˆ©ç”¨ç”¨æˆ·çš„ç½‘ç»œå¸¦å®½ï¼Œå…¶åŠ é€ŸæŠ€æœ¯æ˜¯å…¶ä»–åŒç±»ä¸‹è½½è½¯ä»¶æ— æ³•åŒ¹æ•Œçš„ã€‚ä¸°å¯Œçš„è®¾ç½®ã€æµè§ˆå™¨æ’ä»¶ã€è§†é¢‘å—…æ¢ç­‰åŠŸèƒ½ä¹Ÿè®© IDM çš„æ˜“ç”¨æ€§è¿œè¶…åŒè¡Œã€‚é—æ†¾çš„æ˜¯ï¼ŒIDM æ˜¯æ”¶è´¹è½¯ä»¶ï¼Œç„¶è€Œâ€¦â€¦</p><p>å¦‚æœä¸æƒ³æŠ˜è…¾çš„è¯ï¼ŒIDM è¿˜æœ‰ä¸€äº›å…è´¹çš„æ›¿ä»£å“ï¼Œä¾‹å¦‚ <a href="http://xdman.sourceforge.net/">XDM</a>ã€<a href="https://www.freedownloadmanager.org/zh/">FDM</a>ã€<a href="https://xdown.org/">xDown</a> ç­‰ï¼Œè™½ç„¶æ•ˆæœä¸å¦‚ IDMï¼Œä½†èƒ½ä¿è¯å…è´¹å¯ç”¨ã€‚</p><p><img src="https://www.internetdownloadmanager.com/home/idm.png" alt=""></p><h3 id="AnyDesk-è¿œç¨‹æ¡Œé¢">AnyDesk - è¿œç¨‹æ¡Œé¢</h3><p><a href="https://anydesk.com/zhs">https://anydesk.com/zhs</a></p><p>AnyDesk æ˜¯ä¸€æ¬¾è½»é‡(ä»…3MB)ã€å¿«é€Ÿã€å…è´¹ã€è·¨å¹³å°çš„è¿œç¨‹æ¡Œé¢è½¯ä»¶ã€‚</p><p>åœ¨ Windows ç³»ç»Ÿä¸‹ï¼Œä½¿ç”¨è‡ªå¸¦çš„â€œè¿œç¨‹æ¡Œé¢è¿æ¥â€å³å¯æ»¡è¶³ç»å¤§å¤šæ•°çš„æ—¥å¸¸éœ€æ±‚ã€‚AnyDesk ç›¸æ¯”äº Windows ç³»ç»Ÿè‡ªå¸¦çš„è¿œç¨‹æ¡Œé¢è¿æ¥å…·æœ‰ä»¥ä¸‹å‡ ä¸ªä¼˜åŠ¿ï¼š</p><ul><li>è”ç½‘å³å¯ç”¨ã€‚ä¸ä¾èµ– IP åœ°å€ï¼Œåªè¦è¿æ¥åŒæ–¹å‡è”ç½‘ï¼Œå³å¯äº’è¾¾ã€‚</li><li>è·¨å¹³å°ã€‚AnyDesk æ”¯æŒå››å¤§æ¡Œé¢æ“ä½œç³»ç»Ÿï¼ˆWindowsã€MacOSã€Linuxã€ChromeOSï¼‰ä»¥åŠä¸¤å¤§ç§»åŠ¨ç«¯æ“ä½œç³»ç»Ÿï¼ˆAndroidã€iOSï¼‰ã€‚</li><li>éäº’æ–¥ã€‚AnyDesk æ”¯æŒå¤šä¸ªç”¨æˆ·åŒæ—¶è¿æ¥åˆ°ä¸€ä¸ªæ¡Œé¢ï¼Œä¸ä¼šå¯¼è‡´ç›¸äº’æ³¨é”€ã€‚</li></ul><p>AnyDesk è¿æ¥æ˜¯é»˜è®¤æ˜¯éœ€è¦è¢«è¿æ¥æ–¹ç¡®è®¤çš„ï¼Œä½†è¢«è¿æ¥æ–¹å¯è®¾ç½®è®¿é—®å¯†ç ï¼Œè¿™æ ·å°±èƒ½åšåˆ°æ— äººå€¼å®ˆçš„è¿œç¨‹è¿æ¥äº†ã€‚</p><p><img src="https://anydesk.com/_static/img/screenshots/multiplatform-6df87f.png" alt="AnyDesk"></p><h2 id="æµè§ˆå™¨æ’ä»¶">æµè§ˆå™¨æ’ä»¶</h2><p>æ¨èä¸€äº›éå¸¸å¥½ç”¨çš„æµè§ˆå™¨æ’ä»¶ï¼Œä»¥ä¸‹å‡æ”¯æŒ Firefoxï¼Œä¸€èˆ¬ä¹Ÿæ”¯æŒ Chromeã€‚</p><h3 id="Tampermonkeyï¼ˆæ²¹çŒ´ï¼‰"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/tampermonkey/">Tampermonkeyï¼ˆæ²¹çŒ´ï¼‰</a></h3><p>æµè§ˆå™¨è„šæœ¬ç®¡ç†æ’ä»¶ã€‚</p><p>æ²¹çŒ´æœ¬èº«æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šä¹‹å¤„ï¼Œå¥½ç”¨çš„æ˜¯æµ·é‡çš„è„šæœ¬ï¼å®‰è£…å®Œæˆä¹‹åï¼Œåœ¨â€œè·å–è„šæœ¬â€é¡µé¢è‡ªå·±å‘æ˜å§~</p><h3 id="Proxy-SwitchyOmega"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/switchyomega/">Proxy SwitchyOmega</a></h3><p>ä»£ç†ç®¡ç†å’Œåˆ‡æ¢å·¥å…·ã€‚</p><p>æ³¨æ„ï¼Œæœ¬æ’ä»¶ä¸è´Ÿè´£æ¢¯å­ï¼Œåªæ˜¯æ–¹ä¾¿ç®¡ç†å’Œè‡ªåŠ¨åˆ‡æ¢ä»£ç†ã€‚å½“ä½¿ç”¨ Shadowsocksã€v2ray ç­‰ä»£ç†å·¥å…·ä¸Šç½‘æ—¶ï¼Œæ­¤æ’ä»¶å¿…ä¸å¯å°‘ã€‚</p><h3 id="Infinity-æ–°æ ‡ç­¾é¡µ"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/infinity-new-tab-pro-firefox/">Infinity æ–°æ ‡ç­¾é¡µ</a></h3><p>åä¸½ã€æ˜“ç”¨çš„æ–°æ ‡ç­¾é¡µå·¥å…·ã€‚</p><p>ä¸ä»…ç¾è§‚ï¼Œè¿˜é›†æˆäº†å¿…åº”å£çº¸ã€ä¹¦ç­¾ã€TODO listã€ç¬”è®°ç­‰æ–¹ä¾¿çš„å°å·¥å…·ï¼Œæ³¨å†Œå¸å·åå¯ä»¥åœ¨ä¸åŒå¹³å°å’Œæµè§ˆå™¨ä¹‹é—´åŒæ­¥æ–°æ ‡ç­¾é¡µè®¾ç½®ã€‚</p><h3 id="Bitwarden"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/bitwarden-password-manager/">Bitwarden</a></h3><p>å…è´¹å¯†ç ç®¡ç†å™¨ã€‚</p><p>å¸å·ã€å¯†ç å¤šå¾—è®°ä¸è¿‡æ¥å·²ç»æ˜¯ç”Ÿæ´»çš„å¸¸æ€ï¼Œé’ˆå¯¹è¿™ä¸ªéœ€æ±‚è¯ç”Ÿäº†è®¸å¤šå¯†ç ç®¡ç†å·¥å…·ï¼Œæ¯”è¾ƒè‘—åçš„åŒ…æ‹¬ Lastpassã€Bitwarden ç­‰ã€‚Bitwarden æ¯”èµ· Lastpass æ›´åŠ æ˜“ç”¨ï¼Œé™¤äº†æ’ä»¶ä¹‹å¤–è¿˜æœ‰æ¡Œé¢ç‰ˆè½¯ä»¶ï¼Œæœ€é‡è¦çš„æ˜¯å…è´¹ï¼</p><h3 id="Print-Edit-WE"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/print-edit-we/">Print Edit WE</a></h3><p>åœ¨ä¿å­˜æˆ–æ‰“å°ç½‘é¡µä¹‹å‰å…ˆç¼–è¾‘ä¸€ä¸‹ã€‚</p><p>ç½‘é¡µæ–‡æ¡£æ‰“å°ä¿å­˜ä¸º PDF æ–‡ä»¶æ˜¯ä¸€ä¸ªå¸¸è§„æ“ä½œï¼Œä½†æœ‰æ—¶å€™ç½‘é¡µä¸Šéš¾å…æœ‰å¹²æ‰°å…ƒç´ ï¼ˆå¯¼èˆªæ ã€ä¾§è¾¹æ ã€å¹¿å‘Šä½ç­‰ï¼‰ï¼Œè¿™æ¬¾æ’ä»¶èƒ½å¤Ÿå°†ä»»æ„ç½‘é¡µå…ƒç´ éšè—æˆ–åˆ é™¤ï¼Œè®©æ‰“å°å‡ºæ¥çš„æ–‡æ¡£æ›´çº¯å‡€ã€‚</p><h3 id="Video-DownloadHelper"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/video-downloadhelper/">Video DownloadHelper</a></h3><p>ç½‘é¡µè§†é¢‘æ•è·ï¼ˆä¸‹è½½ï¼‰å·¥å…·ã€‚</p><p>å¾ˆå¤šè§†é¢‘ç½‘ç«™ä¸ç›´æ’­å¹³å°åªæä¾›è§†é¢‘ä¾›ç”¨æˆ·è§‚çœ‹ï¼Œä½†ä¸å…è®¸ä¸‹è½½ã€‚è¯¥æ’ä»¶èƒ½å¤Ÿæ•è·ç½‘é¡µä¸­ä¼ è¾“çš„æµåª’ä½“ï¼Œå°†å…¶è½¬æ¢ä¸ºå®Œæ•´çš„è§†é¢‘å¹¶ä¸‹è½½ã€‚è®©è§†é¢‘â€œæ‰€è§å³æ‰€å¾—â€ã€‚</p><h3 id="Octotree"><a href="https://addons.mozilla.org/zh-CN/firefox/addon/octotree/">Octotree</a></h3><p><em>PSï¼šä¸»è¦é’ˆå¯¹è½¯ä»¶å·¥ç¨‹å¸ˆç¾¤ä½“</em></p><p>åœ¨ Github é¡¹ç›®é¡µé¢æ˜¾ç¤ºç›®å½•ä¸æ–‡ä»¶çš„ä¾§è¾¹æ ï¼Œå°±åƒæœ¬åœ°ç¼–è¾‘å™¨ä¸€æ ·ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Windows </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä»é›¶å®ç°è®¡ç®—å›¾å’Œè‡ªåŠ¨æ±‚å¯¼</title>
      <link href="/posts/7a426523/"/>
      <url>/posts/7a426523/</url>
      
        <content type="html"><![CDATA[<p>è®¡ç®—å›¾æ˜¯ç°ä»£æ·±åº¦å­¦ä¹ æ¡†æ¶å¦‚ Tensorflowã€PyTorch ç­‰çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå…¶ä¸­æ¶‰åŠçš„æ‰€æœ‰è®¡ç®—å‡ ä¹éƒ½ä¾èµ–äºè®¡ç®—å›¾æä¾›çš„è‡ªåŠ¨æ±‚å¯¼åŠŸèƒ½ï¼Œå› æ­¤ç ”ç©¶è®¡ç®—å›¾å¯¹æ·±å…¥ç†è§£åå‘ä¼ æ’­ç­‰æ·±åº¦å­¦ä¹ çš„åº•å±‚ç®—æ³•å¤§æœ‰å¸®åŠ©ã€‚</p><span id="more"></span><h2 id="æ‰‹å·¥æ±‚å¯¼">æ‰‹å·¥æ±‚å¯¼</h2><p>æ±‚å¯¼åœ¨æ•°å­¦ä¸Šéå¸¸å®¹æ˜“å®ç°ï¼Œä¾‹å¦‚ä»¥ä¸‹å‡½æ•°ï¼š</p><p>$$ f(x) = \sin(e^{x^2}) $$</p><p>æˆ‘ä»¬èƒ½å¤Ÿè½»æ˜“åœ°æ±‚å¾—å…¶å¯¼å‡½æ•°ä¸ºï¼š</p><p>$$ fâ€™(x) = \cos(e^{x^2}) \cdot e^{x^2} \cdot (2x) $$</p><p>é‚£ä¹ˆèƒ½å¦é€šè¿‡ç¼–ç¨‹è¯­è¨€å®ç°è¯¥å‡½æ•°åŠå…¶å¯¼å‡½æ•°ï¼Ÿç­”æ¡ˆæ˜¯å¯ä»¥ï¼Œè€Œä¸”éå¸¸å®¹æ˜“ï¼Œåªéœ€è¦æŠŠå¼å­é€é¡¹ç¿»è¯‘å³å¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> np.sin(np.exp(np.power(x, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f_prime</span>(<span class="params">x</span>):</span><br><span class="line">    t = np.exp(np.power(x, <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">return</span> np.cos(t) * t * (<span class="number">2</span>*x)</span><br></pre></td></tr></table></figure><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ±‚å¯¼å¯¹äºç¼–ç¨‹è¯­è¨€æ¥è¯´ä¼¼ä¹æ²¡ä»€ä¹ˆéš¾çš„ï¼Œä½†æ˜¯ä¸è¦å¿˜è®°ï¼Œæˆ‘ä»¬è¿™é‡Œç ”ç©¶çš„å‡½æ•°æ˜¯ä¸€ä¸ªå…·ä½“çš„å®ä¾‹ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ç”¨åˆ°çš„å‡½æ•°å°†ä¼šéå¸¸ä¸°å¯Œï¼Œå®ƒä»¬çš„ç»„åˆæ–¹å¼æ›´æ˜¯åƒå˜ä¸‡åŒ–ï¼Œå…‰æ˜¯ä¸Šé¢è¿™ä¸ªç®€å•çš„ä¾‹å­å°±ä¼šæœ‰æ— æ•°ç§å˜å½¢ï¼ä¾‹å¦‚ï¼š</p><p>$$ \begin{gathered}<br>f_2(x) = \cos(e^{x^2}) \\<br>f_3(x) = \sin(2^{x^2}) \\<br>f_4(x) = \sin(e^{x^3}) \\<br>\cdots<br>\end{gathered} $$</p><p>æ›´ä¸è¦æå„å¼å„æ ·çš„å…¶ä»–å¤æ‚å‡½æ•°ï¼š</p><p>$$ \begin{gathered}<br>g(x) = -y \ln(\frac{1}{1 + e^{-wx}}) - (1-y)\ln(1 - \frac{1}{1 + e^{-wx}}) \\<br>h(x) = (w_n\cdot(\cdots(\mathrm{relu}(w_2\cdot(\mathrm{relu}(w_1\cdot x))))) - y) ^ 2 \\<br>\cdots<br>\end{gathered} $$</p><p>å¦‚æœåšæŒæ‰‹å·¥æ±‚å¯¼çš„è¯ï¼Œæˆ‘ä»¬ä¸ä»…éœ€è¦æ— æ•°æ¬¡åœ°æ¨å¯¼å…¬å¼ï¼Œè€Œä¸”å¯¹äºæŸäº›å¤æ‚çš„å‡½æ•°ï¼Œæ±‚å¯¼å…¬å¼å¹¶ä¸ç®€å•ï¼Œæ˜¾ç„¶ä¸å¯èƒ½å®Œæˆã€‚</p><h2 id="é“¾å¼æ³•åˆ™">é“¾å¼æ³•åˆ™</h2><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€å¥—æŠ½è±¡çš„æ±‚å¯¼è§„åˆ™ï¼Œä½¿å¾—æ— è®ºå‡½æ•°çš„å…·ä½“å½¢å¼å¦‚ä½•ï¼Œéƒ½èƒ½è‡ªåŠ¨å¯¹å…¶æ±‚å¯¼ã€‚ä¹Ÿå°±æ˜¯å®ç°å¦‚ä¸‹æŠ½è±¡å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™ï¼š</p><p>$$ f(x) = g(h(k(\cdots(x))) $$</p><p>å°½ç®¡è¿™ä¸ªé—®é¢˜å¬ä¸Šå»è¦æ¯”å…·ä½“å‡½æ•°çš„æ±‚å¯¼å›°éš¾å¾—å¤šï¼Œä½†å®ƒä¾ç„¶æœ‰ç« å¯å¾ªã€‚å›æƒ³æˆ‘ä»¬æ±‚å¯¼çš„ä¸€èˆ¬è¿‡ç¨‹ï¼Œä¸è¿‡æ˜¯è¿ç”¨äº†ä»¥ä¸‹ä¸¤ç‚¹æŠ€æœ¯è€Œå·²ï¼š</p><ol><li><strong>åŸºæœ¬å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™</strong>ã€‚åŒ…æ‹¬ä¸‰è§’å‡½æ•°ã€æŒ‡æ•°å‡½æ•°ã€å¹‚å‡½æ•°ç­‰ã€‚</li><li><strong>é“¾å¼æ³•åˆ™</strong>ã€‚</li></ol><p>é“¾å¼æ³•åˆ™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å¯¹å¤åˆå‡½æ•°è¿›è¡Œæ±‚å¯¼ã€‚é’ˆå¯¹ä¸Šé¢çš„ä¾‹å­ï¼Œä¸ºäº†æ˜¾å¼åœ°è°ƒç”¨é“¾å¼æ³•åˆ™ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å¦‚ä¸‹ä¸­é—´å˜é‡ï¼š</p><p>$$ \begin{aligned}<br>u &amp;= x^2 \\<br>v &amp;= e^u \\<br>w &amp;= sin(v)<br>\end{aligned} $$</p><p>ä½¿ç”¨é“¾å¼æ³•åˆ™æè¿°çš„æ±‚å¯¼è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p>$$ \frac{\mathrm{d}y}{\mathrm{d}x} = \frac{\mathrm{d}y}{\mathrm{d}w} \cdot \frac{\mathrm{d}w}{\mathrm{d}v} \cdot \frac{\mathrm{d}v}{\mathrm{d}u} \cdot \frac{\mathrm{d}u}{\mathrm{d}x} $$</p><p>æœ‰äº†é“¾å¼æ³•åˆ™ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿâ€œæœºæ¢°â€åœ°æ¬è¿ä»»æ„åŸºæœ¬å‡½æ•°çš„å¯¼å‡½æ•°ï¼Œä»è€Œå¯¹éå¸¸å¤æ‚çš„å¤åˆå‡½æ•°æ±‚å¯¼ã€‚</p><h2 id="è®¡ç®—å›¾">è®¡ç®—å›¾</h2><p>ç”±ä¸Šè¿°åˆ†æå¯çŸ¥ï¼Œä¸€æ—¦æˆ‘ä»¬å®ç°äº†(1)åŸºæœ¬å‡½æ•°çš„æ±‚å¯¼æ³•åˆ™ä»¥åŠ(2)é“¾å¼æ³•åˆ™ï¼Œå°±èƒ½å¤Ÿè®©ç¨‹åºæ¨¡ä»¿æˆ‘ä»¬æ‰‹å·¥æ±‚å¯¼çš„è¿‡ç¨‹ï¼Œä»è€Œåšåˆ°â€œä»¥ä¸å˜åº”ä¸‡å˜â€ã€‚è®¡ç®—å›¾éå¸¸é€‚åˆç”¨æ¥æè¿°è¿™ä¸¤ä¸ªæ³•åˆ™ã€‚</p><p>è®¡ç®—å›¾åœ¨æ•°æ®ç»“æ„ä¸Šå±äº<strong>æœ‰å‘å›¾</strong>(Directed Graph)ï¼Œå›¾çš„æ¯ä¸ªèŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªâ€œåŸºæœ¬å‡½æ•°â€ï¼Œè€ŒèŠ‚ç‚¹ä¹‹é—´çš„æœ‰å‘è¾¹åˆ™å¯ç”¨äºæè¿°é“¾å¼æ³•åˆ™ã€‚</p><p>ä¸Šé¢çš„ä¾‹å­ä½¿ç”¨è®¡ç®—å›¾æè¿°å¦‚ä¸‹ï¼š</p><p>$$ x \to (\cdot)^2 \to e^{(\cdot)} \to \sin(\cdot) \to y $$</p><p>è®¡ç®—å›¾èƒ½å¤Ÿéå¸¸æ¸…æ™°åœ°å±•ç°æ•°æ®çš„æµåŠ¨è¿‡ç¨‹ã€‚ä»è¾“å…¥ $x$ å¼€å§‹ï¼Œä¸­é—´ä¾æ¬¡ç»è¿‡å¹³æ–¹ã€è‡ªç„¶æŒ‡æ•°ã€æ­£å¼¦å‡½æ•°ä¸‰ä¸ªåŸºæœ¬è¿ç®—ä¾æ¬¡ä½œç”¨ï¼Œæœ€ç»ˆå¾—åˆ°è¾“å‡º $y$ã€‚</p><blockquote><p>æ³¨æ„ï¼šè¿™ä¸ªä¾‹å­å¹¶éå…¸å‹çš„è®¡ç®—å›¾ï¼Œå› ä¸ºå…¶ä¸­æ‰€æ¶‰åŠçš„è¿ç®—éƒ½æ˜¯<strong>ä¸€å…ƒè¿ç®—</strong>ï¼Œå¯¼è‡´å›¾ç»“æ„æ˜¯çº¿æ€§çš„ï¼Œæ²¡æœ‰åˆ†æ”¯ï¼Œæ›´åƒæ˜¯<strong>é“¾è¡¨</strong>ã€‚</p><p>è¿™ç§çº¿æ€§ç»“æ„çš„è®¡ç®—å›¾<strong>æ— æ³•æè¿°åŠ æ³•ã€ä¹˜æ³•ç­‰å¤šå…ƒè¿ç®—</strong>ï¼Œä¾‹å¦‚ $x + sin(x)$ã€$x\sin(x)$ã€‚ä½†å®ƒçš„å¥½å¤„æ˜¯éå¸¸ç®€å•ï¼Œä¾¿äºç†è§£å’Œå®ç°ï¼Œå› æ­¤æˆ‘ä»¬å°†ç»§ç»­ä½¿ç”¨è¿™ç§çº¿æ€§ç»“æ„å®Œæˆæ¼”ç¤ºã€‚</p></blockquote><p>è®¡ç®—å›¾çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½åŒ…å«ä¸€ä¸ªåŸºæœ¬å‡½æ•°ï¼Œå¹¶ä¸”å…¶å¯¼å‡½æ•°æ˜¯å·²çŸ¥çš„ã€‚èŠ‚ç‚¹åœ¨è¿›è¡Œä¸€æ¬¡â€œå‰å‘è®¡ç®—â€æ—¶ï¼Œé™¤äº†è¦æ ¹æ®è¾“å…¥å€¼è®¡ç®—è¾“å‡ºå€¼ä¹‹å¤–ï¼Œè¿˜è¦è°ƒç”¨å¯¼å‡½æ•°è®¡ç®—æ¢¯åº¦å€¼ï¼Œå¹¶ç¼“å­˜åœ¨èŠ‚ç‚¹ä¸­ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å°†æ‰€æœ‰èŠ‚ç‚¹çš„æ¢¯åº¦å€¼ç›¸ä¹˜ï¼ˆé“¾å¼æ³•åˆ™ï¼‰å³å¯å¾—åˆ°æ•´ä¸ªè®¡ç®—æµç¨‹çš„æ€»æ¢¯åº¦ã€‚</p><h2 id="ä»£ç å®ç°">ä»£ç å®ç°</h2><p>åœ¨å®ç°ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ˜ç¡®æ¥å£çš„è®¾è®¡ï¼Œå³å‡æƒ³ç”¨æˆ·å°†ä¼šå¦‚ä½•è°ƒç”¨è®¡ç®—å›¾ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å·¥ç¨‹åŸåˆ™ã€‚</p><p>æˆ‘ä»¬æœŸæœ›ç”¨æˆ·ä»¥å¦‚ä¸‹æ–¹å¼è°ƒç”¨è®¡ç®—å›¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> compute_graph <span class="keyword">as</span> cg</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inp = cg.Input()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.power(inp, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.exp(out)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.sin(out)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph = ComputeGraph(inp, out)</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph.forward(x)</span><br><span class="line">array([<span class="number">0.84147098</span>, <span class="number">0.87454388</span>, <span class="number">0.95916224</span>, <span class="number">0.98307241</span>, <span class="number">0.41078129</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph.grad</span><br><span class="line">array([ <span class="number">0.</span>        ,  <span class="number">0.25811137</span>,  <span class="number">0.36319491</span>, -<span class="number">0.48233501</span>, -<span class="number">4.95669947</span>])</span><br></pre></td></tr></table></figure><p>è¿™ç§ API é£æ ¼ä¸ <a href="https://keras.io/zh/">Keras</a> éå¸¸æ¥è¿‘ï¼Œç¬¦åˆä¸€èˆ¬ç”¨æˆ·çš„ä½¿ç”¨ä¹ æƒ¯ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹ç€æ‰‹å®æ–½æˆ‘ä»¬çš„æƒ³æ³•ã€‚æˆ‘ä»¬è®¡åˆ’ä¸ºè®¡ç®—å›¾ã€è®¡ç®—å›¾èŠ‚ç‚¹åˆ†åˆ«è®¾è®¡ä¸€ä¸ªç±»ã€‚</p><h3 id="å›¾èŠ‚ç‚¹ç±»">å›¾èŠ‚ç‚¹ç±»</h3><p>é¦–å…ˆå®šä¹‰æ‰€æœ‰å›¾èŠ‚ç‚¹çš„åŸºç±»ï¼Œä»£è¡¨èŠ‚ç‚¹çš„é€šç”¨ç»“æ„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Node of compute graph&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, x, *args, **kw</span>):</span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å·²ç»å‡å®šè®¡ç®—å›¾ä¸ºçº¿æ€§ç»“æ„ï¼Œå› æ­¤åªéœ€è¦è¿æ¥å›¾ä¸­çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ xã€‚</span></span><br><span class="line">        <span class="comment"># å¦‚æœè€ƒè™‘ä¸€èˆ¬çš„å›¾ç»“æ„ï¼Œåˆ™éœ€è¦æ›´ä¸ºå¤æ‚çš„è®¾è®¡ï¼Œæ­¤å¤„ä¸äºˆè®¨è®ºã€‚</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(x, Node):</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;the input should be a compute graph Node object&#x27;</span>)</span><br><span class="line">        x.<span class="built_in">next</span> = <span class="variable language_">self</span></span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä½¿ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜è®¡ç®—çš„æ¢¯åº¦å€¼</span></span><br><span class="line">        <span class="variable language_">self</span>.grad = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å…¶ä½™éé€šç”¨å‚æ•°å•ç‹¬åˆå§‹åŒ–</span></span><br><span class="line">        <span class="variable language_">self</span>.init(*args, **kw)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">init</span>(<span class="params">self, *args, **kw</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;èŠ‚ç‚¹ä¸­ä¿å­˜çš„åŸºæœ¬å‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_grad</span>(<span class="params">self, x, out</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;åŸºæœ¬å‡½æ•°çš„å¯¼å‡½æ•°ï¼Œç”¨äºè®¡ç®—æ¢¯åº¦ã€‚</span></span><br><span class="line"><span class="string">        x, out åˆ†åˆ«æ˜¯ self.fun çš„è¾“å…¥å’Œè¾“å‡ºã€‚</span></span><br><span class="line"><span class="string">        ç†è®ºä¸Šåªéœ€è¦ x å³å¯è®¡ç®—å‡ºæ¢¯åº¦ï¼Œä½†å¾ˆå¤šå‡½æ•°çš„å¯¼å‡½æ•°ä¼šå¼•ç”¨è‡ªèº«ï¼Œä¾‹å¦‚æŒ‡æ•°å‡½æ•°ã€‚</span></span><br><span class="line"><span class="string">        å¼•å…¥ out ä½œä¸ºå‚æ•°å¯é¿å…è®¡ç®—æ¢¯åº¦æ—¶é‡å¤è®¡ç®—è‡ªèº«ã€‚</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;è®¡ç®—è¾“å‡ºï¼ŒåŒæ—¶ç¼“å­˜æ¢¯åº¦&quot;&quot;&quot;</span></span><br><span class="line">        out = <span class="variable language_">self</span>.fun(x)</span><br><span class="line">        <span class="variable language_">self</span>.grad = <span class="variable language_">self</span>.fun_grad(x, out)</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__class__.__name__</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&lt;&quot;&#123;&#125;&quot; node of compute graph&gt;&#x27;</span>.<span class="built_in">format</span>(<span class="built_in">str</span>(<span class="variable language_">self</span>))</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬çš„è®¡ç®—èŠ‚ç‚¹åªéœ€è¦ç»§æ‰¿èŠ‚ç‚¹åŸºç±»ï¼Œå¹¶å®ç° <code>fun</code> å’Œ <code>fun_grad</code> ä¸¤ä¸ªæ–¹æ³•å³å¯ã€‚</p><h4 id="æ­£å¼¦å‡½æ•°èŠ‚ç‚¹">æ­£å¼¦å‡½æ•°èŠ‚ç‚¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">sin</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Node of sin function&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> np.sin(x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_grad</span>(<span class="params">self, x, out</span>):</span><br><span class="line">        <span class="keyword">return</span> np.cos(x)</span><br></pre></td></tr></table></figure><h4 id="æŒ‡æ•°å‡½æ•°èŠ‚ç‚¹">æŒ‡æ•°å‡½æ•°èŠ‚ç‚¹</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">exp</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Node of exp function&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> np.exp(x)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_grad</span>(<span class="params">self, x, out</span>):</span><br><span class="line">        <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure><h4 id="å¹‚å‡½æ•°èŠ‚ç‚¹">å¹‚å‡½æ•°èŠ‚ç‚¹</h4><p>æ³¨æ„ï¼Œå¹‚å‡½æ•°éœ€è¦åœ¨åˆå§‹åŒ–æ—¶ä¼ å…¥é¢å¤–çš„å‚æ•°ï¼Œå³å¹‚æŒ‡æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">power</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Node of power function&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">init</span>(<span class="params">self, p</span>):</span><br><span class="line">        <span class="comment"># ä»å‚æ•°ä¸­æ¥æ”¶å¹‚æŒ‡æ•°</span></span><br><span class="line">        <span class="variable language_">self</span>.p = p</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> np.power(x, <span class="variable language_">self</span>.p)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_grad</span>(<span class="params">self, x, out</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.p * np.power(x, <span class="variable language_">self</span>.p - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#123;&#125;(., &#123;&#125;)&#x27;</span>.<span class="built_in">format</span>(<span class="variable language_">self</span>.__class__.__name__, <span class="variable language_">self</span>.p)</span><br></pre></td></tr></table></figure><h4 id="è¾“å…¥èŠ‚ç‚¹">è¾“å…¥èŠ‚ç‚¹</h4><p>ä¸æ™®é€šèŠ‚ç‚¹ä¸åŒï¼Œè¾“å…¥èŠ‚ç‚¹æ²¡æœ‰å‰é©±èŠ‚ç‚¹ï¼Œä¹Ÿä¸éœ€è¦å¯¹æ•°æ®è¿›è¡ŒåŠ å·¥å’Œæ±‚å¯¼ï¼Œå› æ­¤éœ€è¦å•ç‹¬è¿›è¡Œå®šä¹‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Input</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Input Node&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fun_grad</span>(<span class="params">self, x, out</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br></pre></td></tr></table></figure><h3 id="è®¡ç®—å›¾ç±»">è®¡ç®—å›¾ç±»</h3><p>æˆ‘ä»¬å·²ç»æŠŠä¸»è¦çš„è®¡ç®—è¿‡ç¨‹å®šä¹‰åœ¨äº†å›¾èŠ‚ç‚¹ç±»ä¸­ï¼Œå› æ­¤è®¡ç®—å›¾ç±»çš„ä»»åŠ¡å°±éå¸¸è½»æ¾äº†ï¼Œåªéœ€è¦æ•´åˆå›¾èŠ‚ç‚¹çš„è®¡ç®—ç»“æœå³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">ComputeGraph</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Compute Graph&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inp, out</span>):</span><br><span class="line">        <span class="variable language_">self</span>.head = inp</span><br><span class="line">        <span class="variable language_">self</span>.tail = out</span><br><span class="line">        <span class="variable language_">self</span>.grad = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self, x</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.head <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">&#x27;the graph is empty&#x27;</span>)</span><br><span class="line">        out = x</span><br><span class="line">        grad = <span class="number">1.0</span></span><br><span class="line">        node = <span class="variable language_">self</span>.head</span><br><span class="line">        <span class="keyword">while</span> node:</span><br><span class="line">            out = node.forward(out)</span><br><span class="line">            grad *= node.grad</span><br><span class="line">            node = node.<span class="built_in">next</span></span><br><span class="line">        <span class="variable language_">self</span>.grad = grad</span><br><span class="line">        <span class="keyword">return</span> out</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        node = <span class="variable language_">self</span>.head</span><br><span class="line">        desc = []</span><br><span class="line">        <span class="keyword">while</span> node:</span><br><span class="line">            desc.append(<span class="built_in">str</span>(node))</span><br><span class="line">            node = node.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; --&gt; &#x27;</span>.join(desc)</span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„ä»£ç å·²ç»å…¨éƒ¨å®Œæˆäº†ï¼Œæ˜¯ä¸æ˜¯ç®€å•åœ°å‡ºä¹æ„æ–™ï¼Ÿ</p><h4 id="éªŒè¯ä»£ç ">éªŒè¯ä»£ç </h4><p>åœ¨è¿›è¡Œæ¥å£è®¾è®¡æ—¶ï¼Œæˆ‘ä»¬ç»™å‡ºäº†ä¸€æ®µæ ·æ¿ä»£ç ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥éªŒè¯æˆ‘ä»¬çš„ç¨‹åºã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> compute_graph <span class="keyword">as</span> cg</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>inp = cg.Input()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.power(inp, <span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out</span><br><span class="line">&lt;<span class="string">&quot;power(., 2)&quot;</span> node of compute graph&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.exp(out)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>out = cg.sin(out)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph = ComputeGraph(inp, out)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">print</span>(graph)</span><br><span class="line">Input --&gt; power(., <span class="number">2</span>) --&gt; exp --&gt; sin</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = np.linspace(<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph.forward(x)</span><br><span class="line">array([<span class="number">0.84147098</span>, <span class="number">0.87454388</span>, <span class="number">0.95916224</span>, <span class="number">0.98307241</span>, <span class="number">0.41078129</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>graph.grad</span><br><span class="line">array([ <span class="number">0.</span>        ,  <span class="number">0.25811137</span>,  <span class="number">0.36319491</span>, -<span class="number">0.48233501</span>, -<span class="number">4.95669947</span>])</span><br></pre></td></tr></table></figure><p>ä»£ç æ— è¯¯ï¼Œä¸”è¾“å‡ºå®Œå…¨ç¬¦åˆé¢„æœŸã€‚</p><p>ä½†æˆ‘ä»¬è¿˜æœªè€ƒå¯Ÿè®¡ç®—ç»“æœæ˜¯å¦æ­£ç¡®æ— è¯¯ï¼Œæ¯•ç«Ÿè¿™æ‰æ˜¯æœ€é‡è¦çš„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¹‹å‰æ‰‹åŠ¨æ¨å¯¼çš„å…¬å¼å¯¹è®¡ç®—ç»“æœåŠ ä»¥éªŒè¯ï¼Œå‡½æ•°çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> np.sin(np.exp(np.power(x, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f_prime</span>(<span class="params">x</span>):</span><br><span class="line">    t = np.exp(np.power(x, <span class="number">2</span>))</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * x * np.cos(t) * t</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬è¿›è¡Œå¦‚ä¸‹éªŒè¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>f(x)</span><br><span class="line">array([<span class="number">0.84147098</span>, <span class="number">0.87454388</span>, <span class="number">0.95916224</span>, <span class="number">0.98307241</span>, <span class="number">0.41078129</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>f_prime(x)</span><br><span class="line">array([ <span class="number">0.</span>        ,  <span class="number">0.25811137</span>,  <span class="number">0.36319491</span>, -<span class="number">0.48233501</span>, -<span class="number">4.95669947</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.<span class="built_in">all</span>(f(x) == graph.forward(x))</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>np.<span class="built_in">all</span>(f_prime(x) == graph.grad)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜è®¡ç®—å›¾çš„è®¡ç®—ç»“æœå’Œæ¢¯åº¦å€¼å‡å‡†ç¡®æ— è¯¯ã€‚</p><p>ä¸Šè¿°ä»£ç åœ¨ä¸€äº›ç»†èŠ‚é—®é¢˜ä¸Šå¯èƒ½æœ‰æ‰€æ¬ ç¼ºï¼Œä½†è¶³ä»¥ä»å®è§‚ä¸Šç†è§£è®¡ç®—å›¾çš„å®ç°åŸç†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æœºå™¨å­¦ä¹  </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çº¿æ€§ä»£æ•°çš„æœ¬è´¨</title>
      <link href="/posts/66517499/"/>
      <url>/posts/66517499/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸º <a href="https://www.bilibili.com/video/av6731067/?p=1">3Blue1Brown-çº¿æ€§ä»£æ•°çš„æœ¬è´¨</a> ç³»åˆ—è§†é¢‘çš„ç¬”è®°ã€‚</p><span id="more"></span><p>è¯¥ç³»åˆ—è§†é¢‘ä¸“æ³¨äºå»ºç«‹çº¿æ€§ä»£æ•°ä¸­çš„<strong>å‡ ä½•ç›´è§‰</strong>ï¼Œè€Œå¯¹åŸºæœ¬å®šä¹‰ã€è®¡ç®—æ–¹æ³•ã€å…¬å¼å®šç†ç­‰ä¸åšè¯¦ç»†ä»‹ç»ï¼Œå…³äºè¿™éƒ¨åˆ†å†…å®¹å¯ä»¥å‚è€ƒæ™®é€šçº¿æ€§ä»£æ•°æ•™æã€‚</p><h2 id="å‘é‡ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ">å‘é‡ç©¶ç«Ÿæ˜¯ä»€ä¹ˆ</h2><p>å¯¹äºå‘é‡ï¼Œæœ‰ä¸‰ä¸ªä¸åŒçš„ç†è§£è§†è§’ï¼š</p><ol><li>ç‰©ç†å­¦è§†è§’ï¼šå‘é‡æ˜¯ç©ºé—´ä¸­çš„ä¸€ä¸ªç®­å¤´ï¼Œå…·æœ‰ä¸€å®šçš„<strong>é•¿åº¦</strong>å’Œ<strong>æ–¹å‘</strong>ã€‚åœ¨ç©ºé—´ä¸­å¹³ç§»å‘é‡ä¸ä¼šæ”¹å˜å…¶å€¼ã€‚</li><li>è®¡ç®—æœºè§†è§’ï¼šå‘é‡æ˜¯ä¸€ä¸ªæœ‰åºæ•°å­—åˆ—è¡¨ï¼Œä¾‹å¦‚ $\begin{bmatrix} 2 \cr 1 \end{bmatrix}$ã€‚</li><li>æ•°å­¦è§†è§’ï¼šå‘é‡ç”¨ç¬¦å·è¡¨ç¤ºä¸º $\mathbf{v}$ã€$\mathbf{w}$ï¼Œå®ƒå¯ä»¥ä»£è¡¨ä»»ä½•ä¸œè¥¿ï¼Œåªè¦å®šä¹‰äº†åˆç†çš„<strong>åŠ æ³•</strong>å’Œ<strong>æ•°ä¹˜</strong>è¿ç®—ã€‚</li></ol><p>é€šè¿‡å¼•å…¥åæ ‡ç³»ï¼Œæˆ‘ä»¬å¯ä»¥æ•´åˆå‰ä¸¤ç§è§‚ç‚¹ï¼Œè·å¾—æ–°çš„å‘é‡è§†è§’ï¼š</p><p><strong>å‘é‡æ˜¯åæ ‡ç³»ä¸­çš„ä¸€ä¸ªç®­å¤´ï¼Œèµ·ç‚¹å›ºå®šåœ¨åæ ‡åŸç‚¹ï¼Œç»ˆç‚¹è½åœ¨æŸä¸ªåæ ‡ä¸Šã€‚å‘é‡çš„ç»ˆç‚¹åæ ‡å°±æ˜¯å‘é‡çš„æ•°å€¼è¡¨ç¤ºã€‚</strong></p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622142401.png" alt=""></p><h3 id="å‘é‡çš„åŠ æ³•">å‘é‡çš„åŠ æ³•</h3><p>ä»æ•°å€¼è§’åº¦çœ‹ï¼Œå‘é‡åŠ æ³•çš„å®šä¹‰éå¸¸ç›´æ¥ï¼Œå³<strong>æŠŠä¸¤ä¸ªå‘é‡çš„å¯¹åº”åæ ‡åˆ†åˆ«ç›¸åŠ </strong>ã€‚ä½†è¿™æ ·çš„å®šä¹‰éšå«ç€æ€æ ·çš„å«ä¹‰å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå®šä¹‰å‘é‡åŠ æ³•ï¼Ÿ</p><p>ä»å‡ ä½•è§’åº¦çœ‹ï¼Œå‘é‡ $\mathbf{v} + \mathbf{w}$ï¼Œç›¸å½“äºæŠŠ $\mathbf{w}$ çš„èµ·ç‚¹ç§»åŠ¨åˆ° $\mathbf{v}$ çš„ç»ˆç‚¹åï¼Œä» $\mathbf{v}$ çš„èµ·ç‚¹æŒ‡å‘ $\mathbf{w}$ çš„ç»ˆç‚¹çš„å‘é‡ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622142718.png" alt=""></p><p>é—®é¢˜æ˜¯ä¸ºä»€ä¹ˆå‘é‡çš„åŠ æ³•å¯¹åº”ç€è¿™ç§å‡ ä½•å½¢å¼ï¼Œè€Œä¸æ˜¯åˆ«çš„å‡ ä½•å½¢å¼ï¼Ÿæ¯”å¦‚è¿™æ ·ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622142736.png" alt=""></p><p>æœ‰ä¸€ç§æ€ç»´æ–¹å¼å¯ä»¥å¾ˆå¥½åœ°è§£é‡Šè¿™ä¸ªé—®é¢˜ï¼Œå³æŠŠå‘é‡æƒ³è±¡æˆæŸç§â€œè¿åŠ¨â€ï¼Œé‚£ä¹ˆå‘é‡çš„åŠ æ³•å°±ä¼šéå¸¸ç›´è§‚ï¼šä¸€ä¸ªç‰©ä½“å…ˆæ²¿ç€å‘é‡ $\mathbf{v}$ è¿åŠ¨ï¼Œå†æ²¿ç€å‘é‡ $\mathbf{w}$ è¿åŠ¨ï¼Œå…¶â€œåˆè¿åŠ¨â€å°±æ˜¯ä» $\mathbf{v}$ çš„èµ·ç‚¹åˆ° $\mathbf{w}$ çš„ç»ˆç‚¹ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622121011862_26397.gif" alt=""></p><h3 id="å‘é‡çš„æ•°ä¹˜">å‘é‡çš„æ•°ä¹˜</h3><p>å‘é‡çš„æ•°ä¹˜å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå®æ•°ä¹˜ä»¥ä¸€ä¸ªå‘é‡ã€‚ä»æ•°å€¼è§’åº¦çœ‹ï¼Œå‘é‡æ•°ä¹˜çš„å®šä¹‰éå¸¸ç›´æ¥ï¼Œå³æŠŠå‘é‡çš„æ‰€æœ‰åæ ‡åˆ†åˆ«ä¹˜ä»¥è¯¥å®æ•°ã€‚</p><p>ä»å‡ ä½•è§’åº¦çœ‹ï¼Œå‘é‡æ•°ä¹˜å°±æ˜¯æŠŠå‘é‡çš„é•¿åº¦<strong>ç¼©æ”¾</strong>ï¼ˆScalingï¼‰æŸä¸ªå€æ•°ï¼ŒåŒæ—¶æ–¹å‘ä¿æŒä¸å˜ï¼ˆå¦‚æœç¼©æ”¾å€æ•°ä¸ºè´Ÿï¼Œåˆ™å‘é‡åå‘ï¼‰ã€‚ç¼©æ”¾çš„å€æ•°è¢«ç§°ä¸º<strong>æ ‡é‡ï¼ˆScalarï¼‰</strong>ã€‚</p><p>åœ¨çº¿æ€§ä»£æ•°ä¸­ï¼Œ<strong>ä¸€ä¸ªæ ‡é‡å‡ ä¹æ€»æ˜¯å¯¹åº”ç€ä¸€ç§ç¼©æ”¾ä½œç”¨</strong>ã€‚</p><h2 id="çº¿æ€§ç»„åˆã€å¼ æˆçš„ç©ºé—´ä¸åŸº">çº¿æ€§ç»„åˆã€å¼ æˆçš„ç©ºé—´ä¸åŸº</h2><p>æˆ‘ä»¬ä»‹ç»ä¸€ç§æ–°çš„æ€ç»´æ–¹å¼æ¥çœ‹å¾…å‘é‡çš„åæ ‡ï¼š</p><p>å¯¹äºå‘é‡ $\begin{bmatrix} 3 \cr -2 \end{bmatrix}$ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçš„ä¸¤ä¸ªåæ ‡åˆ†åˆ«çœ‹ä½œä¸¤ä¸ªæ ‡é‡ï¼Œå³ $3$ å’Œ $-2$ã€‚æ ¹æ®ä¸Šä¸€èŠ‚çš„å†…å®¹ï¼Œè¿™ä¸¤ä¸ªæ ‡é‡åˆ†åˆ«ä»£è¡¨ç€å¯¹ä¸¤ä¸ªå‘é‡çš„ç¼©æ”¾ä½œç”¨ï¼Œè¿™ä¸¤ä¸ªå‘é‡éšå«åœ¨åæ ‡ç³»ä¸­ï¼Œåˆ†åˆ«ä¸º $x$ è½´æ–¹å‘å’Œ $y$ è½´æ–¹å‘çš„<strong>å•ä½å‘é‡</strong>ï¼Œè®°ä½œ $\boldsymbol{\hat{\imath}}$ï¼Œ$\boldsymbol{\hat{\jmath}}$ã€‚</p><p>é‚£ä¹ˆå‘é‡çš„åæ ‡è¡¨ç¤ºå¯ä»¥è‡ªç„¶åœ°è½¬åŒ–ä¸º<strong>å¯¹å•ä½å‘é‡ç¼©æ”¾ç„¶åæ±‚å’Œ</strong>ï¼š</p><p>$$ \begin{bmatrix}<br>3 \cr -2<br>\end{bmatrix} = (3)\boldsymbol{\hat{\imath}} + (-2)\boldsymbol{\hat{\jmath}} $$</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622142821.png" alt=""></p><p>ç”±äºå•ä½å‘é‡çš„ç‰¹æ®Šæ€§ï¼Œæˆ‘ä»¬å°† $\boldsymbol{\hat{\imath}}$ ä¸ $\boldsymbol{\hat{\jmath}}$ ç§°ä½œ $xy$ åæ ‡ç³»çš„<strong>åŸºå‘é‡</strong>ã€‚</p><p>åŸºå‘å¯ä»¥ä»»æ„é€‰å–ï¼Œä¸é™äº $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ã€‚ç©ºé—´ä¸­çš„åŒä¸€ä¸ªå‘é‡åœ¨ä¸¤ç»„ä¸åŒçš„åŸºå‘é‡ä¸‹ï¼Œå…¶åæ ‡å€¼æ˜¯ä¸åŒçš„ï¼Œå› æ­¤ï¼Œ<strong>æ¯å½“æˆ‘ä»¬ç”¨æ•°å­—æè¿°å‘é‡æ—¶ï¼Œå®ƒæ€»æ˜¯ä¾èµ–äºæˆ‘ä»¬æ­£åœ¨ä½¿ç”¨çš„åŸº</strong>ã€‚</p><p>æŠŠä¸¤ä¸ªå‘é‡åˆ†åˆ«åšæ•°ä¹˜ç„¶åæ±‚å’Œï¼Œç§°ä¸ºè¿™ä¸¤ä¸ªå‘é‡çš„<strong>çº¿æ€§ç»„åˆ</strong>ï¼Œè®°ä½œï¼š</p><p>$$ a \mathbf{v} + b \mathbf{w} $$</p><p>æ‰€æœ‰å¯ä»¥è¡¨ç¤ºä¸ºç»™å®šå‘é‡çº¿æ€§ç»„åˆçš„å‘é‡çš„é›†åˆï¼Œè¢«ç§°ä¸ºç»™å®šå‘é‡<strong>å¼ æˆï¼ˆspanï¼‰çš„ç©ºé—´</strong>ã€‚å¯¹åº”åˆ°ä¸Šè¿°è¡¨è¾¾å¼ä¸­ï¼Œä¹Ÿå°±æ˜¯ $a$ï¼Œ$b$ åœ¨å®æ•°èŒƒå›´å†…è‡ªç”±å˜åŠ¨æ—¶ï¼Œ$a \mathbf{v} + b \mathbf{w}$ å¾—åˆ°çš„æ‰€æœ‰å‘é‡çš„é›†åˆã€‚</p><blockquote><p>å‘é‡çš„åæ ‡å¯¹åº”ç€å¯¹åŸºå‘é‡ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ çš„çº¿æ€§ç»„åˆã€‚</p></blockquote><p>å‘é‡çš„åŠ æ³•å’Œæ•°ä¹˜è¿ç®—æ˜¯æ•´ä¸ªçº¿æ€§ä»£æ•°çš„åŸºçŸ³ã€‚<strong>ä¸¤ä¸ªå‘é‡å¼ æˆçš„ç©ºé—´å®é™…ä¸Šå°±æ˜¯åœ¨è¯´ï¼Œä»…é€šè¿‡å‘é‡åŠ æ³•å’Œå‘é‡æ•°ä¹˜è¿™ä¸¤ç§åŸºç¡€è¿ç®—ï¼Œèƒ½å¤Ÿè·å¾—çš„æ‰€æœ‰å¯èƒ½çš„å‘é‡çš„é›†åˆ</strong>ã€‚</p><p>å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä¸€å¯¹å‘é‡å¼ æˆçš„ç©ºé—´å¯¹åº”æ•´ä¸ªå¹³é¢ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622142841.png" alt=""></p><p>ç„¶è€Œï¼Œå½“ä¸¤ä¸ªåˆå§‹å‘é‡å…±çº¿æ—¶ï¼Œå®ƒä»¬å¼ æˆçš„ç©ºé—´å°±åªèƒ½æ˜¯å®ƒä»¬æ‰€åœ¨çš„ç›´çº¿ã€‚æ›´ç³Ÿç³•çš„æƒ…å†µæ˜¯ï¼Œå¦‚æœä¸¤ä¸ªåˆå§‹å‘é‡éƒ½æ˜¯é›¶å‘é‡ï¼Œé‚£ä¹ˆå®ƒä»¬å¼ æˆçš„ç©ºé—´åªåŒ…å«ä¸€ä¸ªç‚¹ï¼Œä¹Ÿå°±æ˜¯åæ ‡åŸç‚¹ã€‚</p><p>åä¸¤ç§æƒ…å†µåœ¨ä¸‰ç»´æˆ–æ›´é«˜ç»´ç©ºé—´åŒæ ·å­˜åœ¨ã€‚åœ¨è¿™ç±»æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„åŸå§‹å‘é‡ç»„åˆä¸­è‡³å°‘å­˜åœ¨ä¸€ä¸ªå‘é‡æ²¡æœ‰å¯¹å¼ æˆçš„ç©ºé—´ä½œå‡ºä»»ä½•è´¡çŒ®ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬ç§°åŸå§‹å‘é‡ç»„åˆæ˜¯<strong>çº¿æ€§ç›¸å…³</strong>çš„ã€‚</p><p>åœ¨ä¸€ç»„çº¿æ€§ç›¸å…³çš„å‘é‡ç»„åˆä¸­ï¼ŒæŸäº›å‘é‡å¯ä»¥é€šè¿‡å…¶ä½™å‘é‡çš„çº¿æ€§ç»„åˆè¡¨ç¤ºå‡ºæ¥ï¼Œå› è€Œå»æ‰è¿™äº›å‘é‡ä¸ä¼šå½±å“å¼ æˆçš„ç©ºé—´ã€‚åä¹‹ï¼Œå¦‚æœåœ¨ä¸€ç»„å‘é‡ä¸­ï¼Œä»»æ„ä¸€ä¸ªå‘é‡éƒ½ä¸èƒ½é€šè¿‡å…¶ä½™å‘é‡çš„çº¿æ€§ç»„åˆè¡¨ç¤ºå‡ºæ¥ï¼Œé‚£ä¹ˆç§°è¿™ç»„å‘é‡æ˜¯<strong>çº¿æ€§æ— å…³</strong>çš„ã€‚</p><p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç»™å‡º<strong>åŸº</strong>çš„ä¸¥æ ¼å®šä¹‰ï¼š<strong>å‘é‡ç©ºé—´çš„ä¸€ç»„åŸºæ˜¯å¼ æˆè¯¥ç©ºé—´çš„ä¸€ç»„çº¿æ€§æ— å…³çš„å‘é‡</strong>ã€‚</p><h2 id="çŸ©é˜µä¸çº¿æ€§å˜æ¢">çŸ©é˜µä¸çº¿æ€§å˜æ¢</h2><p>å˜æ¢ï¼ˆtransformationï¼‰æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å‡½æ•°ï¼ˆfunctionï¼‰ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‘é‡ä½œä¸ºè¾“å…¥ï¼Œç„¶åè¾“å‡ºä¸€ä¸ªæ–°çš„å‘é‡ã€‚</p><p>ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸ºå˜æ¢ï¼Œè€Œä¸æ˜¯ç®€å•åœ°ç§°ä½œå‡½æ•°ï¼Œæ˜¯å› ä¸ºå˜æ¢éšå«ç€â€œè¿åŠ¨â€çš„å«ä¹‰ï¼Œè€Œè¿™ç§è¿åŠ¨æ˜¯èƒ½å¤Ÿå¯è§†åŒ–çš„ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622110726823_15747.gif" alt=""></p><p>ä¸€äº›å˜æ¢å¯èƒ½éå¸¸å¤æ‚ï¼Œä½¿ç©ºé—´å‘ç”Ÿå·æ›²ã€ç¼ ç»•ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622110752737_23282.gif" alt=""></p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622110803267_8515.gif" alt=""></p><p>ä½†å¹¸è¿çš„æ˜¯ï¼Œ<strong>çº¿æ€§å˜æ¢</strong>æ˜¯ä¸€ç±»ç‰¹æ®Šçš„ã€ç®€å•çš„å˜æ¢ï¼Œå…¶å¯¹ç©ºé—´é€ æˆçš„å˜å½¢ä½œç”¨ä»ç›´è§‰ä¸Šå®¹æ˜“ç†è§£ã€‚çº¿æ€§å˜æ¢éœ€è¦æ»¡è¶³å¦‚ä¸‹ä¸¤æ¡æ€§è´¨ï¼š</p><ol><li>ç©ºé—´ä¸­æ‰€æœ‰çš„ç›´çº¿åœ¨å˜æ¢åä»ç„¶ä¿æŒç›´çº¿ï¼Œä¸èƒ½å‘ç”Ÿå¼¯æ›²ã€‚</li><li>åŸç‚¹å¿…é¡»ä¿æŒå›ºå®šã€‚</li></ol><p>ç®€è€Œè¨€ä¹‹ï¼Œ<strong>çº¿æ€§å˜æ¢æ˜¯ä¿æŒç©ºé—´ç½‘æ ¼çº¿å¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒçš„å˜æ¢</strong>ï¼Œæ­£å¦‚ä¸Šè¿°ç¬¬ä¸€å¼ åŠ¨å›¾æ‰€å±•ç¤ºçš„é‚£æ ·ã€‚</p><p>æœ‰äº†ç›´è§‰ä¸Šçš„è®¤è¯†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç”¨æ•°å€¼æ¥æè¿°çº¿æ€§å˜æ¢å‘¢ï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸ªéå¸¸å…³é”®çš„æ¨è®ºï¼š<strong>çº¿æ€§å˜æ¢èƒ½å¤Ÿç»´æŒå‘é‡åŠ æ³•å’Œæ•°ä¹˜ï¼ˆæˆ–è€…è¯´ç»´æŒçº¿æ€§ç»„åˆå…³ç³»ï¼‰</strong>ã€‚</p><p>å‡è®¾å‘é‡ $\mathbf{v}=\begin{bmatrix} x \cr y \end{bmatrix}$ï¼Œåˆ™ $\mathbf{v}$ èƒ½å¤Ÿè¡¨ç¤ºæˆåŸºå‘é‡ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ çš„çº¿æ€§ç»„åˆï¼Œå³ $\mathbf{v} = x\boldsymbol{\hat{\imath}} + y\boldsymbol{\hat{\jmath}}$ã€‚ç»å†ä»»æ„çº¿æ€§å˜æ¢åï¼Œè¯¥ç»„åˆå…³ç³»æ€»æ˜¯ä¿æŒä¸å˜ï¼Œå³ $\mathbf{v}â€™ = x\boldsymbol{\hat{\imath}}â€™ + y\boldsymbol{\hat{\jmath}}'$ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åœ¨çº¿æ€§å˜æ¢å‰åï¼Œå‘é‡æœ¬èº«è™½ç„¶å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†å®ƒå¯¹å½“å‰åŸºå‘é‡çš„ç»„åˆå…³ç³»æ€»æ˜¯ä¿æŒä¸å˜</strong>ã€‚ä¹‹æ‰€ä»¥å¦‚æ­¤ï¼Œæ˜¯å› ä¸ºåŸºå‘é‡ä¹ŸåŒæ­¥å‘ç”Ÿäº†å˜æ¢ï¼Œè¿™ä¸ªå˜æ¢å·§å¦™åœ°ç»´æŒäº†æ‰€æœ‰çš„çº¿æ€§ç»„åˆå…³ç³»ï¼Œè€Œè¿™æ­£æ˜¯â€œä¿æŒç©ºé—´ç½‘æ ¼çº¿å¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒâ€çš„è‡ªç„¶ç»“æœã€‚</p><p>ä¸Šè¿°æ¨è®ºå·²ç»ç»™å‡ºäº†æè¿°ä¸€ä¸ªçº¿æ€§å˜æ¢çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå³ï¼š</p><p>$$ \mathbf{v}â€™ = x\boldsymbol{\hat{\imath}}â€™ + y\boldsymbol{\hat{\jmath}}â€™ $$</p><p>æˆ‘ä»¬åªéœ€è¦è¿½è¸ªå˜æ¢åçš„åŸºå‘é‡ $\boldsymbol{\hat{\imath}}â€˜$ å’Œ $\boldsymbol{\hat{\jmath}}â€™$ï¼Œå°±èƒ½å¾—åˆ°ä»»æ„ä¸€ä¸ªå˜æ¢åçš„å‘é‡ $\mathbf{v}'$ã€‚</p><blockquote><p>æ³¨æ„ï¼šå½“è®¨è®º $\mathbf{v}'$ çš„åæ ‡æ—¶ï¼Œæˆ‘ä»¬æ‰€å…³æ³¨çš„æ˜¯å®ƒåœ¨åŸå§‹åæ ‡ç³»ä¸‹çš„åæ ‡è¡¨è¿°ï¼Œè€Œä¸æ˜¯åœ¨å˜æ¢ååæ ‡ç³»ä¸‹çš„åæ ‡è¡¨è¿°ã€‚åè€…å®é™…ä¸Šå°±æ˜¯å‘é‡å¯¹å½“å‰åŸºçš„ç»„åˆå…³ç³»ï¼Œæ€»æ˜¯ä¿æŒä¸å˜ï¼Œæ˜¯æ— æ„ä¹‰çš„ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œä½œä¸ºè§‚å¯Ÿè€…ï¼Œæˆ‘ä»¬æ€»æ˜¯è¦åŸºäºä¸€ä¸ªå›ºå®šä¸å˜çš„å‚è€ƒç³»ï¼ˆå³åŸå§‹åæ ‡ç³»ï¼‰ï¼Œä¸ç®¡æ˜¯å˜æ¢å‰è¿˜æ˜¯å˜æ¢åã€‚å¦‚æœåˆ‡æ¢åæ ‡ç³»ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å‘é‡åæ ‡å°±å¤±å»å¯æ¯”æ€§äº†ã€‚</p></blockquote><p>è®©æˆ‘ä»¬ä»¥å…¬å¼çš„å½¢å¼æ›´æ˜ç¡®åœ°æè¿°ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ã€‚</p><p>å‡è®¾åœ¨æŸä¸ªçº¿æ€§å˜æ¢ä¸­ï¼ŒåŸºå‘é‡å‘ç”Ÿäº†å¦‚ä¸‹å˜æ¢ï¼š</p><p>$$ \boldsymbol{\hat{\imath}} \rightarrow \boldsymbol{\hat{\imath}}â€™ = \color{green}{\begin{bmatrix} 1 \cr -2 \end{bmatrix}}<br>\qquad<br>\boldsymbol{\hat{\jmath}} \rightarrow \boldsymbol{\hat{\jmath}}â€™ = \color{red}{\begin{bmatrix} 3 \cr 0 \end{bmatrix}}<br>$$</p><p>é‚£ä¹ˆå¯¹äºä»»æ„ä¸€ä¸ªå‘é‡ $\mathbf{v}$ï¼Œå®ƒå°†å‘ç”Ÿå¦‚ä¸‹å˜æ¢ï¼š</p><p>$$ \begin{bmatrix} x \cr y \end{bmatrix} \rightarrow<br>x \boldsymbol{\hat{\imath}}â€™ + y \boldsymbol{\hat{\jmath}}â€™ =<br>x \color{green}{\begin{bmatrix} 1 \cr -2 \end{bmatrix}}\color{black}{} +<br>y \color{red}{\begin{bmatrix} 3 \cr 0 \end{bmatrix}}\color{black}{} =<br>\begin{bmatrix}<br>\color{green}{1}\color{black}{} x + \color{red}{3}\color{black}{} y \cr<br>\color{green}{-2}\color{black}{} x + \color{red}{0}\color{black}{} y<br>\end{bmatrix} $$</p><p>ç”±ä»¥ä¸Šçš„æ¨å¯¼å¯ä»¥çœ‹å‡ºï¼Œä¸€ä¸ªçº¿æ€§å˜æ¢å®Œå…¨ç”±å˜æ¢åçš„åŸºå‘é‡ $\boldsymbol{\hat{\imath}}â€˜$ å’Œ $\boldsymbol{\hat{\jmath}}â€™$ æ‰€ç¡®å®šã€‚å‡è®¾å®ƒä»¬çš„åæ ‡åˆ†åˆ«ä¸º $\color{green}{\begin{bmatrix} a \cr c \end{bmatrix}}\color{black}{}$ å’Œ $\color{red}{\begin{bmatrix} b \cr d \end{bmatrix}}\color{black}{}$ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬å†™åœ¨ä¸€èµ·ï¼š</p><p>$$ \begin{bmatrix}<br>\color{green}{a}\color{black}{} &amp; \color{red}{b}\color{black}{} \cr<br>\color{green}{c}\color{black}{} &amp; \color{red}{d}\color{black}{}<br>\end{bmatrix} $$</p><p>è¿™å°±å¾—åˆ°äº†ä¸€ä¸ª $2 \times 2$ çš„<strong>çŸ©é˜µ</strong>ï¼Œå®ƒæºå¸¦äº†å½“å‰çº¿æ€§å˜æ¢çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¤ä¸ºè¯¥<strong>çŸ©é˜µå°±æ˜¯çº¿æ€§å˜æ¢çš„æ•°å€¼è¡¨ç¤º</strong>ã€‚</p><p>æˆ‘ä»¬å°†è¯¥çº¿æ€§å˜æ¢ä½œç”¨äºä»»æ„å‘é‡ $\begin{bmatrix} x \cr y \end{bmatrix}$ï¼Œå¯ä»¥å¾—åˆ°ï¼š</p><p>$$ x \color{green}{\begin{bmatrix} a \cr c \end{bmatrix}}\color{black}{} +<br>y \color{red}{\begin{bmatrix} b \cr d \end{bmatrix}}\color{black}{} =<br>\begin{bmatrix}<br>\color{green}{a}\color{black}{} x + \color{red}{b}\color{black}{} y \cr<br>\color{green}{c}\color{black}{} x + \color{red}{d}\color{black}{} y<br>\end{bmatrix} $$</p><p>è‡ªç„¶åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªè¿ç®—å®šä¹‰æˆ<strong>çŸ©é˜µå¯¹å‘é‡çš„ä¹˜æ³•</strong>ï¼š</p><p>$$ \begin{bmatrix}<br>\color{green}{a}\color{black}{} &amp; \color{red}{b}\color{black}{} \cr<br>\color{green}{c}\color{black}{} &amp; \color{red}{d}\color{black}{}<br>\end{bmatrix}<br>\begin{bmatrix} x \cr y \end{bmatrix} \overset{def}{=}<br>x \color{green}{\begin{bmatrix} a \cr c \end{bmatrix}}\color{black}{} +<br>y \color{red}{\begin{bmatrix} b \cr d \end{bmatrix}}\color{black}{} =<br>\begin{bmatrix}<br>\color{green}{a}\color{black}{} x + \color{red}{b}\color{black}{} y \cr<br>\color{green}{c}\color{black}{} x + \color{red}{d}\color{black}{} y<br>\end{bmatrix} $$</p><p>åœ¨è¿™ä¸ªè¡¨è¾¾å¼ä¸­ï¼ŒçŸ©é˜µæ”¾åœ¨å‘é‡å·¦ä¾§ï¼Œå…¶ä½œç”¨ç±»ä¼¼äºä¸€ä¸ªå‡½æ•°ã€‚çŸ©é˜µä¸å‘é‡ç›¸ä¹˜ï¼Œå°±æ˜¯å¯¹å‘é‡æ–½åŠ ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼ˆä¹Ÿå°±æ˜¯ä¸€ç§ç‰¹å®šçš„å‡½æ•°ï¼‰ã€‚è€ŒçŸ©é˜µçš„åˆ—å‘é‡å°±æ˜¯å˜æ¢åçš„åŸºå‘é‡ï¼Œå› æ­¤å½“æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªçŸ©é˜µæ—¶ï¼Œå¾ˆå®¹æ˜“æƒ³è±¡å‡ºå¯¹åº”çš„çº¿æ€§å˜æ¢ã€‚åè¿‡æ¥ï¼Œå½“æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªçº¿æ€§å˜æ¢çš„å¯è§†åŒ–è¡¨ç¤ºæ—¶ï¼Œä¹Ÿå¾ˆå®¹æ˜“æ„é€ å‡ºç›¸åº”çš„çŸ©é˜µã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸¤ä¸ªä¾‹å­ï¼Œå¸®åŠ©ä½ ç»ƒä¹ å¦‚ä½•ä»ä¸€ä¸ªç›´è§‰åŒ–çš„çº¿æ€§å˜æ¢å‡ºå‘ï¼Œæ„é€ å‡ºä¸€ä¸ªçŸ©é˜µï¼š</p><ol><li><p>ç»™å‡ºçº¿æ€§å˜æ¢â€œé€†æ—¶é’ˆæ—‹è½¬ 90Â°â€çš„çŸ©é˜µå½¢å¼ã€‚</p><p>é€†æ—¶é’ˆæ—‹è½¬ 90Â° åï¼Œ$\boldsymbol{\hat{\imath}}$ è½åœ¨åæ ‡ $\begin{bmatrix} 0 \cr 1 \end{bmatrix}$ å¤„ï¼Œ$\boldsymbol{\hat{\jmath}}$ è½åœ¨åæ ‡ $\begin{bmatrix} -1 \cr 0 \end{bmatrix}$ å¤„ã€‚å› æ­¤ï¼Œè¯¥çº¿æ€§å˜æ¢çš„çŸ©é˜µå½¢å¼ä¸ºï¼š</p><p>$$ \begin{bmatrix}<br>0 &amp; -1 \cr<br>1 &amp; 0<br>\end{bmatrix} $$</p></li><li><p>ç»™å‡ºçº¿æ€§å˜æ¢â€œå‘å³å‰ªåˆ‡ 1 ä¸ªå•ä½â€çš„çŸ©é˜µå½¢å¼ã€‚</p><p>å‘å³å‰ªåˆ‡ 1 ä¸ªå•ä½åï¼Œ$\boldsymbol{\hat{\imath}}$ ä¸å˜ï¼Œè½åœ¨åæ ‡ $\begin{bmatrix} 1 \cr 0 \end{bmatrix}$ å¤„ï¼Œ$\boldsymbol{\hat{\jmath}}$ å‘å³ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œè½åœ¨åæ ‡ $\begin{bmatrix} 1 \cr 1 \end{bmatrix}$ å¤„ã€‚å› æ­¤ï¼Œè¯¥çº¿æ€§å˜æ¢çš„çŸ©é˜µå½¢å¼ä¸ºï¼š</p><p>$$ \begin{bmatrix}<br>1 &amp; 1 \cr<br>0 &amp; 1<br>\end{bmatrix} $$</p></li></ol><p>ç°åœ¨åå‘æ€è€ƒï¼Œå¦‚ä½•ä»ä¸€ä¸ªçŸ©é˜µå‡ºå‘ï¼Œè·å¾—å®ƒæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢çš„å‡ ä½•ç›´è§‰ï¼Ÿä¾‹å¦‚çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>1 &amp; 3 \cr<br>2 &amp; 1<br>\end{bmatrix} $$</p><p>æˆ‘ä»¬åªéœ€è¦åœ¨ä¿æŒâ€œç©ºé—´ç½‘æ ¼çº¿å¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒâ€çš„æƒ…å†µä¸‹ï¼Œå°† $\boldsymbol{\hat{\imath}}$ æ‹‰ä¼¸åˆ° $\begin{bmatrix} 1 \cr 2 \end{bmatrix}$ï¼Œ$\boldsymbol{\hat{\jmath}}$ æ‹‰ä¼¸åˆ° $\begin{bmatrix} 3 \cr 1 \end{bmatrix}$ å³å¯ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622115306991_9892.gif" alt=""></p><p>æœ€åæˆ‘ä»¬ç»™å‡ºâ€œçº¿æ€§â€çš„ä¸¥æ ¼å®šä¹‰ï¼š</p><p>è‹¥ä¸€ä¸ªå‡½æ•°æˆ–å˜æ¢ $L$ æ»¡è¶³ä»¥ä¸‹ä¸¤æ¡æ€§è´¨ï¼š</p><ol><li><p><strong>å¯åŠ æ€§</strong><br>$$ L(\mathbf{v} + \mathbf{w}) = L(\mathbf{v}) + L(\mathbf{w}) $$</p></li><li><p><strong>æˆæ¯”ä¾‹</strong>ï¼ˆä¸€é˜¶é½æ¬¡ï¼‰<br>$$ L(c \mathbf{v}) = c L(\mathbf{v}) $$</p></li></ol><p>åˆ™ç§°è¯¥å‡½æ•°æˆ–å˜æ¢æ»¡è¶³çº¿æ€§ã€‚</p><h2 id="çŸ©é˜µä¹˜æ³•ä¸çº¿æ€§å˜æ¢å¤åˆ">çŸ©é˜µä¹˜æ³•ä¸çº¿æ€§å˜æ¢å¤åˆ</h2><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æè¿°ä¸¤ä¸ªæˆ–å¤šä¸ªçº¿æ€§å˜æ¢çš„ç›¸ç»§ä½œç”¨ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æè¿°è¿™ä¸ªå˜æ¢ï¼šå…ˆé€†æ—¶é’ˆæ—‹è½¬ 90Â°ï¼Œç„¶åå‘å³å‰ªåˆ‡ä¸€ä¸ªå•ä½ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622120022752_12538.gif" alt=""></p><p>ç”±äºæ¯ä¸ªçº¿æ€§å˜æ¢éƒ½ä¼šä¿æŒç½‘æ ¼çº¿å¹³è¡Œä¸”ç­‰è·åˆ†å¸ƒï¼Œå› æ­¤æœ€ç»ˆå åŠ çš„ç»“æœä»ç„¶æ˜¯ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠè¿™ä¸ªå˜æ¢ç§°ä½œå‰ä¸¤ä¸ªç‹¬ç«‹å˜æ¢çš„<strong>å¤åˆå˜æ¢</strong>ã€‚å¹¶ä¸”ï¼Œå¤åˆå˜æ¢ä¸å¤šä¸ªç‹¬ç«‹å˜æ¢åº”å½“æ˜¯ç­‰ä»·çš„ï¼Œå› ä¸ºå®ƒä»¬æœ€ç»ˆçš„å˜æ¢æ•ˆæœå®Œå…¨ç›¸åŒï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622120256034_15588.gif" alt=""></p><p>å› æ­¤æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹é¢çš„ç­‰å¼ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622143035.png" alt=""></p><p>è¿™ä¸ªç­‰å¼è¡¨æ˜ï¼Œä¸¤ä¸ªçŸ©é˜µå¯¹å‘é‡çš„ç›¸ç»§ä½œç”¨ç­‰åŒäºä¸€ä¸ªå¤åˆçŸ©é˜µå¯¹è¯¥å‘é‡çš„ä½œç”¨ã€‚æˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¸Šæ›´è¿›ä¸€æ­¥ï¼Œå†™æˆï¼š</p><p>$$ \begin{bmatrix} 1 &amp; 1 \cr 0 &amp; 1 \end{bmatrix}<br>\begin{bmatrix} 0 &amp; -1 \cr 1 &amp; 0 \end{bmatrix} =<br>\begin{bmatrix} 1 &amp; -1 \cr 1 &amp; 0 \end{bmatrix} $$</p><p>ä¸€ç§è‡ªç„¶ä¸”åˆç†çš„æƒ³æ³•æ˜¯ï¼Œ<strong>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ç§è¿ç®—å®šä¹‰ä¸ºçŸ©é˜µä¹˜æ³•ï¼Œå®ƒçš„å‡ ä½•æ„ä¹‰å°±æ˜¯ä¸¤ä¸ªçº¿æ€§å˜æ¢çš„ç›¸ç»§ä½œç”¨</strong>ã€‚</p><p><strong>çŸ©é˜µä¹˜æ³•éœ€è¦ä»å³å‘å·¦è¯»ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯å…ˆåº”ç”¨å³ä¾§çš„çº¿æ€§å˜æ¢ï¼Œç„¶ååº”ç”¨å·¦ä¾§çš„çº¿æ€§å˜æ¢</strong>ã€‚è¿™ç§é¡ºåºçœ‹ä¼¼åå‘ï¼Œä½†å¦‚æœä»çŸ©é˜µçš„å‡½æ•°ç‰¹æ€§å‡ºå‘ï¼ŒæŠŠçŸ©é˜µçœ‹ä½œä¸€ç§å‡½æ•°è®°å·ï¼Œé‚£ä¹ˆè‡ªå³å‘å·¦çš„é¡ºåºå°±å¾ˆå®¹æ˜“ç†è§£ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ç ”ç©¶å¤åˆå‡½æ•°æ—¶ï¼ˆä¾‹å¦‚ $f(g(x))$ï¼‰ï¼Œä¹Ÿæ˜¯ä»å³å‘å·¦è¯»çš„ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p>ä»¥ä¸Šï¼Œæˆ‘ä»¬ä»å‡ ä½•ç›´è§‰å‡ºå‘ï¼Œå»ºç«‹äº†çŸ©é˜µä¹˜æ³•çš„å®šä¹‰ã€‚</p><p>ä»æ•°å€¼è®¡ç®—è§’åº¦æ¥çœ‹ï¼ŒçŸ©é˜µä¹˜æ³•çš„è®¡ç®—è§„åˆ™éå¸¸å¥‡æ€ªï¼Œä¸ºä»€ä¹ˆè¦å®šä¹‰æˆè¿™æ ·ï¼Ÿ</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622123359671_25740.gif" alt=""></p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ä»å‡ ä½•ç›´è§‰å‡ºå‘ï¼Œæ¨å¯¼å‡ºçŸ©é˜µä¹˜æ³•çš„è®¡ç®—è§„åˆ™ã€‚</p><p>è€ƒè™‘ä»¥ä¸‹æ™®é€‚çš„çŸ©é˜µä¹˜æ³•å½¢å¼ï¼š</p><p>$$ \overbrace{\begin{bmatrix} a &amp; b \cr c &amp; d \end{bmatrix}}^{M_2}<br>\overbrace{\begin{bmatrix} \color{green}{e}\color{black}{} &amp; \color{red}{f}\color{black}{} \cr \color{green}{g}\color{black}{} &amp; \color{red}{h}\color{black}{} \end{bmatrix}}^{M_1} =<br>\overbrace{\begin{bmatrix} ? &amp; ? \cr ? &amp; ? \end{bmatrix}}^{M} $$</p><p>æ ¹æ®æˆ‘ä»¬å¯¹çŸ©é˜µå’Œçº¿æ€§å˜æ¢çš„å®šä¹‰ï¼Œè¦å¾—åˆ°çŸ©é˜µ $M$ï¼Œæˆ‘ä»¬åªéœ€è¦è¿½è¸ªåŸºå‘é‡ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ çš„æœ€ç»ˆå»å‘å³å¯ã€‚ç”±çŸ©é˜µ $M_1$ å¯çŸ¥ï¼Œç»è¿‡ç¬¬ä¸€æ¬¡çº¿æ€§å˜æ¢åï¼Œ$\boldsymbol{\hat{\imath}}$ å˜æ¢åˆ° $\color{green}{\begin{bmatrix} e \cr g \end{bmatrix}}\color{black}{}$ã€‚éšåè¿›è¡Œç¬¬äºŒæ¬¡å˜æ¢ï¼Œæˆ‘ä»¬ä½¿ç”¨çŸ©é˜µå¯¹å‘é‡çš„ä¹˜æ³•å¾—åˆ°ï¼š</p><p>$$ \begin{bmatrix} a &amp; b \cr c &amp; d \end{bmatrix}<br>\color{green}{\begin{bmatrix} e \cr g \end{bmatrix}}\color{black}{} =<br>\begin{bmatrix} ae+bg \cr ce+dg \end{bmatrix} $$</p><p>è¿™å°±æ˜¯æœ€ç»ˆçš„ $\boldsymbol{\hat{\imath}}$ åæ ‡ï¼Œä¹Ÿå°±æ˜¯ $M$ çš„ç¬¬ä¸€åˆ—ã€‚åŒæ ·çš„æ–¹å¼å¯ä»¥æ±‚å¾— $\boldsymbol{\hat{\jmath}}$ï¼Œå³ $M$ çš„ç¬¬äºŒåˆ—ã€‚æœ€ç»ˆå¾—åˆ°ï¼š</p><p>$$ \begin{bmatrix} a &amp; b \cr c &amp; d \end{bmatrix}<br>\begin{bmatrix} e &amp; f \cr g &amp; h \end{bmatrix} =<br>\begin{bmatrix} ae+bg &amp; af+bh \cr ce+dg &amp; cf+dh \end{bmatrix} $$</p><p>è¿™å°±æ˜¯çŸ©é˜µä¹˜æ³•çš„è®¡ç®—å…¬å¼ã€‚</p><h2 id="è¡Œåˆ—å¼">è¡Œåˆ—å¼</h2><p>çŸ©é˜µå¯¹åº”ç€ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œè€ŒçŸ©é˜µçš„è¡Œåˆ—å¼åˆ™è¡¨å¾ç€è¯¥çº¿æ€§å˜æ¢<strong>å°†ç©ºé—´ç¼©æ”¾çš„æ¯”ä¾‹</strong>ã€‚å¯¹äºäºŒç»´ç©ºé—´ï¼Œè¡Œåˆ—å¼æ˜¯é¢ç§¯ç¼©æ”¾çš„æ¯”ä¾‹ã€‚å¯¹äºä¸‰ç»´ç©ºé—´ï¼Œè¡Œåˆ—å¼æ˜¯ä½“ç§¯ç¼©æ”¾çš„æ¯”ä¾‹ã€‚é«˜ç»´ç©ºé—´ä»¥æ­¤ç±»æ¨ã€‚</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622143112.png" alt=""></p><p>å¦‚æœçº¿æ€§å˜æ¢å°†ç©ºé—´çš„ç»´åº¦é™ä½ï¼Œä¾‹å¦‚å°†äºŒç»´å¹³é¢å‹ç¼©åˆ°ä¸€æ¡ç›´çº¿ä¸Šï¼Œé‚£ä¹ˆè¡Œåˆ—å¼çš„å€¼ä¸ºé›¶ã€‚</p><p>å¦‚æœçº¿æ€§å˜æ¢ä½¿å¾—ç©ºé—´å‘ç”Ÿåè½¬ï¼Œä¾‹å¦‚ç”±å³æ‰‹åæ ‡ç³»å˜æ¢åˆ°å·¦æ‰‹åæ ‡ç³»ï¼Œé‚£ä¹ˆè¡Œåˆ—å¼çš„å€¼ä¸ºè´Ÿã€‚</p><p>äºŒé˜¶è¡Œåˆ—å¼çš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p>$$ \det\left(\begin{bmatrix} a &amp; b \cr c &amp; d \end{bmatrix}\right) = ad - bc $$</p><p>é€šè¿‡ä¸‹å›¾ï¼Œå¾ˆå®¹æ˜“ä»å‡ ä½•è§’åº¦ç»™å‡ºå…¶æ¨å¯¼è¿‡ç¨‹ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622143123.png" alt=""></p><p>$$ \det\left(\begin{bmatrix} a &amp; b \cr c &amp; d \end{bmatrix}\right) =<br>(a+b)(c+d) - ac -bd -2bc = ad - bc $$</p><p>ä¸‰é˜¶è¡Œåˆ—å¼çš„è®¡ç®—å¯ä»¥è½¬åŒ–ä¸ºå¤šä¸ªäºŒé˜¶è¡Œåˆ—å¼ï¼š</p><p>$$ \det\left( \begin{bmatrix} a &amp; b &amp; c \cr d &amp; e &amp; f \cr g &amp; h &amp; i \end{bmatrix} \right) =<br>a \det\left( \begin{bmatrix} e &amp; f \cr h &amp; i \end{bmatrix} \right) -<br>b \det\left( \begin{bmatrix} d &amp; f \cr g &amp; i \end{bmatrix} \right) +<br>c \det\left( \begin{bmatrix} d &amp; e \cr g &amp; h \end{bmatrix} \right) $$</p><p>æ›´é«˜é˜¶çš„è¡Œåˆ—å¼å¯ç±»æ¯”è¿™ç§å¤„ç†æ–¹æ³•ï¼Œä¾æ¬¡é™é˜¶ã€‚</p><h2 id="é€†çŸ©é˜µã€åˆ—ç©ºé—´ä¸é›¶ç©ºé—´">é€†çŸ©é˜µã€åˆ—ç©ºé—´ä¸é›¶ç©ºé—´</h2><p>çŸ©é˜µçš„ä¸€ä¸ªé‡è¦åº”ç”¨æ˜¯æ±‚è§£<strong>çº¿æ€§æ–¹ç¨‹ç»„</strong>ã€‚</p><p>çº¿æ€§æ–¹ç¨‹ç»„æ˜¯ç±»ä¼¼äºè¿™æ ·çš„ä¸€ä¸ªæ–¹ç¨‹ç»„ï¼š</p><p>$$ \begin{aligned}<br>2x + 5y + 3z &amp;= -3 \cr<br>4x + 0y + 8z &amp;= 0 \cr<br>1x + 3y + 0z &amp;= 2<br>\end{aligned} $$</p><p>å®ƒæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š</p><ul><li>æ‰€æœ‰çš„æœªçŸ¥é‡éƒ½æ˜¯ä¸€é˜¶çš„ï¼Œä¸èƒ½å‡ºç°é«˜é˜¶æœªçŸ¥é‡æˆ–æ›´å¤æ‚çš„å½¢å¼ï¼Œå¦‚ $x^2$ï¼Œ$xy$ï¼Œ$sin(x)$ ç­‰ã€‚</li><li>æœªçŸ¥é‡çš„ç³»æ•°éƒ½æ˜¯å¸¸æ•°ã€‚å¿…è¦çš„æ—¶å€™éœ€è¦è¡¥å…¨æœªçŸ¥é¡¹ï¼Œå³è®¤ä¸ºç¼ºå¤±é¡¹çš„ç³»æ•°ä¸ºé›¶ã€‚</li></ul><p>çº¿æ€§æ–¹ç¨‹ç»„åœ¨å½¢å¼ä¸Šä¸çŸ©é˜µå¯¹å‘é‡çš„ä¹˜æ³•éå¸¸ç›¸ä¼¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠä¸Šè¿°æ–¹ç¨‹ç»„å†™ä½œä¸€ä¸ªå‘é‡æ–¹ç¨‹ï¼š</p><p>$$ \begin{bmatrix} 2 &amp; 5 &amp; 3 \cr 4 &amp; 0 &amp; 8 \cr 1 &amp; 3 &amp; 0 \end{bmatrix}<br>\begin{bmatrix} x \cr y \cr z \end{bmatrix} =<br>\begin{bmatrix} -3 \cr 0 \cr 2 \end{bmatrix} $$</p><p>å¦‚æœæˆ‘ä»¬ç”¨ $A$ ä»£è¡¨ç³»æ•°çŸ©é˜µï¼Œç”¨ $\mathbf{x}$ ä»£è¡¨æœªçŸ¥é¡¹å‘é‡ï¼Œç”¨ $\mathbf{v}$ ä»£è¡¨å¸¸æ•°é¡¹å‘é‡ï¼Œå°±èƒ½å¾—åˆ°æ›´æ™®éçš„å½¢å¼ï¼š</p><p>$$ A \mathbf{x} = \mathbf{v} $$</p><p>è¿™ä¸ªè¡¨è¾¾å¼å…·æœ‰æ˜æ˜¾çš„å‡ ä½•æ„ä¹‰ï¼Œå³åœ¨çº¿æ€§å˜æ¢ $A$ ä¸­ï¼Œå‘é‡ $\mathbf{x}$ è¢«å˜æ¢ä¸ºå‘é‡ $\mathbf{v}$ã€‚</p><p>ä¸é€šå¸¸çš„çº¿æ€§å˜æ¢è¡¨è¾¾å¼ç›¸æ¯”ï¼Œè¿™ä¸ªç­‰å¼æœ‰äº›ç‰¹æ®Šï¼Œç­‰å·å³ä¾§çš„å‘é‡ $\mathbf{v}$ æ˜¯å·²çŸ¥çš„ï¼Œè€Œç­‰å·å·¦ä¾§çš„å‘é‡ $\mathbf{x}$ å´æ˜¯æœªçŸ¥çš„ã€‚æˆ‘ä»¬éœ€è¦è§£å†³çš„é—®é¢˜æ˜¯ï¼Œä»€ä¹ˆæ ·çš„å‘é‡ $\mathbf{x}$ èƒ½å¤Ÿåœ¨æ–½åŠ çº¿æ€§å˜æ¢ $A$ ä¹‹åï¼Œè½åœ¨å‘é‡ $\mathbf{v}$ å¤„ï¼Ÿ</p><p>ä¸ºäº†æ‰¾åˆ° $\mathbf{x}$ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°çº¿æ€§å˜æ¢ $A$ çš„é€†è¿‡ç¨‹ï¼Œå¯¹å‘é‡ $\mathbf{v}$ æ–½åŠ é€†å‘å˜æ¢å°±èƒ½å›åˆ° $\mathbf{x}$ã€‚æˆ‘ä»¬æŠŠè¿™ä¸ªé€†è¿‡ç¨‹ç§°ä½œ $A$ çš„<strong>é€†å˜æ¢</strong>ï¼Œè®°ä½œ $A^{-1}$ã€‚</p><p>å¯¹ä¸€ä¸ªç©ºé—´å…ˆæ–½åŠ å˜æ¢ $A$ï¼Œç„¶åæ–½åŠ é€†å˜æ¢ $A^{-1}$ï¼Œç©ºé—´ä¼šæ¢å¤åŸçŠ¶ï¼Œæ•´ä¸ªè¿‡ç¨‹ç›¸å½“äºå¯¹ç©ºé—´æ–½åŠ äº†ä¸€ä¸ªâ€œä»€ä¹ˆéƒ½ä¸åšâ€çš„å˜æ¢ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190620183057962_10964.gif" alt=""></p><p>æˆ‘ä»¬ç”¨çŸ©é˜µ $I$ æ¥è¡¨ç¤ºâ€œä»€ä¹ˆéƒ½ä¸åšâ€çš„çº¿æ€§å˜æ¢ï¼Œé‚£ä¹ˆä¸Šè¿°è¿‡ç¨‹å¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•æ¥æè¿°ï¼š</p><p>$$ A^{-1}A = I $$</p><p>å¼ä¸­çš„ $I$ ç§°ä¸º<strong>å•ä½çŸ©é˜µ</strong>ï¼Œå¯¹åº”çš„çº¿æ€§å˜æ¢ç§°ä¸º<strong>æ’ç­‰å˜æ¢ï¼ˆidentity transformationï¼‰</strong>ã€‚å•ä½çŸ©é˜µå®é™…ä¸Šå°±æ˜¯ä»¥å•ä½å‘é‡ $\boldsymbol{\hat{\imath}}$ã€$\boldsymbol{\hat{\jmath}}$ â€¦ ä½œä¸ºåˆ—çš„çŸ©é˜µã€‚ä½œä¸ºç¤ºä¾‹ï¼Œä»¥ä¸‹æ˜¯ 3 é˜¶å•ä½çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>1 &amp; 0 &amp; 0 \cr 0 &amp; 1 &amp; 0 \cr 0 &amp; 0 &amp; 1<br>\end{bmatrix} $$</p><p>åœ¨å®è·µä¸­ï¼Œé€†çŸ©é˜µå¯ä»¥é€šè¿‡é«˜æ–¯æ¶ˆå…ƒæ³•æ±‚å¾—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¡ç®—æœºè®¡ç®—ã€‚</p><p>ä¸€æ—¦è·å¾—äº†é€†çŸ©é˜µ $A^{-1}$ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹å‰é¢çš„ç­‰å¼åšå¦‚ä¸‹å˜å½¢ï¼š</p><p>$$ \begin{aligned}<br>&amp; A \mathbf{x} = \mathbf{v} \cr<br>\Longleftrightarrow &amp; A^{-1}A \mathbf{x} = A^{-1}\mathbf{v} \cr<br>\Longleftrightarrow &amp; \mathbf{x} = A^{-1}\mathbf{v} \cr<br>\end{aligned} $$</p><p>ä¸Šè¿°ç»“æœæ„å‘³ç€ï¼Œå¯¹å‘é‡ $\mathbf{v}$ æ–½åŠ é€†å˜æ¢ $A^{-1}$ å°±èƒ½å¾—åˆ°å‘é‡ $\mathbf{x}$ã€‚</p><p>å‡å¦‚éšæœºå–ä¸€ä¸ªæ–¹é˜µ $A$ï¼Œé‚£ä¹ˆå…¶é€†çŸ©é˜µ $A^{-1}$ å‡ ä¹æ€»æ˜¯å­˜åœ¨çš„ï¼Œä½†ä¹Ÿæœ‰ä¾‹å¤–ã€‚$A^{-1}$ å­˜åœ¨çš„å‰ææ¡ä»¶æ˜¯ï¼Œ$A$ æ²¡æœ‰å°†ç©ºé—´å˜æ¢åˆ°æ›´ä½çš„ç»´åº¦ä¸Šï¼Œä¹Ÿå³ $A$ çš„è¡Œåˆ—å¼ä¸ä¸ºé›¶ï¼š</p><p>$$ A^{-1} \text{ exists} \Longleftrightarrow \det(A) \neq 0 $$</p><blockquote><p>ä»ç›´è§‰ä¸Šè€ƒè™‘ï¼Œè¿™ä¸ªæ¡ä»¶æ˜¯å¿…è¦çš„ã€‚ä¸€æ—¦ç©ºé—´è¢«å˜æ¢åˆ°æ›´ä½çš„ç»´åº¦ä¸Šï¼Œå°±æ„å‘³ç€ä¸¢å¤±äº†ä¸€éƒ¨åˆ†åæ ‡ä¿¡æ¯ï¼Œå› æ­¤ä¸å¯èƒ½å†è¿˜åŸå›å»ï¼Œä¹Ÿå°±ä¸å­˜åœ¨é€†å˜æ¢ã€‚</p></blockquote><p>å½“ $A^{-1}$ ä¸å­˜åœ¨æ—¶ï¼Œçº¿æ€§æ–¹ç¨‹ç»„è¦ä¹ˆæ— è§£ï¼Œè¦ä¹ˆæœ‰æ— æ•°å¤šä¸ªè§£ã€‚</p><p>$\det(A)=0$ å¯¹åº”ç€çº¿æ€§å˜æ¢åçš„ç©ºé—´ç»´åº¦é™ä½ï¼Œä¾‹å¦‚ä¸‰ç»´ç©ºé—´å¯èƒ½è¢«å‹ç¼©åˆ°ä¸€ä¸ªå¹³é¢ã€ä¸€æ¡ç›´çº¿ï¼Œç”šè‡³åŸç‚¹ã€‚</p><p>ä¸ºäº†æè¿°çº¿æ€§å˜æ¢ä¸­ç©ºé—´çš„ç»´åº¦å˜åŒ–ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªæ–°çš„æœ¯è¯­<strong>ç§©ï¼ˆRankï¼‰</strong>ã€‚<strong>çŸ©é˜µçš„ç§©å°±æ˜¯çº¿æ€§å˜æ¢åçš„ç©ºé—´çš„ç»´åº¦</strong>ã€‚å¦‚æœçŸ©é˜µ $A$ å¯¹åº”çš„çº¿æ€§å˜æ¢æ²¡æœ‰å¯¼è‡´ç©ºé—´é™ç»´ï¼Œé‚£ä¹ˆç§°çŸ©é˜µ $A$ ä¸º<strong>æ»¡ç§©çŸ©é˜µ</strong>ã€‚</p><p>æˆ‘ä»¬ä»å¦ä¸€ä¸ªè§’åº¦è€ƒè™‘å˜æ¢åçš„ç©ºé—´ï¼Œç”±äºçŸ©é˜µ $A$ çš„åˆ—å‘é‡å°±æ˜¯å˜æ¢åçš„ç©ºé—´çš„åŸºï¼Œå› æ­¤å˜æ¢åçš„ç©ºé—´æ˜¯ç”±çŸ©é˜µ $A$ çš„åˆ—å‘é‡å¼ æˆçš„ï¼Œæˆ‘ä»¬æŠŠè¿™ä¸ªç©ºé—´ç§°ä¸º $A$ çš„<strong>åˆ—ç©ºé—´</strong>ã€‚</p><p>ä»ä¸Šè¿°æ¨ç†å¯çŸ¥ï¼ŒçŸ©é˜µçš„ç§©ä¸åˆ—ç©ºé—´æœ‰ç€æ˜æ˜¾çš„è”ç³»ï¼Œå³<strong>çŸ©é˜µçš„ç§©å°±æ˜¯å…¶åˆ—ç©ºé—´çš„ç»´åº¦</strong>ã€‚</p><p>æ‰€æœ‰çŸ©é˜µçš„åˆ—ç©ºé—´å‡åŒ…å«é›¶å‘é‡ï¼Œè¿™æ˜¯å› ä¸ºçº¿æ€§å˜æ¢æ€»æ˜¯ä¿æŒåŸç‚¹å›ºå®šï¼Œè€Œé›¶å‘é‡å˜æ¢åè¿˜æ˜¯é›¶å‘é‡ã€‚</p><p>å¯¹äºä¸€ä¸ªæ»¡ç§©çŸ©é˜µï¼Œå”¯ä¸€èƒ½åœ¨å˜æ¢åè½åœ¨åŸç‚¹çš„å‘é‡åªæœ‰é›¶å‘é‡è‡ªèº«ã€‚ä½†å¯¹äºä¸€ä¸ªéæ»¡ç§©çŸ©é˜µæ¥è¯´ï¼Œå®ƒå°†ç©ºé—´å‹ç¼©åˆ°ä¸€ä¸ªæ›´ä½çš„ç»´åº¦ä¸Šï¼Œå› æ­¤ä¼šæœ‰ä¸€ç³»åˆ—å‘é‡åœ¨å˜æ¢åæˆä¸ºé›¶å‘é‡ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190620193603570_21726.gif" alt=""></p><p>å˜æ¢åè½åœ¨åŸç‚¹çš„å‘é‡çš„é›†åˆæ„æˆäº†ä¸€ä¸ªç©ºé—´ï¼Œç§°ä½œ<strong>é›¶ç©ºé—´ï¼ˆNull spaceï¼‰</strong>ï¼Œæˆ–è€…<strong>æ ¸ç©ºé—´(Kernal space)</strong>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹ç¨‹è®¡ç®—çŸ©é˜µ $A$ çš„é›¶ç©ºé—´ï¼š</p><p>$$ A \mathbf{x} = \mathbf{0} $$</p><p>å¼ä¸­çš„ $\mathbf{0}$ ä»£è¡¨é›¶å‘é‡ï¼Œå³æ‰€æœ‰å…ƒç´ å‡ä¸ºé›¶çš„å‘é‡ã€‚</p><p>æ˜¾ç„¶ï¼Œæ»¡ç§©çŸ©é˜µçš„é›¶ç©ºé—´åªåŒ…å«ä¸€ä¸ªé›¶å‘é‡ã€‚åä¹‹ï¼Œå¦‚æœä¸€ä¸ªçº¿æ€§å˜æ¢çš„é›¶ç©ºé—´åŒ…å«é™¤é›¶å‘é‡ä»¥å¤–çš„å‘é‡ï¼Œé‚£ä¹ˆå¯ä»¥æ–­å®šè¯¥çº¿æ€§å˜æ¢å¯¹åº”çš„çŸ©é˜µä¸ºéæ»¡ç§©çŸ©é˜µã€‚</p><h2 id="éæ–¹é˜µ">éæ–¹é˜µ</h2><p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬è®¨è®ºçº¿æ€§å˜æ¢æ—¶éƒ½åªè€ƒè™‘äº†æ–¹é˜µï¼Œå› ä¸ºæ–¹é˜µæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢å…·æœ‰éå¸¸ç›´è§‚çš„å‡ ä½•æ„ä¹‰ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œéæ–¹é˜µçš„å‡ ä½•å«ä¹‰åˆ™ä¸é‚£ä¹ˆå®¹æ˜“è§£é‡Šã€‚ä¾‹å¦‚ä¸€ä¸ª $3\times 2$ çš„çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>3 &amp; 1 \cr 4 &amp; 1 \cr 5 &amp; 9<br>\end{bmatrix} $$</p><p>å®ƒæ‰€ä»£è¡¨çš„çº¿æ€§å˜æ¢æ˜¯æ€æ ·çš„å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°å˜æ¢åçš„ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ï¼Œå³ï¼š</p><p>$$ \boldsymbol{\hat{\imath}} = \begin{bmatrix} 3 \cr 4 \cr 5 \end{bmatrix} \qquad<br>\boldsymbol{\hat{\jmath}} = \begin{bmatrix} 1 \cr 1 \cr 9 \end{bmatrix} $$</p><p>åªæœ‰ä¸¤ä¸ªåŸºå‘é‡ï¼Œè¡¨æ˜è¾“å…¥å‘é‡ä½äºäºŒç»´ç©ºé—´ä¸­ã€‚è€Œ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ å…·æœ‰ä¸‰ä¸ªåˆ†é‡ï¼Œè¡¨æ˜è¾“å‡ºå‘é‡ä½äºä¸‰ç»´ç©ºé—´ä¸­ã€‚å¾ˆå®¹æ˜“éªŒè¯ï¼Œè¯¥çŸ©é˜µçš„åˆ—ç©ºé—´æ˜¯äºŒç»´çš„ï¼Œå› æ­¤å˜æ¢åçš„ç©ºé—´æ˜¯ä¸‰ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªå¹³é¢ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¥çŸ©é˜µä»æ˜¯æ»¡ç§©çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰é™ä½ç©ºé—´çš„ç»´åº¦ï¼ˆä»äºŒç»´å˜æ¢åˆ°äºŒç»´ï¼‰ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œä¸€ä¸ª $2 \times 3$ çš„çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>3 &amp; 1 &amp; 4 \cr 1 &amp; 5 &amp; 9<br>\end{bmatrix} $$</p><p>ä»£è¡¨æ€æ ·çš„çº¿æ€§å˜æ¢å‘¢ï¼Ÿ</p><p>é€šè¿‡ç±»ä¼¼çš„åˆ†æè¿‡ç¨‹ï¼Œæˆ‘ä»¬çŸ¥é“è¯¥çŸ©é˜µçš„è¾“å…¥ç©ºé—´ä¸ºä¸‰ç»´ï¼Œè¾“å‡ºç©ºé—´åˆ™æ˜¯äºŒç»´ï¼Œæ˜¾ç„¶æ˜¯éæ»¡ç§©çš„ã€‚è™½ç„¶æœ‰ä¸‰ä¸ªåŸºå‘é‡ï¼Œä½†æ¯ä¸ªåŸºå‘é‡éƒ½æ˜¯äºŒç»´çš„ï¼Œå› æ­¤æœ€å¤šå¼ æˆä¸€ä¸ªäºŒç»´ç©ºé—´ã€‚</p><p>æœ‰ä¸€ç±»ç‰¹æ®Šçš„éæ–¹é˜µæ˜¯ $1\times n$ çŸ©é˜µï¼Œä¹Ÿè¢«ç§°ä½œè¡Œå‘é‡ã€‚å®ƒä»¬å°† $n$ ç»´ç©ºé—´å˜æ¢åˆ°ä¸€ç»´ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯å®æ•°è½´ï¼Œè¿™ç±»å˜æ¢ä¸å‘é‡çš„ç‚¹ç§¯è¿ç®—å…·æœ‰å¥‡å¦™çš„å¯¹åº”å…³ç³»ã€‚</p><h2 id="ç‚¹ç§¯ä¸å¯¹å¶æ€§">ç‚¹ç§¯ä¸å¯¹å¶æ€§</h2><p>ä»æ•°å€¼è®¡ç®—è§’åº¦ï¼Œå‘é‡ç‚¹ç§¯çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼šä¸¤ä¸ªç»´æ•°ç›¸åŒçš„å‘é‡ï¼Œå°†å®ƒä»¬çš„å¯¹åº”åæ ‡åˆ†åˆ«ç›¸ä¹˜ï¼Œç„¶åæ±‚å’Œã€‚ä¾‹å¦‚ï¼š</p><p>$$ \begin{bmatrix} 2 \cr 7 \cr 1 \end{bmatrix} \cdot<br>\begin{bmatrix} 8 \cr 2 \cr 8 \end{bmatrix} =<br>2\cdot 8 + 7 \cdot 2 + 1\cdot 8 = 38 $$</p><p>ä»æ•°å­¦è§’åº¦çœ‹ï¼Œå‘é‡ç‚¹ç§¯çš„å®šä¹‰æ˜¯è¿™æ ·çš„ï¼š</p><p>$$ \mathbf{v} \cdot \mathbf{w} = \Vert \mathbf{v} \Vert \cdot \Vert \mathbf{w} \Vert \cdot \cos\theta $$</p><p>å…¶ä¸­ï¼Œç¬¦å· $\Vert\cdot\Vert$ ä»£è¡¨å‘é‡çš„æ¨¡é‡ï¼Œä¹Ÿå°±æ˜¯å‘é‡çš„é•¿åº¦ã€‚$\theta$ ä»£è¡¨å‘é‡ $\mathbf{v}$ å’Œ $\mathbf{w}$ ä¹‹é—´çš„å¤¹è§’ã€‚</p><p>ä»å‡ ä½•è§’åº¦çœ‹ï¼Œä¸¤ä¸ªå‘é‡çš„ç‚¹ç§¯å°±æ˜¯å…¶ä¸­ä¸€ä¸ªå‘é‡åœ¨å¦ä¸€ä¸ªå‘é‡ä¸Šçš„æŠ•å½±é•¿åº¦ï¼Œä¹˜ä»¥å¦ä¸€ä¸ªå‘é‡çš„é•¿åº¦ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622143220.png" alt=""></p><p>äº‹å®ä¸Šï¼Œè¿™é‡Œçš„æŠ•å½±é•¿åº¦ä¹Ÿå°±æ˜¯ä¸Šé¢å…¬å¼ä¸­çš„ $\Vert \mathbf{v} \Vert \cdot \cos\theta$ æˆ– $\Vert \mathbf{w} \Vert \cdot \cos\theta$ã€‚</p><p>ç°åœ¨çš„é—®é¢˜æ˜¯ï¼Œæ•°å€¼è®¡ç®—è§’åº¦çš„å®šä¹‰ä¸å‡ ä½•è§’åº¦çš„å®šä¹‰ä¸ºä»€ä¹ˆæ˜¯ç­‰æ•ˆçš„ï¼Ÿå¯¹åº”åæ ‡ç›¸ä¹˜å¹¶æ±‚å’Œï¼Œä¸ºä»€ä¹ˆä¸æŠ•å½±æœ‰æ‰€å…³è”ï¼Ÿ</p><p>æˆ‘ä»¬è€ƒè™‘æœ€ç®€å•çš„äºŒç»´å•ä½å‘é‡ï¼Œä¾‹å¦‚å‘é‡ $\mathbf{u} = \begin{bmatrix} u_x \cr u_y \end{bmatrix}$ï¼Œå°†å®ƒä¸å¦ä¸€ä¸ªæœªçŸ¥å‘é‡ $\mathbf{x} = \begin{bmatrix} x \cr y \end{bmatrix}$ åšç‚¹ä¹˜ï¼š</p><p>$$ \mathbf{u} \cdot \mathbf{x} $$</p><p>è¿™ä¸ªè¡¨è¾¾å¼çœ‹ä¸Šå»æœ‰ç‚¹åƒå‡½æ•°ï¼Œ$\mathbf{u}\cdot$ å°±åƒä¸€ä¸ªå‡½æ•°ä½œç”¨åœ¨å‘é‡ $\mathbf{x}$ ä¸Šã€‚è¿™ä¸ªå…³ç³»éå¸¸ç±»ä¼¼çŸ©é˜µä¹‹äºçº¿æ€§å˜æ¢ï¼Œæˆ‘ä»¬ä¸å¦¨å°† $\mathbf{u}$ è½¬ç½®ä¸€ä¸‹ï¼Œå¾—åˆ°ä¸€ä¸ª $1\times 2$ çŸ©é˜µ $M=\begin{bmatrix} u_x &amp; u_y \end{bmatrix}$ï¼š</p><p>$$ \begin{bmatrix} u_x &amp; u_y \end{bmatrix} \begin{bmatrix} x \cr y \end{bmatrix} $$</p><p>ä»è®¡ç®—è§’åº¦çœ‹ï¼Œè¿™ä¸ªè¡¨è¾¾å¼åˆšå¥½ç­‰åŒäºå‘é‡ç‚¹ä¹˜ã€‚</p><p>ä»å‡ ä½•è§’åº¦çœ‹ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ç›¸å½“äºå¯¹äºŒç»´ç©ºé—´æ–½åŠ ä¸€ä¸ªçº¿æ€§å˜æ¢ $\begin{bmatrix} u_x &amp; u_y \end{bmatrix}$ï¼Œè¾“å‡ºä¸€ç»´ç©ºé—´ï¼ˆå®æ•°è½´ï¼‰ã€‚å˜æ¢åçš„ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ åˆ†åˆ«è½åœ¨ç‚¹ $u_x$ï¼Œ$u_y$ å¤„ã€‚å¦ä¸€æ–¹é¢ï¼Œ$u_x$ï¼Œ$u_y$ åˆ†åˆ«æ˜¯å‘é‡ $\mathbf{u}$ åœ¨ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ ä¸Šçš„æŠ•å½±ï¼Œç”±äº $\mathbf{u}$ æ˜¯å•ä½å‘é‡ï¼Œè¯¥æŠ•å½±å…³ç³»æ˜¯å¯¹ç§°çš„ï¼Œå³ $u_x$ï¼Œ$u_y$ åˆ†åˆ«æ˜¯ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ åœ¨å‘é‡ $\mathbf{u}$ ä¸Šçš„æŠ•å½±ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªçº¿æ€§å˜æ¢å°±æ˜¯æŠŠç©ºé—´ä¸­çš„æ‰€æœ‰ç‚¹å‘å‘é‡ $\mathbf{u}$ åšæŠ•å½±ã€‚</p><p>å½“ $\mathbf{u}$ ä¸æ˜¯å•ä½å‘é‡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒç¼©æ”¾æˆå•ä½å‘é‡ï¼ŒåŒæ—¶è·å¾—ä¸€ä¸ªæ ‡é‡ç³»æ•° $\Vert \mathbf{u} \Vert$ã€‚</p><p>æœ€ç»ˆï¼Œä»»æ„å‘é‡ $\mathbf{u} = \begin{bmatrix} u_x \cr u_y \end{bmatrix}$ å¯¹åº”çš„çŸ©é˜µ $M=\begin{bmatrix} u_x &amp; u_y \end{bmatrix}$ å¯¹åº”çš„çº¿æ€§å˜æ¢ç›¸å½“äº<strong>æŠŠç©ºé—´ä¸­çš„æ‰€æœ‰ç‚¹å‘å‘é‡ $\mathbf{u}$ åšæŠ•å½±ï¼Œç„¶åæŠŠæŠ•å½±é•¿åº¦ç¼©æ”¾ $\Vert \mathbf{u} \Vert$ å€</strong>ã€‚</p><p>ä»¥ä¸Šï¼Œæˆ‘ä»¬é€šè¿‡æ„é€ ä¸€ä¸ªå•è¡ŒçŸ©é˜µï¼Œå°†å‘é‡ç‚¹ä¹˜çš„æ•°å€¼è®¡ç®—ä¸å‡ ä½•æ„ä¹‰è”ç³»åˆ°äº†ä¸€èµ·ã€‚</p><p>å‘é‡ä¸çº¿æ€§å˜æ¢ä¹‹é—´æœ‰ç€å‡ºä¹æ„æ–™çš„è”ç³»ï¼Œè¿™æ˜¯æ•°å­¦ä¸­<strong>å¯¹å¶æ€§ï¼ˆdualityï¼‰</strong> çš„ä¸€ç§ä½“ç°ã€‚å¯¹å¶æ€§åœ¨æ•°å­¦ä¸­æ™®éå­˜åœ¨ï¼Œä½†å´éš¾ä»¥å®šä¹‰ï¼Œç²—ç•¥åœ°è¯´ï¼Œå¯¹å¶æ€§å°±æ˜¯<strong>ä¸¤ç§æ•°å­¦äº‹ç‰©ä¹‹é—´è‡ªç„¶è€Œåˆå‡ºä¹æ„æ–™çš„å¯¹åº”å…³ç³»</strong>ã€‚åœ¨ä¸Šè¿°æ¨å¯¼ä¸­ï¼š</p><ul><li>ä¸€ä¸ªå‘é‡çš„å¯¹å¶æ˜¯ç”±å®ƒå®šä¹‰çš„çº¿æ€§å˜æ¢ã€‚</li><li>ä¸€ä¸ªå¤šç»´ç©ºé—´åˆ°ä¸€ç»´ç©ºé—´çš„çº¿æ€§å˜æ¢çš„å¯¹å¶æ˜¯å¤šç»´ç©ºé—´ä¸­çš„æŸä¸ªç‰¹å®šå‘é‡ã€‚</li></ul><blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œæåˆ°çº¿æ€§å˜æ¢æˆ‘ä»¬ä¼šè”æƒ³åˆ°ä¸€ä¸ªçŸ©é˜µï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‘é‡ã€‚</p></blockquote><h2 id="åŸºå˜æ¢">åŸºå˜æ¢</h2><p>ä¸€ä¸ªåæ ‡ç³»ç”±åæ ‡ç³»çš„åŸºå‘é‡å®Œå…¨ç¡®å®šã€‚åŸºå‘é‡å¯ä»¥éšæ„é€‰å–ï¼Œä½†æˆ‘ä»¬é€šå¸¸ä½¿ç”¨æ­£äº¤çš„ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ã€‚</p><p>ç°å‡è®¾æœ‰ä¸€ä¸ªåæ ‡ç³»ä»¥ $\boldsymbol{\hat{\imath}}$ å’Œ $\boldsymbol{\hat{\jmath}}$ ä¸ºåŸºå‘é‡ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºåŸå§‹åæ ‡ç³» $S_0$ã€‚åŒæ—¶æœ‰å¦ä¸€ç»„åŸºå‘é‡ $\mathbf{b}_1$ å’Œ $\mathbf{b}_2$ï¼Œå®ƒä»¬ç¡®å®šäº†ä¸€ä¸ªæ–°çš„åæ ‡ç³» $S_1$ã€‚ä¸ºäº†æ–¹ä¾¿è¯´æ˜ï¼Œæˆ‘ä»¬ç»™å‡º $\mathbf{b}_1$ï¼Œ$\mathbf{b}_2$ åœ¨ $S_0$ ä¸‹çš„åæ ‡è¡¨ç¤ºï¼š</p><p>$$ \mathbf{b}_1 = \begin{bmatrix} 2 \cr 1 \end{bmatrix} \qquad \mathbf{b}_2 = \begin{bmatrix} -1 \cr 1 \end{bmatrix} $$</p><p>åœ¨ä¸¤ä¸ªä¸åŒçš„åæ ‡ç³»ä¸‹ï¼Œç©ºé—´ä¸­çš„åŒä¸€ä¸ªå‘é‡çš„åæ ‡è¡¨è¿°å°†ä¼šæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚ä¸€ä¸ªå‘é‡åœ¨åŸå§‹åæ ‡ç³»ä¸­çš„åæ ‡ä¸º $\begin{bmatrix} 3 \cr 2 \end{bmatrix}$ï¼Œä½†åœ¨æ–°åæ ‡ç³»ä¸‹çš„åæ ‡å´æ˜¯ $\begin{bmatrix} (5/3) \cr (1/3) \end{bmatrix}$ã€‚</p><p>åè¿‡æ¥ï¼Œä¸¤ä¸ªåæ ‡ç³»ä¸­çš„ç›¸åŒåæ ‡å¯¹åº”ç€ç©ºé—´ä¸­ä¸åŒçš„å‘é‡ã€‚è¿™æ˜¯å› ä¸ºå‘é‡çš„åæ ‡å°±æ˜¯å¯¹åŸºå‘é‡è¿›è¡Œçº¿æ€§ç»„åˆçš„ç³»æ•°ï¼ŒåŸºå‘é‡ä¸åŒï¼Œé‚£ä¹ˆçº¿æ€§ç»„åˆå¾—åˆ°çš„æœ€ç»ˆå‘é‡ä¹Ÿä¸åŒã€‚</p><p>è¿™å°±å¥½æ¯”åœ¨ä¸åŒçš„è¯­è¨€ä¸­æè¿°åŒä¸€ä»¶äº‹ç‰©ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ˜ å°„ï¼Œæ¥æŠŠä¸€ç§æè¿°â€œç¿»è¯‘â€æˆå¦ä¸€ç§æè¿°ã€‚</p><p>å…·ä½“æ¥è¯´å°±æ˜¯ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æè¿° $S_1$ ä¸ $S_0$ çš„å…³ç³»ï¼Ÿ$S_1$ ä¸­çš„æŸä¸ªå‘é‡ $\mathbf{v}= \begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix}$ å¦‚ä½•åœ¨ $S_0$ ä¸‹è¡¨è¿°ï¼Ÿ</p><p>è¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åªéœ€è¦è¿½è¸ªå…³é”®æ€§çš„ $\mathbf{b}_1$ å’Œ $\mathbf{b}_2$ å³å¯ï¼Œå› ä¸º $S_1$ ä¸­çš„ä»»æ„å‘é‡ $\mathbf{v}= \begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix}$ éƒ½å¯ä»¥è¡¨ç¤ºä¸ºï¼š</p><p>$$ xâ€™ \mathbf{b}_1 + yâ€™ \mathbf{b}_2 $$</p><p>è¿™ä¸ªè¡¨è¾¾å¼æ­£æ˜¯çŸ©é˜µå¯¹å‘é‡çš„ä¹˜æ³•ï¼Œæˆ‘ä»¬ä»£å…¥ $\mathbf{b}_1$ å’Œ $\mathbf{b}_2$ çš„åæ ‡ï¼Œå¾—åˆ°ï¼š</p><p>$$ \begin{bmatrix} 2 &amp; -1 \cr 1 &amp; 1 \end{bmatrix}<br>\begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix} $$</p><p>è‡ªç„¶è€Œç„¶åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä»çº¿æ€§å˜æ¢çš„è§’åº¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ã€‚å·¦ä¾§çš„ $2\times 2$ çŸ©é˜µä»£è¡¨ä¸€ä¸ªçº¿æ€§å˜æ¢ï¼Œå®ƒå°†åŸå§‹åæ ‡ç³»ä¸­çš„ $\boldsymbol{\hat{\imath}}$ ä¸ $\boldsymbol{\hat{\jmath}}$ å˜æ¢åˆ° $\mathbf{b}_1$ ä¸ $\mathbf{b}_2$ï¼Œä¹Ÿå°±æ˜¯å°†åæ ‡ç³» $S_0$ å˜æ¢åˆ° $S_1$ã€‚å¯¹äºå³ä¾§çš„å‘é‡ $\begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix}$ï¼Œæˆ‘ä»¬ä¸æŠŠå®ƒçœ‹ä½œåæ ‡ï¼Œè€Œæ˜¯çœ‹ä½œåŸºå‘é‡çš„ä¸€ç§ç‰¹å®šçº¿æ€§ç»„åˆï¼Œé‚£ä¹ˆä¸Šè¿°è¡¨è¾¾å¼çš„ç»“æœï¼Œæ­£æ˜¯å‘é‡ $\mathbf{v}$ åœ¨åæ ‡ç³» $S_0$ ä¸­çš„åæ ‡è¡¨è¿°ï¼Œå³ï¼š</p><p>$$ \begin{bmatrix} x \cr y \end{bmatrix} =<br>\begin{bmatrix} 2 &amp; -1 \cr 1 &amp; 1 \end{bmatrix}<br>\begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix} $$</p><p>å¦‚æœåè¿‡æ¥è€ƒè™‘ï¼ŒåŸå§‹åæ ‡ç³»ä¸­çš„ä»»æ„å‘é‡åœ¨æ–°åæ ‡ç³» $S_1$ ä¸‹åº”è¯¥æ€æ ·è¡¨è¿°å‘¢ï¼Ÿå¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬åªéœ€è¦æ–½åŠ çº¿æ€§å˜æ¢çš„é€†å˜æ¢å³å¯ï¼š</p><p>$$ \begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix} =<br>\begin{bmatrix} 2 &amp; -1 \cr 1 &amp; 1 \end{bmatrix}^{-1}<br>\begin{bmatrix} x \cr y \end{bmatrix} $$</p><p>ä»¥ä¸Šå°±æ˜¯å¯¹äºå‘é‡çš„åŸºå˜æ¢ã€‚è€ƒè™‘åˆ°çŸ©é˜µä¹Ÿæ˜¯ä¸€ç»„æ•°å­—åæ ‡ï¼ŒåŒæ ·ä¼šå­˜åœ¨åŸºå˜æ¢é—®é¢˜ã€‚</p><p>ä¾ç„¶æ²¿ç”¨ä¸Šè¿°åæ ‡ç³»çš„ä¾‹å­ï¼Œå‡è®¾åŸå§‹åæ ‡ç³» $S_0$ ä¸­å­˜åœ¨ä¸€ä¸ªçº¿æ€§å˜æ¢ $M=\begin{bmatrix} 0 &amp; -1 \cr 1 &amp; 0 \end{bmatrix}$ï¼Œä»£è¡¨â€œé€†æ—¶é’ˆæ—‹è½¬ 90Â°â€ï¼Œå¦‚ä½•æŠŠåŒæ ·çš„çº¿æ€§å˜æ¢æ–½åŠ åˆ°æ–°åæ ‡ç³» $S_1$ ä¸­å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œä½¿ç”¨çŸ©é˜µ $M$ ç›´æ¥ä¹˜ä»¥ $S_1$ ä¸‹çš„å‘é‡è‚¯å®šæ˜¯è¡Œä¸é€šçš„ï¼ŒçŸ©é˜µ $\begin{bmatrix} 0 &amp; -1 \cr 1 &amp; 0 \end{bmatrix}$ ä¹‹æ‰€ä»¥èƒ½å¤Ÿä»£è¡¨â€œé€†æ—¶é’ˆæ—‹è½¬ 90Â°â€è¿™ä¸ªçº¿æ€§å˜æ¢ï¼Œæ˜¯å› ä¸ºå®ƒè®°å½•äº† $S_0$ ä¸­å˜æ¢åçš„åŸºå‘é‡çš„å»å‘ã€‚å¦‚æœè¦åœ¨ $S_1$ ä¸­æ„é€ åŒæ ·çš„å˜æ¢ï¼Œæˆ‘ä»¬å°±éœ€è¦è®°å½• $\mathbf{b}_1$ å’Œ $\mathbf{b}_2$ çš„å»å‘ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹è¿‡ç¨‹æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p><ul><li>å¯¹äº $S_1$ ä¸‹çš„ä»»æ„å‘é‡ $\begin{bmatrix} xâ€™ \cr yâ€™ \end{bmatrix}$ï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹å…¶æ–½åŠ åŸºå˜æ¢ $A$ï¼Œå°†è¯¥å‘é‡è½¬åŒ–ä¸º $S_0$ ä¸‹çš„è¡¨è¿°ã€‚</li><li>ç„¶åæ–½åŠ  $S_0$ ä¸‹çš„çº¿æ€§å˜æ¢ $M$ï¼Œè·å¾—å˜æ¢åçš„å‘é‡åœ¨ $S_0$ ä¸‹çš„è¡¨è¿°ã€‚</li><li>æœ€åæ–½åŠ é€†å‘åŸºå˜æ¢ $A^{-1}$ï¼Œè·å¾—å˜æ¢åçš„å‘é‡åœ¨ $S_1$ ä¸‹çš„è¡¨è¿°ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆç»“æœã€‚</li></ul><p>åœ¨ä¸Šè¿°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ç›¸ç»§æ–½åŠ ä¸‰ä¸ªçº¿æ€§å˜æ¢ï¼Œæ„é€ äº†ä¸€ä¸ªç”± $S_1$ æ‰€è¡¨è¿°çš„å¤åˆå˜æ¢ $Mâ€™$ï¼Œå®ƒå¯¹ç©ºé—´çš„å˜æ¢æ•ˆæœç­‰åŒäºç”± $S_0$ æ‰€è¡¨è¿°çš„çº¿æ€§å˜æ¢ $M$ã€‚å†™ä½œçŸ©é˜µä¹˜æ³•çš„å½¢å¼å¦‚ä¸‹ï¼š</p><p>$$ Mâ€™ = A^{-1} M A $$</p><h2 id="ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡">ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡</h2><p>åœ¨ä¸€ä¸ªçº¿æ€§å˜æ¢ä¸­ï¼Œå¤§å¤šæ•°çš„å‘é‡ä¼šè„±ç¦»è‡ªå·±å¼ æˆçš„ç©ºé—´ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190621160814579_20337.gif" alt=""></p><p>ä½†ä¹Ÿå­˜åœ¨ä¸€äº›ç‰¹æ®Šçš„å‘é‡ï¼Œå®ƒä»¬ä¿æŒåœ¨è‡ªå·±å¼ æˆçš„ç©ºé—´ä¸­ï¼Œä»…ä»…å‘ç”Ÿäº†ä¼¸ç¼©å˜å½¢ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190621160826995_7527.gif" alt=""></p><p>å¯¹äºç¤ºä¾‹ä¸­çš„çº¿æ€§å˜æ¢ $\begin{bmatrix} 3 &amp; 1 \cr 0 &amp; 2 \end{bmatrix}$ æ¥è¯´ï¼Œå­˜åœ¨ä¸¤ä¸ªè¿™æ ·çš„ç‰¹æ®Šæ–¹å‘ï¼Œä¸€ä¸ªè¢«æ‹‰ä¼¸ 2 å€ï¼Œå¦ä¸€ä¸ªè¢«æ‹‰ä¼¸ 3 å€ã€‚è¿™ç§åœ¨çº¿æ€§å˜æ¢ä¸­ä¸å‘ç”Ÿåè½¬çš„å‘é‡å°±ç§°ä¸º<strong>ç‰¹å¾å‘é‡ï¼ˆEigenvectorï¼‰</strong>ï¼Œå®ƒä»¬çš„ç¼©æ”¾ç³»æ•°ç§°ä¸º<strong>ç‰¹å¾å€¼ï¼ˆEigenvalueï¼‰</strong>ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190622143311.png" alt=""></p><p>å½“ç‰¹å¾å‘é‡çš„æ–¹å‘å‘ç”Ÿå€’è½¬æ—¶ï¼Œç‰¹å¾å€¼ä¸ºè´Ÿæ•°ã€‚</p><blockquote><p>ç‰¹å¾å‘é‡æœ‰ä»€ä¹ˆç”¨å¤„ï¼Ÿ</p><p>ä¸¾ä¸€ä¸ªå…³äºä¸‰ç»´å˜æ¢çš„ä¾‹å­ï¼šå¯¹ä¸‰ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªç‰©ä½“åšæ—‹è½¬å˜æ¢ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ª $3\times 3$ çš„çŸ©é˜µæ¥æè¿°ã€‚ç°åœ¨è€ƒè™‘è¿™ä¸ªçŸ©é˜µçš„ç‰¹å¾å‘é‡ï¼Œæ˜¯åœ¨å˜æ¢è¿‡ç¨‹ä¸­æ²¡æœ‰å‘ç”Ÿæ–¹å‘åè½¬çš„å‘é‡ï¼Œè¿™æ­£æ˜¯æ—‹è½¬è½´æ‰€åœ¨çš„æ–¹å‘ï¼ä½¿ç”¨ç‰¹å¾å‘é‡ï¼ˆæ—‹è½¬è½´ï¼‰æ¥æè¿°æ—‹è½¬å˜æ¢å¾€å¾€æ›´åŠ ç®€å•å’Œç›´è§‚ã€‚</p></blockquote><p>ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡ä¸€èˆ¬åŸºäºå¦‚ä¸‹æ–¹ç¨‹è¿›è¡Œå®šä¹‰ï¼š</p><p>$$ A \mathbf{v} = \lambda \mathbf{v} $$</p><p>å¼ä¸­çš„ $\mathbf{v}$ ä¸ºç‰¹å¾å‘é‡ï¼Œ$\lambda$ ä¸ºç‰¹å¾å€¼ã€‚è¿™ä¸ªæ–¹ç¨‹çš„å«ä¹‰å°±æ˜¯ï¼Œå¯¹å‘é‡ $\mathbf{v}$ æ–½åŠ çº¿æ€§å˜æ¢ $A$ï¼Œå…¶ç»“æœç›¸å½“äºä½¿ç”¨ä¸€ä¸ªæ ‡é‡ $\lambda$ ç¼©æ”¾ $\mathbf{v}$ï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬å‰é¢ç”¨å›¾å½¢åŒ–çš„æ–¹å¼ç»™å‡ºçš„å®šä¹‰ã€‚</p><p>æ–¹ç¨‹çš„å·¦ä¾§ä¸ºçŸ©é˜µå¯¹å‘é‡çš„ä¹˜æ³•ï¼Œè€Œå³ä¾§å´æ˜¯å‘é‡çš„æ•°ä¹˜ã€‚ä¸ºäº†æ±‚è§£è¿™ä¸ªæ–¹ç¨‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç­‰å·å³ä¾§å¼•å…¥å•ä½çŸ©é˜µ $I$ï¼Œç„¶åä½œå¦‚ä¸‹å˜å½¢ï¼š</p><p>$$ \begin{aligned}<br>&amp; A \mathbf{v} = (\lambda I) \mathbf{v} \cr<br>\Longleftrightarrow &amp; A \mathbf{v} - (\lambda I) \mathbf{v} = \mathbf{0} \cr<br>\Longleftrightarrow &amp; (A - \lambda I) \mathbf{v} = \mathbf{0}<br>\end{aligned} $$</p><p>æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªæ–°çš„çŸ©é˜µ $A - \lambda I$ï¼Œç±»ä¼¼äºè¿™ç§å½¢å¼ï¼š</p><p>$$ \begin{bmatrix}<br>3 - \lambda &amp; 1 &amp; 4 \cr<br>1 &amp; 5 - \lambda &amp; 9 \cr<br>2 &amp; 6 &amp; 5 - \lambda<br>\end{bmatrix} $$</p><p>çŸ©é˜µ $A - \lambda I$ å°†ä¸€ä¸ªéé›¶å‘é‡ $\mathbf{v}$ å˜æ¢åˆ°é›¶å‘é‡ï¼Œè¿™è¯´æ˜å®ƒå‹ç¼©äº†ç©ºé—´çš„ç»´åº¦ï¼Œå¿…å®šæ˜¯éæ»¡ç§©çš„ã€‚äºæ˜¯ï¼š</p><p>$$ \det(A - \lambda I) = 0 $$</p><p>æˆ‘ä»¬å¯ä»¥æ®æ­¤æ±‚è§£ $\lambda$ï¼Œç„¶åå°† $\lambda$ ä»£å…¥çŸ©é˜µï¼Œæ±‚å‡º $\mathbf{v}$ï¼Œè¿™æ ·å°±æ±‚å‡ºäº†æ‰€æœ‰çš„ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡ã€‚</p><blockquote><p>æ³¨æ„ï¼Œç‰¹å¾å‘é‡ $\mathbf{v}$ ä»£è¡¨æŸä¸ªæ–¹å‘ä¸Šçš„ä¸€ç°‡å‘é‡ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªç‰¹å®šçš„å‘é‡ã€‚</p></blockquote><p>äºŒç»´çº¿æ€§å˜æ¢ä¸ä¸€å®šæœ‰ç‰¹å¾å‘é‡ï¼Œä¾‹å¦‚å˜æ¢â€œé€†æ—¶é’ˆæ—‹è½¬ 90Â°â€ï¼Œæ‰€æœ‰å‘é‡çš„æ–¹å‘éƒ½ä¼šå‘ç”Ÿåè½¬ã€‚ä¹Ÿå¯èƒ½åªæœ‰ä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œä¾‹å¦‚å˜æ¢â€œå‘å³å‰ªåˆ‡ä¸€ä¸ªå•ä½â€ï¼Œ$x$ è½´æ–¹å‘æ˜¯å”¯ä¸€ä¸å‘ç”Ÿåè½¬çš„å‘é‡ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜å­˜åœ¨å¦ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå³ä¸€ä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ä¸æ­¢åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œä¾‹å¦‚å˜æ¢â€œå°†ç©ºé—´æ²¿æ‰€æœ‰è½´æ‹‰ä¼¸ä¸¤å€â€ï¼Œå”¯ä¸€çš„ç‰¹å¾å€¼æ˜¯ $2$ï¼Œå¹¶ä¸”ç©ºé—´ä¸­çš„æ‰€æœ‰å‘é‡éƒ½æ˜¯è¿™ä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡ã€‚</p><p>ç‰¹å¾å‘é‡å¦‚æ­¤ç‰¹æ®Šï¼Œé‚£ä¹ˆå¦‚æœé€‰å–ç‰¹å¾å‘é‡ä½œä¸ºåæ ‡ç³»çš„åŸºå‘é‡å°†ä¼šæ€æ ·å‘¢ï¼Ÿ</p><p>å½“ç‰¹å¾å‘é‡åˆšå¥½ä¸ºåŸºå‘é‡æ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>ç‰¹å¾åŸº</strong>ã€‚å…ˆè€ƒè™‘ä¸€ä¸ªæœ€ç‰¹æ®Šçš„æƒ…å†µï¼Œçº¯æ‹‰ä¼¸å˜æ¢ï¼š</p><p>$$ \begin{bmatrix}<br>3 &amp; 0 \cr 0 &amp; 2<br>\end{bmatrix} $$</p><p>å…¶åˆ—å‘é‡ï¼Œä¹Ÿå°±æ˜¯å˜æ¢åçš„åŸºå‘é‡ï¼Œåˆšå¥½ä¹Ÿæ˜¯ç‰¹å¾å‘é‡ã€‚è¿™ä¸ªçŸ©é˜µæœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾ï¼Œå°±æ˜¯é™¤äº†å¯¹è§’çº¿å…ƒç´ ä¹‹å¤–ï¼Œå…¶ä»–æ‰€æœ‰å…ƒç´ å‡ä¸ºé›¶ã€‚è¿™æ ·çš„çŸ©é˜µè¢«ç§°ä¸º<strong>å¯¹è§’çŸ©é˜µ</strong>ã€‚</p><p>å¯¹è§’çŸ©é˜µæœ‰ä¸€ä¸ªè‰¯å¥½çš„æ€§è´¨ï¼Œä¸æ™®é€šçŸ©é˜µç›¸æ¯”ï¼Œå®ƒçš„å¹‚è¿ç®—éå¸¸å®¹æ˜“è®¡ç®—ï¼š</p><p>$$ \begin{bmatrix} 3 &amp; 0 \cr 0 &amp; 2 \end{bmatrix}^n =<br>\begin{bmatrix} 3^n &amp; 0 \cr 0 &amp; 2^n \end{bmatrix} $$</p><p>ä¸Šè¿°æƒ…å†µè¿‡äºç‰¹æ®Šï¼Œé€šå¸¸æƒ…å†µä¸‹ç‰¹å¾å‘é‡å¹¶ä¸åˆšå¥½æ˜¯åŸºå‘é‡ã€‚ä½†å¦‚æœç‰¹å¾å‘é‡è¶³å¤Ÿå¤šï¼Œè¶³ä»¥å¼ æˆæ•´ä¸ªç©ºé—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é€šè¿‡åŸºå˜æ¢ï¼Œäººä¸ºåœ°æ„é€ å‡ºç‰¹å¾åŸºã€‚</p><p>ä¾‹å¦‚çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>3 &amp; 1 \cr 0 &amp; 2<br>\end{bmatrix} $$</p><p>å…¶ç‰¹å¾å‘é‡æœ‰ä¸¤ä¸ªï¼š$\begin{bmatrix} 1 \cr 0 \end{bmatrix}$ã€$\begin{bmatrix} -1 \cr 1 \end{bmatrix}$ã€‚æˆ‘ä»¬æŠŠç‰¹å¾å‘é‡å†™æˆåŸºå˜æ¢çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>1 &amp; -1 \cr 0 &amp; 1<br>\end{bmatrix} $$</p><p>åº”ç”¨åŸºå˜æ¢è§„åˆ™ï¼Œå¾—åˆ°ï¼š</p><p>$$ \begin{bmatrix} 1 &amp; -1 \cr 0 &amp; 1 \end{bmatrix}^{-1}<br>\begin{bmatrix} 3 &amp; 1 \cr 0 &amp; 2 \end{bmatrix}<br>\begin{bmatrix} 1 &amp; -1 \cr 0 &amp; 1 \end{bmatrix} =<br>\begin{bmatrix} 3 &amp; 0 \cr 0 &amp; 2 \end{bmatrix} $$</p><p><strong>ç‰¹å¾åŸºå˜æ¢çš„ç»“æœå¿…ç„¶ä¼šå¾—åˆ°ä¸€ä¸ªå¯¹è§’çŸ©é˜µ</strong>ï¼Œè¿™ä¸ªå˜æ¢çš„è¿‡ç¨‹è¢«ç§°ä¸º<strong>å¯¹è§’åŒ–</strong>ã€‚</p><blockquote><p>å½“æˆ‘ä»¬è¦å¯¹ä¸€ä¸ªæ™®é€šçŸ©é˜µè¿›è¡Œå¹‚è¿ç®—æ—¶ï¼Œå¯ä»¥å…ˆå°†å®ƒå¯¹è§’åŒ–ï¼Œç„¶åè¿›è¡Œå¹‚è¿ç®—ï¼Œæœ€åå†åº”ç”¨é€†å‘ç‰¹å¾åŸºå˜æ¢å³å¯ã€‚</p></blockquote><p>å¹¶éæ‰€æœ‰çš„çŸ©é˜µéƒ½èƒ½å¯¹è§’åŒ–ï¼ŒçŸ©é˜µèƒ½å¤Ÿå¯¹è§’åŒ–çš„å……è¦æ¡ä»¶æ˜¯ç‰¹å¾å‘é‡çš„ä¸ªæ•°ç­‰äºçŸ©é˜µçš„é˜¶æ•°ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§ä»£æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¦‚ç‡ç»Ÿè®¡ç¬”è®°</title>
      <link href="/posts/b59aba05/"/>
      <url>/posts/b59aba05/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸º <a href="https://book.douban.com/subject/1748397/">æ¦‚ç‡ç»Ÿè®¡è®²ä¹‰</a> ä¸€ä¹¦çš„ç¬”è®°ã€‚</p><span id="more"></span><h2 id="ç¬¬ä¸€ç« -éšæœºäº‹ä»¶ä¸æ¦‚ç‡">ç¬¬ä¸€ç«  éšæœºäº‹ä»¶ä¸æ¦‚ç‡</h2><h3 id="é¢‘ç‡">é¢‘ç‡</h3><p>$$ é¢‘ç‡=\frac{é¢‘æ•°}{è¯•éªŒæ¬¡æ•°} $$</p><h3 id="æ¦‚ç‡">æ¦‚ç‡</h3><p><strong>å®šä¹‰</strong>ï¼šé¢‘ç‡å…·æœ‰ç¨³å®šæ€§çš„äº‹ä»¶å«ä½œéšæœºäº‹ä»¶ï¼Œé¢‘ç‡çš„ç¨³å®šå€¼å«ä½œè¯¥éšæœºäº‹ä»¶çš„æ¦‚ç‡ã€‚</p><p>éšæœºäº‹ä»¶ $A$ åœ¨æ¡ä»¶ $S$ ä¸‹å‘ç”Ÿçš„æ¦‚ç‡ä¸º $p$ï¼Œè®°ä½œï¼š</p><p>$$ P(A)=p $$</p><h4 id="ç­‰æ¦‚å®Œå¤‡äº‹ä»¶ç»„">ç­‰æ¦‚å®Œå¤‡äº‹ä»¶ç»„</h4><p><strong>å®šä¹‰</strong>ï¼šç§°ä¸€ä¸ªäº‹ä»¶ç»„ $A_1, A_2, A_3, \cdots, A_n$ ä¸ºä¸€ä¸ª<strong>ç­‰æ¦‚å®Œå¤‡äº‹ä»¶ç»„</strong>ï¼Œå¦‚æœå®ƒå…·æœ‰ä¸‹åˆ—ä¸‰æ¡æ€§è´¨ï¼š</p><ol><li><strong>ç­‰å¯èƒ½æ€§</strong>ï¼š$A_1, A_2, A_3, \cdots, A_n$ å‘ç”Ÿçš„æœºä¼šç›¸åŒ</li><li><strong>å®Œå¤‡æ€§</strong>ï¼šåœ¨äººä¸€æ¬¡è¯•éªŒä¸­ï¼Œ$A_1, A_2, A_3, \cdots, A_n$ è‡³å°‘æœ‰ä¸€ä¸ªå‘ç”Ÿï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œé™¤æ­¤ä¹‹å¤–ï¼Œä¸å¯èƒ½æœ‰åˆ«çš„ç»“æœâ€ï¼‰</li><li><strong>äº’ä¸ç›¸å®¹æ€§</strong>ï¼šåœ¨ä»»ä¸€æ¬¡è¯•éªŒä¸­ï¼Œ$A_1, A_2, A_3, \cdots, A_n$ è‡³å¤šæœ‰ä¸€ä¸ªå‘ç”Ÿï¼ˆä¹Ÿå°±æ˜¯æ‰€è°“â€œä»–ä»¬æ˜¯äº’ç›¸æ’æ–¥çš„â€ï¼‰</li></ol><p>ç­‰æ¦‚å®Œå¤‡äº‹ä»¶ç»„åˆç§°ç­‰æ¦‚åŸºæœ¬äº‹ä»¶ç»„ï¼Œå…¶ä¸­çš„ä»»æ„äº‹ä»¶ $A_i(i=1,2,\cdots,n)$ ç§°ä¸º<strong>åŸºæœ¬äº‹ä»¶</strong>ã€‚</p><p>å¯¹äºåªæ»¡è¶³æ¡ä»¶ 2ã€3 çš„äº‹ä»¶ç»„ï¼Œç§°ä¸º<strong>å®Œå¤‡äº‹ä»¶ç»„</strong>ã€‚</p><h4 id="äº‹ä»¶çš„è¿ç®—">äº‹ä»¶çš„è¿ç®—</h4><ol><li><p>å¿…ç„¶äº‹ä»¶è¡¨ç¤ºä¸º $U$ï¼Œä¸å¯èƒ½äº‹ä»¶è¡¨ç¤ºä¸º $V$ã€‚</p></li><li><p>åŒ…å«ï¼šå¦‚æœäº‹ä»¶ $A$ å‘ç”Ÿï¼Œé‚£ä¹ˆ $B$ å¿…å‘ç”Ÿï¼Œå°±ç§°äº‹ä»¶ $B$ åŒ…å«äº‹ä»¶ $A$ï¼Œè®°ä½œ<br>$$ A \subset B $$</p></li><li><p>ç›¸ç­‰ï¼šå¦‚æœäº‹ä»¶ $A$ åŒ…å«äº‹ä»¶ $B$ï¼ŒåŒæ—¶äº‹ä»¶ $B$ åŒ…å«äº‹ä»¶ $A$ï¼Œé‚£ä¹ˆå°±ç§°äº‹ä»¶ $A$ ä¸ $B$ ç›¸ç­‰æˆ–ç­‰ä»·ï¼Œè®°ä½œ<br>$$ A=B $$</p></li><li><p>å¹¶ï¼šäº‹ä»¶â€œ$A$ æˆ– $B$â€ç§°ä¸ºäº‹ä»¶ $A$ ä¸äº‹ä»¶ $B$ çš„å¹¶ï¼Œè®°ä½œ<br>$$ A \cup B \quad æˆ– \quad A+B $$</p></li><li><p>äº¤ï¼šäº‹ä»¶â€œ$A$ ä¸” $B$â€ç§°ä¸ºäº‹ä»¶ $A$ å’Œäº‹ä»¶ $B$ çš„äº¤ï¼Œè®°ä½œ<br>$$ A \cap B \quad æˆ– \quad AB \quad æˆ– \quad A \cdot B $$</p></li><li><p>å¯¹ç«‹äº‹ä»¶ï¼šäº‹ä»¶â€œé$A$â€ç§°ä¸º $A$ çš„å¯¹ç«‹äº‹ä»¶ï¼Œè®°ä½œ $\overline{A}$ï¼Œæœ‰<br>$$ A \cap \overline{A} = V $$<br>$$ A \cup \overline{A} = U $$</p></li><li><p>äº‹ä»¶çš„å·®ï¼šäº‹ä»¶ $A$ åŒ $B$ çš„å·®è¡¨ç¤º $A$ å‘ç”Ÿè€Œ $B$ ä¸å‘ç”Ÿçš„äº‹ä»¶ï¼Œè®°ä½œ $A \backslash B$ï¼Œç”±å®šä¹‰å¯çŸ¥<br>$$ A \backslash B = A \cap \overline{B} $$</p></li></ol><h4 id="äº‹ä»¶çš„äº’ä¸ç›¸å®¹æ€§">äº‹ä»¶çš„äº’ä¸ç›¸å®¹æ€§</h4><p>å¦‚æœäº‹ä»¶ $A$ ä¸äº‹ä»¶ $B$ ä¸èƒ½åŒæ—¶å‘ç”Ÿï¼Œå³ï¼š</p><p>$$ AB = V(ä¸å¯èƒ½äº‹ä»¶) $$</p><p>é‚£ä¹ˆï¼Œç§° $A$ ä¸ $B$ æ˜¯äº’ä¸ç›¸å®¹äº‹ä»¶ã€‚</p><h4 id="æ¦‚ç‡çš„åŠ æ³•å…¬å¼">æ¦‚ç‡çš„åŠ æ³•å…¬å¼</h4><p>å¦‚æœäº‹ä»¶ $A$ï¼Œ$B$ äº’ä¸ç›¸å®¹ï¼Œåˆ™</p><p>$$ P(A \cup B) = P(A) + P(B) $$</p><h4 id="æ¡ä»¶æ¦‚ç‡">æ¡ä»¶æ¦‚ç‡</h4><p>å¦‚æœ $A$ï¼Œ$B$ æ˜¯æ¡ä»¶ $S$ ä¸‹çš„ä¸¤ä¸ªéšæœºäº‹ä»¶ï¼Œ$P(A) \neq 0$ï¼Œåˆ™ç§°åœ¨ $A$ å‘ç”Ÿçš„å‰æä¸‹ $B$ å‘ç”Ÿçš„æ¦‚ç‡ä¸º<strong>æ¡ä»¶æ¦‚ç‡</strong>ï¼Œè®°ä½œ $P(B \mid A)$</p><h4 id="æ¦‚ç‡çš„ä¹˜æ³•å…¬å¼">æ¦‚ç‡çš„ä¹˜æ³•å…¬å¼</h4><p>$$ P(AB) = P(A) P(B \mid A) $$</p><p>è¿›ä¸€æ­¥æœ‰</p><p>$$ P(A) P(B \mid A) = P(B) P(A \mid B) $$</p><h4 id="äº‹ä»¶çš„ç‹¬ç«‹æ€§">äº‹ä»¶çš„ç‹¬ç«‹æ€§</h4><p>äº‹ä»¶ $A$ çš„å‘ç”Ÿå¹¶ä¸å½±å“äº‹ä»¶ $B$ çš„å‘ç”Ÿï¼Œå³ï¼š</p><p>$$ P(B \mid A) = P(B) $$</p><p>ç§°ä¸¤ä¸ªäº‹ä»¶ $A$ï¼Œ$B$ æ˜¯<strong>ç›¸äº’ç‹¬ç«‹</strong>çš„ã€‚æ­¤æ—¶æœ‰ï¼š</p><p>$$ P(AB) = P(A) P(B) $$</p><h4 id="å…¨æ¦‚å…¬å¼">å…¨æ¦‚å…¬å¼</h4><p>è®¾äº‹ä»¶ç»„ $A_1, A_2, A_3, \cdots, A_n$ ä¸ºå®Œå¤‡äº‹ä»¶ç»„ï¼Œåˆ™å¯¹ä»»æ„ä¸€ä¸ªäº‹ä»¶ $B$ æœ‰ï¼š</p><p>$$ P(B) = \sum_{i=1}^{n} P(B \mid A_i) P(A_i) $$</p><p>è€ƒè™‘ $n=2$ æ—¶çš„ç®€åŒ–æƒ…å†µï¼Œæœ‰ï¼š</p><p>$$ P(B) = P(B \mid A) P(A) + P(B \mid \overline{A}) P(\overline{A}) $$</p><h4 id="é€†æ¦‚å…¬å¼">é€†æ¦‚å…¬å¼</h4><p>è®¾äº‹ä»¶ç»„ $A_1, A_2, A_3, \cdots, A_n$ ä¸ºå®Œå¤‡äº‹ä»¶ç»„ï¼Œåˆ™å¯¹ä»»æ„ä¸€ä¸ªäº‹ä»¶ $B$ æœ‰ï¼š</p><p>$$ P(A_j \mid B) = \frac{P(B \mid A_j) P(A_j)}{\sum_{i=1}^{n} P(B \mid A_i) P(A_i)} \; (j=1,\cdots,n) $$</p><p>é€†æ¦‚å…¬å¼ä¹Ÿç§°ä¸º<strong>è´å¶æ–¯å…¬å¼</strong>ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¹˜æ³•å…¬å¼ä¸å…¨æ¦‚å…¬å¼çš„ç»“åˆï¼Œå³ï¼š</p><p>$$ P(A_j \mid B) = \frac{P(A_j B)}{P(B)} = \frac{P(B \mid A_j) P(A_j)}{\sum_{i=1}^{n} P(B \mid A_i) P(A_i)} \; (j=1,\cdots,n) $$</p><h4 id="ç‹¬ç«‹è¯•éªŒåºåˆ—æ¦‚å‹">ç‹¬ç«‹è¯•éªŒåºåˆ—æ¦‚å‹</h4><p>è®¾æ¯æ¬¡å°„å‡»æ‰“ä¸­ç›®æ ‡çš„æ¦‚ç‡ä¸º $p$ï¼Œè¿ç»­å°„å‡» $n$ æ¬¡ï¼Œæ±‚æ°å¥½æ‰“ä¸­ $k$ æ¬¡çš„æ¦‚ç‡ã€‚</p><p>è®¾å•æ¬¡è¯•éªŒä¸­ï¼Œäº‹ä»¶ $A$ å‘ç”Ÿçš„æ¦‚ç‡ä¸º $p(0 \lt p \lt 1)$ï¼Œåˆ™åœ¨ $n$ æ¬¡é‡å¤å®éªŒä¸­ï¼š</p><p>$$ P(Aå‘ç”Ÿkæ¬¡) = C_n^k p^k q^{n-k} \quad (q=1-p; k=0,1,2,\cdots,n) $$</p><h2 id="ç¬¬äºŒç« -éšæœºå˜é‡ä¸æ¦‚ç‡åˆ†å¸ƒ">ç¬¬äºŒç«  éšæœºå˜é‡ä¸æ¦‚ç‡åˆ†å¸ƒ</h2><h3 id="éšæœºå˜é‡">éšæœºå˜é‡</h3><p><strong>å®šä¹‰</strong>ï¼šå¯¹äºæ¡ä»¶ç»„ $S$ ä¸‹çš„æ¯ä¸€ä¸ªå¯èƒ½ç»“æœ $\omega$ éƒ½å”¯ä¸€çš„å¯¹åº”åˆ°ä¸€ä¸ªå®æ•°å€¼ $X(\omega)$ï¼Œåˆ™ç§°å®å€¼å˜é‡ $X(\omega)$ ä¸ºä¸€ä¸ªéšæœºå˜é‡ï¼Œç®€è®°ä¸º $X$ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šè®¾ç›’ä¸­æœ‰ 5 ä¸ªçƒï¼Œå…¶ä¸­ 2 ä¸ªç™½çƒã€3 ä¸ªé»‘çƒï¼Œä»ä¸­éšä¾¿å– 3 ä¸ªçƒã€‚åˆ™â€œæŠ½å¾—çš„ç™½çƒæ•°â€$X$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ã€‚</p><p>éšæœºå˜é‡åˆ†ä¸º<strong>ç¦»æ•£å‹éšæœºå˜é‡</strong>å’Œ<strong>è¿ç»­å‹éšæœºå˜é‡</strong>ã€‚</p><h3 id="ä¸€ã€ç¦»æ•£å‹éšæœºå˜é‡">ä¸€ã€ç¦»æ•£å‹éšæœºå˜é‡</h3><p>å°†éšæœºå˜é‡ $X$ çš„æ‰€æœ‰å¯èƒ½å–å€¼åˆ°å…¶ç›¸åº”æ¦‚ç‡çš„æ˜ å°„ç§°ä¸º $X$ çš„æ¦‚ç‡åˆ†å¸ƒï¼Œè®°ä¸ºï¼š</p><p>$$ p_k = P\{X=x_k\} \quad (k=1,2,\cdots) $$</p><h4 id="å¸¸ç”¨çš„ç¦»æ•£å‹éšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒ">å¸¸ç”¨çš„ç¦»æ•£å‹éšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒ</h4><ol><li><p>ä¸¤ç‚¹åˆ†å¸ƒ<br>éšæœºå˜é‡ $X$ ä»…å–ä¸¤ä¸ªå€¼ï¼š0 æˆ– 1ï¼Œå³</p><p>$$ \begin{aligned}<br>&amp; P\{X=1\}=p \quad (0 \lt p \lt 1) \\<br>&amp; P\{X=0\}=q \quad (q=1-p)<br>\end{aligned} $$</p></li><li><p>äºŒé¡¹åˆ†å¸ƒ<br>$$ P\{X=k\} = C_n^k p^k q^{n-k} \quad (k=0,1,2,\cdots,n;\; 0 \lt p \lt 1;\;q=1-p) $$</p><p>éšæœºå˜é‡ $X$ æ»¡è¶³äºŒé¡¹åˆ†å¸ƒå¯ç®€è®°ä¸ºï¼š$X \sim B(n,p)$</p></li><li><p>æ³Šæ¾åˆ†å¸ƒ<br>$$ P\{X=k\} = \frac{\lambda^k}{k!} e^{-\lambda} \quad (k=0,1,2,\cdots,n) $$</p><p>å½“ $\displaystyle \lim_{n \to \infty} np = \lambda$ æ—¶ï¼Œæ³Šæ¾åˆ†å¸ƒç­‰åŒäºäºŒé¡¹åˆ†å¸ƒã€‚</p></li><li><p>è¶…å‡ ä½•åˆ†å¸ƒ<br>$$ P\{X=m\} = \frac{C_M^m C_{N-M}^{n-m}}{C_N^n} \quad (m=0,1,2,\cdots,l;\; å…¶ä¸­ l=\min(M,n)) $$</p><p>ç¤ºä¾‹ï¼šè®¾ä¸€å †åŒç±»äº§å“å…± $N$ ä¸ªï¼Œå…¶ä¸­æœ‰ $M$ ä¸ªæ¬¡å“ã€‚ç°ä»ä¸­ä»»å– $n$ ä¸ªï¼ˆå‡å®š $n \le N-M$ï¼‰ï¼Œåˆ™è¿™ $n$ ä¸ªæ ·å“ä¸­æ‰€å«æ¬¡å“ä¸ªæ•° $X$ æ˜¯ä¸€ä¸ªç¦»æ•£å‹éšæœºå˜é‡ï¼Œå…¶æ¦‚ç‡åˆ†å¸ƒä¸ºè¶…å‡ ä½•åˆ†å¸ƒã€‚</p></li></ol><h3 id="äºŒã€è¿ç»­å‹éšæœºå˜é‡">äºŒã€è¿ç»­å‹éšæœºå˜é‡</h3><h4 id="æ¦‚ç‡å¯†åº¦å‡½æ•°">æ¦‚ç‡å¯†åº¦å‡½æ•°</h4><p><strong>å®šä¹‰</strong>ï¼šå¯¹äºéšæœºå˜é‡ $X$ï¼Œå¦‚æœå­˜åœ¨éè´Ÿå¯ç§¯å‡½æ•° $p(x)(-\infty \lt x \lt \infty)$ï¼Œä½¿å¯¹ä»»æ„çš„ $a,b(a \lt b)$ éƒ½æœ‰ï¼š</p><p>$$ P\{a \lt X \lt b\} = \int_a^b p(x) \mathrm{d}x $$</p><p>åˆ™ç§° $X$ ä¸º<strong>è¿ç»­æ€§éšæœºå˜é‡</strong>ï¼›ç§° $p(x)$ ä¸º $X$ çš„<strong>æ¦‚ç‡å¯†åº¦å‡½æ•°</strong>ï¼Œç®€ç§°æ¦‚ç‡å¯†åº¦æˆ–å¯†åº¦ã€‚</p><p>ä¸ç¦»æ•£å‹éšæœºå˜é‡ç±»æ¯”ï¼šå°†ç¦»æ•£å‹éšæœºå˜é‡ $X$ çš„ç¦»æ•£å€¼æ— é™ç»†åˆ†ï¼Œåˆ™ $X$ çš„æ¦‚ç‡åˆ†å¸ƒå°†å˜ä¸ºæ¦‚ç‡å¯†åº¦å‡½æ•°ã€‚</p><p>æ˜¾ç„¶ï¼Œæ¦‚ç‡å¯†åº¦å‡½æ•°æ»¡è¶³ä»¥ä¸‹ä¸¤æ¡æ€§è´¨ï¼š</p><ol><li><p>å¯¹ä»»ä½•å®æ•° $a$ï¼Œæœ‰<br>$$ P\{X=a\} = 0 $$</p></li><li><p>æ¦‚ç‡å¯†åº¦åœ¨æ•´ä¸ªå®æ•°è½´ä¸Šçš„ç§¯åˆ†ä¸º 1<br>$$ \int_{-\infty}^{\infty} p(x) \mathrm{d}x = 1 $$</p></li></ol><h4 id="å¸¸è§æ¦‚ç‡å¯†åº¦å‡½æ•°">å¸¸è§æ¦‚ç‡å¯†åº¦å‡½æ•°</h4><ol><li><p>å‡åŒ€åˆ†å¸ƒ<br>å¦‚æœéšæœºå˜é‡ $X$ çš„æ¦‚ç‡å¯†åº¦ä¸º</p><p>$$ p(x) = \begin{cases}<br>\lambda \qquad å½“ a \le x \le b \\<br>0 \qquad å…¶ä»– \end{cases} \quad (a \lt b) $$</p><p>åˆ™ç§° $X$ æœä» $[a,b]$ åŒºé—´ä¸Šçš„å‡åŒ€åˆ†å¸ƒ</p></li><li><p>æŒ‡æ•°åˆ†å¸ƒ</p><p>$$ p(x) = \begin{cases}<br>\lambda e^{-\lambda x} &amp; å½“ x \ge 0 \\<br>0 &amp; å½“ x \lt 0 \end{cases} \quad (\lambda \gt 0) $$</p></li><li><p>æ­£æ€åˆ†å¸ƒ</p><p>$$ p(x) = \frac{1}{\sqrt{2 \pi} \sigma} e^{-\frac{1}{2 \sigma^2}(x-\mu)^2} \quad (-\infty \lt x \lt \infty,\;\sigma \gt 0) $$</p><p>å˜é‡ $X$ æœä»æ­£æ€åˆ†å¸ƒ $N(\mu,\sigma^2)$ å¯ç®€è®°ä¸º $X \sim N(\mu,\sigma^2)$ã€‚</p><p><strong>æ ‡å‡†æ­£æ€åˆ†å¸ƒ</strong>ï¼šå‚æ•° $\mu=0, \sigma=1$ æ—¶çš„æ­£æ€åˆ†å¸ƒï¼Œå³ $N(0,1)$ã€‚å®ƒçš„å¯†åº¦å‡½æ•°ä¸º</p><p>$$ p(x) = \frac{1}{\sqrt{2 \pi}} e^{-\frac{x^2}{2}} $$</p><p><strong>ä¸€ä¸ªé‡è¦çš„ç§¯åˆ†</strong>ï¼š</p><p>$$ \int_{-\infty}^{\infty} \frac{1}{\sqrt{2 \pi}} e^{-\frac{x^2}{2}} \mathrm{d}x = 1 $$</p><p>é€šè¿‡æ­£æ€åˆ†å¸ƒçš„å¯†åº¦å‡½æ•°æ±‚æŸä¸ªåŒºé—´çš„æ¦‚ç‡æ—¶ï¼Œéœ€è¦è®¡ç®—å¯†åº¦å‡½æ•°çš„ç§¯åˆ†ï¼Œè¿™ç§è®¡ç®—éå¸¸å¤æ‚ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡å·²ç»è®¡ç®—å¥½æ•°å€¼çš„ $\Phi$ å‡½æ•°æ¥å¸®åŠ©æ±‚è§£ï¼š</p><p>$$ \Phi(x) = \int_{-\infty}^{x} \frac{1}{\sqrt{2 \pi}} e^{-\frac{t^2}{2}} \mathrm{d}t $$</p><p>é‚£ä¹ˆå¯¹äºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œæœ‰</p><p>$$ P\{a \lt X \lt b\} = \Phi(b) - \Phi(a) $$</p><p>å¯¹äºä¸€èˆ¬æ­£æ€åˆ†å¸ƒ $N(\mu,\sigma^2)$ï¼Œå¸¸å¸¸ä½¿ç”¨<strong>å˜é‡æ›¿æ¢æ³•</strong>å°†å…¶è½¬åŒ–ä¸ºæ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œå³ä»¤</p><p>$$ t = \frac{x-\mu}{\sigma} $$</p><p>è¿™æ—¶ï¼Œ$X \sim N(\mu,\sigma) \rightarrow T \sim N(0,1)$ã€‚è¿™æ ·ï¼Œå¯¹äºä¸€èˆ¬æ­£æ€åˆ†å¸ƒä¹Ÿèƒ½è½»æ˜“åœ°è®¡ç®—å…¶ç§¯åˆ†äº†ã€‚</p></li><li><p>$\Gamma$ åˆ†å¸ƒ</p><p>$$ p(x) = \begin{cases}<br>\frac{\beta^\alpha}{\Gamma(\alpha)} x^{\alpha-1} e^{-\beta x} &amp; x \gt 0 \\<br>0 &amp; x \le 0 \end{cases} \quad (\alpha \gt 0, \beta \gt 0) $$</p><p>å…¶ä¸­</p><p>$$ \Gamma(\alpha) = \int_0^{\infty} x^{\alpha-1} e^{-x} \mathrm{d}x $$</p><p>å˜é‡ $X$ æœä» $\Gamma$ åˆ†å¸ƒå¯ç®€è®°ä¸º $X \sim \Gamma(\alpha, \beta)$</p></li><li><p>éŸ¦å¸ƒå°”åˆ†å¸ƒ</p><p>$$ p(x) = \begin{cases}<br>m \frac{x^{m-1}}{\eta^m} e^{-(\frac{x}{\eta})^m} &amp; x \gt 0 \\<br>0 &amp; x \le 0 \end{cases} $$</p></li></ol><h4 id="åˆ†å¸ƒå‡½æ•°">åˆ†å¸ƒå‡½æ•°</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾ $X$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼ˆå¯ä»¥æ˜¯è¿ç»­å‹çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç¦»æ•£å‹çš„ï¼Œç”šè‡³æ›´ä¸€èˆ¬çš„ï¼‰ï¼Œç§°å‡½æ•°</p><p>$$ F(x) = P(X \le x) \quad (-\infty \lt x \lt +\infty) $$ ä¸º $X$ çš„åˆ†å¸ƒå‡½æ•°ã€‚</p><p>è¿ç»­å‹éšæœºå˜é‡çš„åˆ†å¸ƒå‡½æ•°äº‹å®ä¸Šæ˜¯å…¶æ¦‚ç‡å¯†åº¦å‡½æ•°åœ¨åŒºé—´ $(-\infty, x]$ ä¸Šçš„ä¸å®šä¸Šé™ç§¯åˆ†ã€‚</p><h4 id="éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ">éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ</h4><p><strong>éšæœºå˜é‡å‡½æ•°</strong>ï¼šéšæœºå˜é‡ $X$ çš„å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œè®°ä½œ</p><p>$$ Y = f(X) $$</p><p>æ»¡è¶³å½“ $X$ å–å€¼ä¸º $x$ æ—¶ï¼Œ$y$ å–å€¼ä¸º $f(x)$ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šè®¾ $X$ æ˜¯åˆ†å­çš„é€Ÿç‡ï¼Œè€Œ $Y$ æ˜¯åˆ†å­çš„åŠ¨èƒ½ï¼Œåˆ™ $Y$ æ˜¯ $X$ çš„å‡½æ•°ï¼š$Y=\frac{1}{2}mX^2$ï¼ˆ$m$ ä¸ºåˆ†å­è´¨é‡ï¼‰ã€‚</p><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯ï¼Œæ ¹æ®å·²çŸ¥çš„ $X$ çš„åˆ†å¸ƒæ¥å¯»æ±‚ $Y=f(X)$ çš„åˆ†å¸ƒã€‚</p><h5 id="ç¦»æ•£å‹éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ">ç¦»æ•£å‹éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ</h5><p>å‡è®¾ç¦»æ•£å‹éšæœºå˜é‡ $X, Y$ æœ‰å¦‚ä¸‹å…³ç³»ï¼š$Y=f(X)$ã€‚è¦å¾—åˆ° $P\{Y=y_i\}$ï¼Œåªéœ€æ±‚å‡º $Y=y_i$ æ—¶å¯¹åº”çš„ $x_i$ï¼ˆå¯èƒ½æœ‰ 0 ä¸ªæˆ–å¤šä¸ªå¯¹åº”å€¼ï¼‰ï¼Œå°†è¿™äº› $x_i$ å¯¹åº”çš„æ¦‚ç‡ç›¸åŠ å³å¯ã€‚</p><h5 id="è¿ç»­å‹éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ">è¿ç»­å‹éšæœºå˜é‡å‡½æ•°çš„åˆ†å¸ƒ</h5><p><strong>åˆ†å¸ƒå‡½æ•°æ³•</strong>ï¼šå·²çŸ¥ $X$ çš„åˆ†å¸ƒï¼Œé€šè¿‡å»ºç«‹ $Y$ ä¸ $X$ çš„åˆ†å¸ƒå‡½æ•°ä¹‹é—´çš„å…³ç³»æ¥æ±‚å¾— $Y$ çš„åˆ†å¸ƒã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šå·²çŸ¥ $X \sim N(\mu,\sigma^2)$ï¼Œæ±‚ $Y=\frac{X-\mu}{\sigma}$ çš„æ¦‚ç‡å¯†åº¦ã€‚</p><p>è§£ï¼šè®¾ $Y$ çš„åˆ†å¸ƒå‡½æ•°ä¸º $F_Y(y)$ï¼Œäºæ˜¯</p><p>$$ \begin{aligned}<br>F_Y(y) &amp; = P(Y \le y) \quad (åˆ†å¸ƒå‡½æ•°çš„å®šä¹‰) \\<br>&amp; = P(\frac{X-\mu}{\sigma} \le y) \quad (Y=\frac{X-\mu}{\sigma}) \\<br>&amp; = P(X \le \sigma y + \mu) \quad (ä¸ç­‰å¼å˜å½¢) \\<br>&amp; = F_X(\sigma y + \mu) \quad (åˆ†å¸ƒå‡½æ•°çš„å®šä¹‰)<br>\end{aligned} $$</p><p>å…¶ä¸­ $F_X(x)$ ä¸º $X$ çš„åˆ†å¸ƒå‡½æ•°ã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬æœ‰</p><p>$$ F_Y(y) = F_X(\sigma y + \mu) $$</p><p>å°†ä¸Šå¼ä¸¤è¾¹å¯¹ $y$ æ±‚å¾®åˆ†ï¼Œåˆ©ç”¨<strong>å¯†åº¦å‡½æ•°æ˜¯åˆ†å¸ƒå‡½æ•°çš„å¯¼æ•°</strong>çš„å…³ç³»ï¼Œæˆ‘ä»¬å¾—åˆ°</p><p>$$ p_Y(y) = p_X(\sigma y + \mu) \sigma $$</p><p>å†å°†</p><p>$$ p_X(x) = \frac{1}{\sqrt{2 \pi} \sigma} e^{-\frac{1}{2 \sigma^2}(x-\mu)^2} $$</p><p>ä»£å…¥ï¼Œæœ‰</p><p>$$ p_Y(y) = \frac{1}{\sqrt{2 \pi}} e^{-\frac{y^2}{2}} $$</p><p>è¿™è¡¨æ˜ $Y \sim N(0,1)$ã€‚</p><h2 id="ç¬¬ä¸‰ç« -éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾">ç¬¬ä¸‰ç«  éšæœºå˜é‡çš„æ•°å­—ç‰¹å¾</h2><h3 id="éšæœºå˜é‡çš„æœŸæœ›">éšæœºå˜é‡çš„æœŸæœ›</h3><p>éšæœºå˜é‡çš„æœŸæœ› $E(X)$ æ˜¯ä¸€ä¸ªå®æ•°ï¼Œå®ƒå½¢å¼ä¸Šæ˜¯ $X$ æ‰€æœ‰å¯èƒ½å–å€¼çš„åŠ æƒå¹³å‡ï¼Œä»£è¡¨äº†éšæœºå˜é‡ $X$ çš„å¹³å‡å€¼ã€‚å› æ­¤ï¼Œä¹Ÿç§°æœŸæœ›ä¸º<strong>å‡å€¼</strong>æˆ–<strong>åˆ†å¸ƒçš„å‡å€¼</strong>ã€‚</p><h4 id="ç¦»æ•£å‹éšæœºå˜é‡çš„æœŸæœ›">ç¦»æ•£å‹éšæœºå˜é‡çš„æœŸæœ›</h4><p>$$ E(X) = \sum_k x_k p_k \quad (=x_1p_1+x_2p_2+\cdots+x_kp_k+\cdots) $$</p><h5 id="å‡ ä¸ªå¸¸ç”¨åˆ†å¸ƒçš„æœŸæœ›">å‡ ä¸ªå¸¸ç”¨åˆ†å¸ƒçš„æœŸæœ›</h5><ol><li><p>ä¸¤ç‚¹åˆ†å¸ƒ<br>$$ E(X) = 1 \cdot p + 0 \cdot q = p $$</p></li><li><p>äºŒé¡¹åˆ†å¸ƒ<br>$$ E(X) = \sum_{k=1}^n k C_n^k p^k q^{n-k} = np $$</p></li><li><p>æ³Šæ¾åˆ†å¸ƒ</p><p>$$ \begin{aligned}<br>E(X) &amp; = \sum_{k=0}^\infty k \cdot \frac{\lambda^k}{k!} e^{-\lambda} \\<br>&amp; = \lambda e^{-\lambda} \sum_{m=0}^\infty \frac{\lambda^m}{m!} \quad (ä»¤m=k-1) \\<br>&amp; = \lambda e^{-\lambda} e^{\lambda} \quad (æ³Šæ¾åˆ†å¸ƒçš„å¯†åº¦ä¹‹å’Œä¸º 1) \\<br>&amp; = \lambda<br>\end{aligned} $$</p></li><li><p>è¶…å‡ ä½•åˆ†å¸ƒ<br>$$ E(X) = \frac{nM}{N} $$</p></li></ol><h4 id="è¿ç»­å‹éšæœºå˜é‡çš„æœŸæœ›">è¿ç»­å‹éšæœºå˜é‡çš„æœŸæœ›</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾è¿ç»­å‹éšæœºå˜é‡$X$çš„å¯†åº¦å‡½æ•°ä¸º $p(x)$ï¼Œç§°</p><p>$$ \int_{-\infty}^{+\infty} xp(x) \mathrm{d}x $$</p><p>ä¸º $X$ çš„<strong>æœŸæœ›</strong>ï¼ˆæˆ–å‡å€¼ï¼‰ï¼Œè®°ä½œ $E(X)$ã€‚</p><p>æœ¬å®šä¹‰è¦æ±‚ $\displaystyle \int_{-\infty}^{+\infty} \vert x \vert p(x) \mathrm{d}x$ æ”¶æ•›</p><h5 id="å‡ ä¸ªå¸¸ç”¨åˆ†å¸ƒçš„æœŸæœ›-2">å‡ ä¸ªå¸¸ç”¨åˆ†å¸ƒçš„æœŸæœ›</h5><ol><li><p>å‡åŒ€åˆ†å¸ƒ<br>$$ E(X) = \frac{1}{2}(b+a) $$</p></li><li><p>æŒ‡æ•°åˆ†å¸ƒ</p><p>$$ \begin{aligned}<br>E(X) &amp; = \int_{-\infty}^{+\infty} xp(x) \mathrm{d}x \\<br>&amp; = \int_{0}^{+\infty} \lambda x e^{-\lambda x} \mathrm{d}x \\<br>&amp; = \frac{1}{\lambda} \int_0^{+\infty} te^{-t} \mathrm{d}t \quad (ä»¤t=\lambda x) \\<br>&amp; = -\frac{1}{\lambda} \int_0^{+\infty} t \mathrm{d}e^{-t} \\<br>&amp; = -\frac{1}{\lambda}\left[(te^{-t}) \Big|_0^{+\infty}-\int_0^{+\infty}e^{-t}\mathrm{d}t \right] \\<br>&amp; = \frac{1}{\lambda}<br>\end{aligned} $$</p></li><li><p>æ­£æ€åˆ†å¸ƒ<br>$$ E(X) = \mu $$</p><p>è¯æ˜ç•¥ã€‚æ­£æ€åˆ†å¸ƒå¯†åº¦å‡½æ•°ä»¥ $x=\mu$ ä¸ºå¯¹ç§°è½´ï¼Œè¿™å°±æ˜¯å…¶å«ä¹‰æ‰€åœ¨ã€‚</p></li></ol><h4 id="æœŸæœ›çš„ç®€å•æ€§è´¨">æœŸæœ›çš„ç®€å•æ€§è´¨</h4><p>$$ \begin{aligned}<br>EÂ© &amp;= c \\<br>E(kX) &amp;= kE(X) \\<br>E(X+b) &amp;= E(X) + b \\<br>E(kX+b) &amp;= kE(X) + b<br>\end{aligned} $$</p><p>ä¸€è¨€ä»¥è”½ä¹‹ï¼Œ<strong>æœŸæœ›æ˜¯çº¿æ€§çš„</strong>ã€‚</p><h4 id="éšæœºå˜é‡å‡½æ•°çš„æœŸæœ›">éšæœºå˜é‡å‡½æ•°çš„æœŸæœ›</h4><p>å¯¹äºç¦»æ•£å‹éšæœºå˜é‡æœ‰</p><p>$$ E\left[f(X)\right] = \sum_i f(x_i)p_i $$</p><p>å¯¹äºè¿ç»­å‹éšæœºå˜é‡æœ‰</p><p>$$ E\left[f(X)\right] = \int_{-\infty}^{+\infty} f(x)p(x) \mathrm{d}x $$</p><p><strong>æ±‚éšæœºå˜é‡å‡½æ•°çš„æœŸæœ›</strong>æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li>åˆ©ç”¨ä¸Šè¿°éšæœºå˜é‡å‡½æ•°çš„æœŸæœ›å…¬å¼ç›´æ¥æ±‚è§£ï¼›</li><li>é¦–å…ˆé€šè¿‡ $X$ çš„åˆ†å¸ƒæ¨å‡º $f(X)$ çš„åˆ†å¸ƒï¼Œç„¶åé€šè¿‡æœŸæœ›çš„å®šä¹‰æ±‚å‡º $f(X)$ çš„æœŸæœ›ã€‚</li></ol><p>ä¸€èˆ¬æ¥è¯´ï¼Œç¬¬ä¸€ç§æ–¹æ³•è¾ƒä¸ºç®€å•ï¼Œæ˜¯æˆ‘ä»¬çš„é¦–é€‰æ–¹æ³•ã€‚</p><h3 id="éšæœºå˜é‡çš„æ–¹å·®">éšæœºå˜é‡çš„æ–¹å·®</h3><p><strong>å®šä¹‰</strong>ï¼š</p><p>$$ D(X) = E \left\{ [X-E(X)]^2 \right\} $$ è¿™è¡¨æ˜ $X$ çš„æ–¹å·®ï¼Œå°±æ˜¯éšæœºå˜é‡ $[X-E(X)]^2$ çš„æœŸæœ›ã€‚</p><blockquote><p>ğŸ’¡ å®šæ€§è®¤è¯†ï¼Œ$D(X)$ è¶Šå°ï¼Œåˆ™ $X$ å–å€¼è¶Šé›†ä¸­åœ¨ $E(X)$ é™„è¿‘ã€‚æ–¹å·®åˆ»ç”»äº†éšæœºå˜é‡å–å€¼çš„åˆ†æ•£ç¨‹åº¦ã€‚</p></blockquote><p><strong>æ–¹å·®ç®€åŒ–è®¡ç®—å…¬å¼</strong>ï¼š</p><p>$$ D(X) = E(X^2) - E^2(X) $$</p><p>æ¨å¯¼å¦‚ä¸‹ï¼š</p><p>$$ \begin{aligned}<br>D(X) &amp;= \int_{-\infty}^{+\infty} \left[x-E(X) \right]^2 p(x) \mathrm{d}x \\<br>&amp;= \int_{-\infty}^{+\infty} \left[x^2-2xE(X)+E^2(X) \right] p(x) \mathrm{d}x \\<br>&amp;= \int_{-\infty}^{+\infty}x^2p(x)\mathrm{d}x - 2E(X)\int_{-\infty}^{+\infty}xp(x)\mathrm{d}x + E^2(X)\int_{-\infty}^{+\infty}p(x)\mathrm{d}x \\<br>&amp;= E(X^2) - 2E(X)\cdot E(X) + E^2(X)\cdot 1 \\<br>&amp;= E(X^2) - E^2(X)<br>\end{aligned} $$</p><h4 id="ç¦»æ•£å‹éšæœºå˜é‡çš„æ–¹å·®">ç¦»æ•£å‹éšæœºå˜é‡çš„æ–¹å·®</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾ç¦»æ•£å‹éšæœºå˜é‡çš„æ¦‚ç‡åˆ†å¸ƒä¸º</p><p>$$ P(X=x_k) = P_k \quad (k=1,2,\cdots) $$</p><p>åˆ™ç§°å’Œæ•°</p><p>$$ \sum_k \left[ x_k-E(X) \right]^2 p_k $$</p><p>ä¸º $X$ çš„æ–¹å·®ï¼Œè®°ä½œ $D(X)$ã€‚</p><h4 id="è¿ç»­å‹éšæœºå˜é‡çš„æ–¹å·®">è¿ç»­å‹éšæœºå˜é‡çš„æ–¹å·®</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾è¿ç»­å‹éšæœºå˜é‡çš„å¯†åº¦ä¸º $p(x)$ï¼Œåˆ™ç§°</p><p>$$ \int_{-\infty}^{+\infty} \left[ x-E(X) \right]^2 p(x) \mathrm{d}x $$</p><p>ä¸º $X$ çš„æ–¹å·®ï¼Œè®°ä½œ $D(X)$ã€‚</p><h4 id="å¸¸ç”¨åˆ†å¸ƒçš„æ–¹å·®">å¸¸ç”¨åˆ†å¸ƒçš„æ–¹å·®</h4><ol><li><p>ä¸¤ç‚¹åˆ†å¸ƒ</p><p>$$ \begin{aligned}<br>D(X) &amp;= E(X^2) - E^2(X) \\<br>&amp;= (1^2 \cdot p + 0^2\cdot q) - p^2 \\<br>&amp;= pq<br>\end{aligned} $$</p></li><li><p>äºŒé¡¹åˆ†å¸ƒ<br>$$ D(X) = npq $$</p></li><li><p>æ³Šæ¾åˆ†å¸ƒ<br>å·²çŸ¥ $E(X)=\lambda$ï¼Œ</p><p>$$ \begin{aligned}<br>E(X^2) &amp;= \sum_{k=0}^{\infty} K^2 \cdot \frac{\lambda^k}{k!} e^{-\lambda} \\<br>&amp;= \sum_{k=1}^{\infty} (k-1+1) \frac{\lambda^k}{(k-1)!} e^{-\lambda} \\<br>&amp;= \lambda^2 \cdot \sum_{k=2}^{\infty} \frac{\lambda^{k-2}}{(k-2)!}e^{-\lambda} + \lambda \cdot \sum_{k=1}^{\infty} \frac{\lambda^{k-1}}{(k-1)!}e^{-\lambda} \\<br>&amp;= \lambda^2 + \lambda<br>\end{aligned} $$</p><p>åˆ™</p><p>$$ D(X) = (\lambda^2 + \lambda) - \lambda^2 = \lambda $$</p></li><li><p>å‡åŒ€åˆ†å¸ƒ<br>$$ D(X) = \frac{1}{12}(b-a)^2 $$</p></li><li><p>æŒ‡æ•°åˆ†å¸ƒ<br>$$ D(X) = \frac{1}{\lambda^2} $$</p></li><li><p>æ­£æ€åˆ†å¸ƒ<br>$$ D(X) = \sigma^2 $$</p></li></ol><h4 id="æ–¹å·®çš„ç®€å•æ€§è´¨">æ–¹å·®çš„ç®€å•æ€§è´¨</h4><p>$$ \begin{aligned}<br>DÂ© &amp;= 0 \\<br>D(kX) &amp;= k^2 D(X) \\<br>D(X+b) &amp;= D(X) \\<br>D(kX+b) &amp;= k^2 D(X)<br>\end{aligned} $$</p><h4 id="åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼">åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼</h4><p>$$ P\{ \vert X-E(X) \vert \ge \varepsilon \} \le \frac{D(X)}{\varepsilon^2} $$</p><h2 id="ç¬¬å››ç« -éšæœºå‘é‡">ç¬¬å››ç«  éšæœºå‘é‡</h2><p><strong>å®šä¹‰</strong>ï¼šæˆ‘ä»¬ç§° $n$ ä¸ªéšæœºå˜é‡ $X_1,X_2,\cdots,X_n$ çš„æ•´ä½“ $\xi = (X_1,X_2,\cdots,X_n)$ ä¸º $n$ ç»´éšæœºå‘é‡ã€‚</p><p>æˆ‘ä»¬é‡ç‚¹ç ”ç©¶äºŒç»´éšæœºå‘é‡ã€‚</p><h3 id="äºŒç»´éšæœºå‘é‡çš„è”åˆåˆ†å¸ƒä¸è¾¹ç¼˜åˆ†å¸ƒ">äºŒç»´éšæœºå‘é‡çš„è”åˆåˆ†å¸ƒä¸è¾¹ç¼˜åˆ†å¸ƒ</h3><h4 id="ç¦»æ•£å‹éšæœºå‘é‡çš„æ¦‚ç‡åˆ†å¸ƒ">ç¦»æ•£å‹éšæœºå‘é‡çš„æ¦‚ç‡åˆ†å¸ƒ</h4><p>$\xi = (X,Y)$ ä¸ºäºŒç»´ç¦»æ•£å‹éšæœºå‘é‡ï¼Œå½“ä¸”ä»…å½“ $X,Y$ éƒ½æ˜¯ç¦»æ•£å‹éšæœºå˜é‡ã€‚</p><p>ä¸€èˆ¬ç§°</p><p>$$ P\{(X,Y)=(x_i,y_j)\} = p_{ij} \quad (i=1,2,\cdots ;j=1,2,\cdots) $$</p><p>ä¸º $\xi=(X,Y)$ çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä¹Ÿç§°ä¸º $(X,Y)$ çš„<strong>è”åˆåˆ†å¸ƒ</strong>ã€‚å¸¸é‡‡ç”¨<strong>æ¦‚ç‡åˆ†å¸ƒè¡¨</strong>æ¥è¡¨ç¤ºç¦»æ•£å‹éšæœºå‘é‡çš„æ¦‚ç‡åˆ†å¸ƒã€‚è¿™äº› $p_{ij}$ å…·æœ‰ 2 æ¡åŸºæœ¬æ€§è´¨ï¼š</p><ol><li><p>éè´Ÿï¼š<br>$$ p_{ij} \ge 0 $$</p></li><li><p>æ¦‚ç‡æ€»å’Œä¸º 1ï¼š<br>$$ \sum_i \sum_j p_{ij} = 1 $$</p></li></ol><p><strong>ä¸‰é¡¹åˆ†å¸ƒ</strong>ï¼š</p><p>$$ P\{(X,Y)=(k_1,k_2)\} = \frac{n!}{k_1!k_2!(n-k_1-k_2)!}p_1^{k_1}p_2^{k_2}(1-p_1-p_2)^{n-k_1-k_2} $$</p><h4 id="ç¦»æ•£å‹éšæœºå‘é‡çš„è¾¹ç¼˜åˆ†å¸ƒä¸è”åˆåˆ†å¸ƒ">ç¦»æ•£å‹éšæœºå‘é‡çš„è¾¹ç¼˜åˆ†å¸ƒä¸è”åˆåˆ†å¸ƒ</h4><p><strong>è¾¹ç¼˜åˆ†å¸ƒ</strong>ï¼šå¯¹äºäºŒç»´éšæœºå‘é‡ $(X,Y)$ï¼Œåˆ†é‡ $X$ çš„æ¦‚ç‡åˆ†å¸ƒç§°ä¸º $(X,Y)$ çš„å…³äº $X$ çš„è¾¹ç¼˜åˆ†å¸ƒã€‚</p><p>$$ P\{ X=x_i \} = \sum_j p_{ij} $$ $$ P\{ Y=y_j \} = \sum_i p_{ij} $$</p><p>å¦‚æœå°† $(X,Y)$ çš„æ¦‚ç‡åˆ†å¸ƒå†™åœ¨æ¦‚ç‡åˆ†å¸ƒè¡¨ä¸­ï¼ˆ$i$ ä¸ºè¡Œæ•°ï¼Œ$j$ ä¸ºåˆ—æ•°ï¼‰ï¼Œåˆ™å…³äº $X$ çš„è¾¹ç¼˜åˆ†å¸ƒä¸ºâ€œå°†æ¯è¡ŒåŠ å’Œå¾—åˆ°çš„ä¸€åˆ—â€ï¼›å…³äº $Y$ çš„è¾¹ç¼˜åˆ†å¸ƒä¸ºâ€œå°†æ¯åˆ—åŠ å’Œå¾—åˆ°çš„ä¸€è¡Œâ€ã€‚</p><h4 id="è¿ç»­å‹éšæœºå‘é‡çš„è”åˆåˆ†å¸ƒ">è¿ç»­å‹éšæœºå‘é‡çš„è”åˆåˆ†å¸ƒ</h4><p><strong>æ¦‚å¿µ</strong>ï¼šå¯¹äºäºŒç»´éšæœºå‘é‡ $\xi=(X,Y)$ï¼Œå¦‚æœå­˜åœ¨éè´Ÿå‡½æ•° $p(x,y)\;(x,y \in \mathbb{R})$ï¼Œä½¿å¯¹äºä»»æ„ä¸€ä¸ªé‚»è¾¹åˆ†åˆ«å¹³è¡Œäºåæ ‡è½´çš„çŸ©å½¢åŒºåŸŸ $D$ï¼ˆå³ç”±ä¸ç­‰å¼ $a\lt x\lt b,c\lt y\lt d$ ç¡®å®šçš„åŒºåŸŸï¼‰ï¼Œæœ‰</p><p>$$ P\{ (X,Y) \in D \} = \iint\limits_{D} p(x,y)\mathrm{d}x\mathrm{d}y $$</p><p>åˆ™ç§°éšæœºå‘é‡ $\xi=(X,Y)$ ä¸º<strong>è¿ç»­å‹</strong>çš„ï¼Œå¹¶ç§° $p(x,y)$ ä¸º $\xi$ çš„<strong>åˆ†å¸ƒå¯†åº¦</strong>ï¼Œä¹Ÿç§° $p(x,y)$ ä¸º $(X,Y)$ çš„<strong>è”åˆåˆ†å¸ƒå¯†åº¦</strong>ã€‚</p><p>ç”±å®šä¹‰å¼å®¹æ˜“å¾—åˆ°</p><p>$$ \int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty}p(x,y)\mathrm{d}x\mathrm{d}y = 1 $$</p><blockquote><p>ğŸ’¡ äºŒç»´éšæœºå‘é‡ $(X,Y)$ è½åœ¨å¹³é¢ä¸Šä»»æ„åŒºåŸŸ $D$ çš„æ¦‚ç‡ï¼Œå°±ç­‰äºè”åˆå¯†åº¦ $p(x,y)$ åœ¨ $D$ ä¸Šçš„ç§¯åˆ†ï¼Œè¿™å°±æŠŠæ¦‚ç‡çš„è®¡ç®—è½¬åŒ–ä¸ºä¸€ä¸ªäºŒé‡ç§¯åˆ†çš„è®¡ç®—ã€‚<br>ğŸ’¡ å‡ ä½•æ„ä¹‰ï¼š$\{(X,Y)\in D\}$ çš„æ¦‚ç‡ï¼Œæ•°å€¼ä¸Šå°±ç­‰äºä»¥æ›²é¢ $z=p(x,y)$ ä¸ºé¡¶ã€ä»¥å¹³é¢åŒºåŸŸ $D$ ä¸ºåº•çš„æ›²é¡¶æŸ±ä½“çš„ä½“ç§¯ã€‚</p></blockquote><h4 id="è¿ç»­å‹éšæœºå‘é‡çš„è¾¹ç¼˜åˆ†å¸ƒ">è¿ç»­å‹éšæœºå‘é‡çš„è¾¹ç¼˜åˆ†å¸ƒ</h4><p><strong>å®šä¹‰</strong>ï¼šå¯¹äºéšæœºå‘é‡ $(X,Y)$ï¼Œä½œä¸ºå…¶åˆ†é‡çš„éšæœºå˜é‡ $X$ï¼ˆæˆ– $Y$ï¼‰çš„å¯†åº¦å‡½æ•° $p_X(x)$ï¼ˆæˆ– $p_Y(y)$ï¼‰ï¼Œç§°ä¸º $(X,Y)$ çš„å…³äº $X$ï¼ˆæˆ– $Y$ï¼‰çš„<strong>è¾¹ç¼˜åˆ†å¸ƒå¯†åº¦</strong>ã€‚</p><p>å½“ $(X,Y)$ çš„è”åˆå¯†åº¦ $p(x,y)$ å·²çŸ¥æ—¶ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ±‚å¾—è¾¹ç¼˜å¯†åº¦</p><p>$$ \begin{aligned}<br>p_X(x) &amp;= \int_{-\infty}^{+\infty}p(x,y)\mathrm{d}y \\<br>p_Y(y) &amp;= \int_{-\infty}^{+\infty}p(x,y)\mathrm{d}x<br>\end{aligned} $$</p><h4 id="éšæœºå˜é‡çš„ç‹¬ç«‹æ€§">éšæœºå˜é‡çš„ç‹¬ç«‹æ€§</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾ $X,Y$ æ˜¯ä¸¤ä¸ªéšæœºå˜é‡ï¼Œå¦‚æœå¯¹ä»»æ„çš„ $a\lt b,c\lt d$ï¼Œäº‹ä»¶ $\{a\lt X\lt b\}$ ä¸ $\{c\lt Y\lt d\}$ ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™ç§° $X$ ä¸ $Y$ æ˜¯<strong>ç›¸äº’ç‹¬ç«‹</strong>çš„ã€‚</p><p><strong>é‡è¦å®šç†</strong>ï¼šè®¾ $X,Y$ åˆ†åˆ«æœ‰åˆ†å¸ƒå¯†åº¦ $p_X(x),p_Y(y)$ï¼Œåˆ™ $X$ ä¸ $Y$ ç›¸äº’ç‹¬ç«‹çš„<strong>å……è¦æ¡ä»¶</strong>æ˜¯ï¼šäºŒå…ƒå‡½æ•°</p><p>$$ p_X(x)p_Y(y) $$</p><p>æ˜¯éšæœºå‘é‡ $(X,Y)$ çš„è”åˆå¯†åº¦ã€‚</p><h4 id="äºŒç»´æ­£æ€åˆ†å¸ƒ">äºŒç»´æ­£æ€åˆ†å¸ƒ</h4><p>$$ p(x,y) = \frac{1}{2\pi \sigma_1\sigma_2\sqrt{1-\rho^2}}e^{-\frac{1}{2(1-\rho^2)}\left[\left(\frac{x-\mu_1}{\sigma_1}\right)^2 - \frac{2\rho(x-\mu_1)(y-\mu_2)}{\sigma_1\sigma_2} + \left(\frac{y-\mu_2}{\sigma_2}\right)^2\right]} $$</p><p>ä¸¤ä¸ªè¾¹ç¼˜å¯†åº¦åˆ†åˆ«æ˜¯ä¸¤ä¸ªä¸€ç»´æ­£æ€åˆ†å¸ƒï¼š</p><p>$$ \begin{aligned}<br>P_X(x)=\frac{1}{\sqrt{2\pi}\sigma_1}e^{-\frac{(x-\mu_1)^2}{2\sigma_1^2}} \\<br>P_Y(y)=\frac{1}{\sqrt{2\pi}\sigma_2}e^{-\frac{(y-\mu_2)^2}{2\sigma_2^2}}<br>\end{aligned} $$</p><p>å¯¹äºäºŒç»´æ­£æ€åˆ†å¸ƒï¼Œ<strong>ä¸¤ä¸ªåˆ†é‡ $X$ ä¸ $Y$ ç‹¬ç«‹</strong>çš„å……è¦æ¡ä»¶æ˜¯ $\rho=0$ã€‚</p><h4 id="äºŒç»´éšæœºå‘é‡çš„åˆ†å¸ƒå‡½æ•°">äºŒç»´éšæœºå‘é‡çš„åˆ†å¸ƒå‡½æ•°</h4><p><strong>å®šä¹‰</strong>ï¼šè®¾ $\xi=(X,Y)$ æ˜¯äºŒç»´éšæœºå‘é‡ï¼Œç§°å‡½æ•°</p><p>$$ F(x,y) = P\{ X \le x, Y \le y \} $$</p><p>ä¸ºå®ƒçš„<strong>åˆ†å¸ƒå‡½æ•°</strong>ã€‚</p><p>è‹¥ $\xi=(X,Y)$ çš„åˆ†å¸ƒå‡½æ•°æœ‰äºŒé˜¶è¿ç»­åå¾®å•†ï¼Œåˆ™</p><p>$$ \frac{\partial^2 F(x,y)}{\partial x \partial y} $$</p><p>å°±æ˜¯ $\xi$ çš„<strong>åˆ†å¸ƒå¯†åº¦</strong>ã€‚</p><h3 id="ä¸¤ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ">ä¸¤ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ</h3><table><thead><tr><th>é—®é¢˜</th><th>æè¿°</th><th>æ±‚è§£</th></tr></thead><tbody><tr><td>1 ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ</td><td>å·²çŸ¥ $X$ çš„åˆ†å¸ƒï¼Œæ±‚ $X$ çš„å‡½æ•° $Y=f(X)$ çš„åˆ†å¸ƒ</td><td><strong>åˆ†å¸ƒå‡½æ•°æ³•</strong></td></tr><tr><td>2 ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ</td><td>å·²çŸ¥ $(X,Y)$ çš„è”åˆå¯†åº¦ï¼Œæ±‚ $Z=(X,Y)$ çš„å¯†åº¦å‡½æ•°</td><td><strong>åˆ†å¸ƒå‡½æ•°æ³•</strong></td></tr></tbody></table><p>å¯¹äºä¸¤ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒï¼Œæˆ‘ä»¬åŒæ ·é‡‡ç”¨<strong>åˆ†å¸ƒå‡½æ•°æ³•</strong>æ±‚è§£ï¼ŒåŒ…æ‹¬å¦‚ä¸‹ 2 æ­¥ï¼š</p><ol><li><p>ä¸ºæ±‚éšæœºå˜é‡ $f(X,Y)$ çš„å¯†åº¦ï¼Œå…ˆæ±‚å®ƒçš„åˆ†å¸ƒï¼Œå³<br>$$ P\{f(X,Y) \le z\} $$</p></li><li><p>åœ¨æ±‚ $P\{f(X,Y) \le z\}$ çš„è¿‡ç¨‹ä¸­ï¼Œç”¨åˆ°ä¸‹åˆ—ç­‰å¼<br>$$ P\{f(X,Y) \le z\} = \iint\limits_{f(X,Y)\le z} p(x,y) \mathrm{d}x\mathrm{d}y $$</p></li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼šè®¾ $X,Y$ ç›¸äº’ç‹¬ç«‹ä¸”æœä»ç›¸åŒçš„åˆ†å¸ƒ $N(0,1)$ï¼Œæ±‚ $\sqrt{X^2+Y^2}$ çš„å¯†åº¦ã€‚</p><p><strong>è§£</strong>ï¼š$(X,Y)$ çš„è”åˆå¯†åº¦ä¸º</p><p>$$ \begin{aligned}<br>p(x,y) &amp;= \frac{1}{\sqrt{2\pi}} e^{-\frac{x^2}{2}} \cdot \frac{1}{\sqrt{2\pi}} e^{-\frac{x^2}{2}} \\<br>&amp;= \frac{1}{2\pi} e^{-\frac{x^2+y^2}{2}}<br>\end{aligned} $$</p><p>è®° $Z=\sqrt{X^2+Y^2}$ çš„åˆ†å¸ƒå‡½æ•°ä¸º $F_Z(z)$ï¼Œåˆ™</p><p>$$ \begin{aligned}<br>F_Z(x) &amp;= P\{Z \le z\} \\<br>&amp;= P\{\sqrt{X^2+Y^2} \le z\} \\<br>&amp;= \iint\limits_{\sqrt{x^2+y^2} \le z} p(x,y) \mathrm{d}x\mathrm{d}y \\<br>&amp;= \iint\limits_{\sqrt{x^2+y^2} \le z} \frac{1}{2\pi} e^{-\frac{x^2+y^2}{2}} \mathrm{d}x\mathrm{d}y \\<br>&amp;= \int_0^{2\pi} \mathrm{d}\theta \int_0^z \frac{1}{2\pi} e^{-\frac{1}{2}r^2}r \mathrm{d}r \quad (æåæ ‡å˜æ¢: x=r\cos\theta,y=r\sin\theta) \\<br>&amp;= \int_0^z r e^{-\frac{1}{2} r^2} \mathrm{d}r<br>\end{aligned} $$</p><p>å½“ $z\le 0$ æ—¶ $F_Z(z)=0$ã€‚äºæ˜¯ $Z$ çš„å¯†åº¦ $p(z)$ ä¸º</p><p>$$ p(z) = \begin{cases}<br>z e^{-\frac{1}{2} z^2} &amp; z \gt 0 \\<br>0 &amp; z \le 0<br>\end{cases} $$</p><p>è¿™å°±æ˜¯æ‰€è°“çš„<strong>ç‘åˆ©(Rayleigh)åˆ†å¸ƒ</strong>ã€‚</p><h4 id="éšæœºå˜é‡å‡½æ•°çš„è”åˆå¯†åº¦">éšæœºå˜é‡å‡½æ•°çš„è”åˆå¯†åº¦</h4><p><strong>é—®é¢˜æè¿°</strong>ï¼šå·²çŸ¥ $(X,Y)$ çš„è”åˆå¯†åº¦ä¸º $p(x,y)$ï¼Œè€Œ</p><p>$$ \begin{cases}<br>u = f(x,y) \\<br>v = g(x,y)<br>\end{cases} $$</p><p>å¦‚ä½•æ±‚å‡º $(U,V)$ çš„è”åˆå¯†åº¦ï¼Ÿ</p><p><strong>step1</strong>ï¼šå‡è®¾ $(X,Y)$ çš„è”åˆå¯†åº¦ $p(x,y)$ æ‰€åœ¨çš„å¹³é¢åŒºåŸŸä¸º $A$ï¼ˆå¯ä»¥æ˜¯å…¨å¹³é¢ï¼‰ï¼Œå³ $P\{(X,Y)\in A\}=1$ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° $(U,V)$ çš„è”åˆå¯†åº¦æ‰€åœ¨çš„åŒºåŸŸ $G$ï¼š</p><p>$$ G = \{ (u,v) \mid u=f(x,y),v=g(x,y),(x,y)\in A \} $$</p><p><strong>step2</strong>ï¼š æ ¹æ® $u=f(x,y),v=g(x,y)$ æˆ‘ä»¬ç”¨ $u,v$è¡¨ç¤ºå‡º $x,y$ï¼š</p><p>$$ x = x(u,v), \; y = y(u,v) $$</p><p><strong>step3</strong>ï¼š$(U,V)$ çš„è”åˆå¯†åº¦å¦‚ä¸‹ï¼š</p><p>$$ q(u,v) = \begin{cases}<br>p\left[ x(u,v),y(u,v) \right] \left| \frac{\partial(x,y)}{\partial(u,v)} \right| &amp; å½“(u,v) \in G \\<br>0 &amp; å½“(u,v) \not\in G<br>\end{cases} $$</p><p>å…¶ä¸­ï¼Œ$\left| \frac{\partial(x,y)}{\partial(u,v)} \right|$ æ˜¯å‡½æ•° $x(u,v),y(u,v)$ çš„é›…å¯æ¯”è¡Œåˆ—å¼çš„<strong>ç»å¯¹å€¼</strong>ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šè®¾ $X,Y$ ç›¸äº’ç‹¬ç«‹ï¼Œéƒ½æœä» $N(0,1)$ï¼Œ</p><p>$$ \begin{aligned}<br>X &amp;= R \cos \Theta \\<br>Y &amp;= R \sin \Theta<br>\end{aligned}<br>\left( R \ge 0, \; 0 \le \Theta \le 2\pi \right) $$</p><p>æ±‚ $(R,\Theta)$ çš„è”åˆå¯†åº¦ä¸è¾¹ç¼˜å¯†åº¦ã€‚</p><p><strong>è§£</strong>ï¼šç”±äº $X,Y$ ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™</p><p>$$ p(x,y) = \frac{1}{\sqrt{2\pi}} e^{-\frac{x^2}{2}} \cdot \frac{1}{\sqrt{2\pi}} e^{-\frac{y^2}{2}} = \frac{1}{2\pi} e^{-\frac{x^2+y^2}{2}} $$</p><p>é›…å¯æ¯”è¡Œåˆ—å¼</p><p>$$ J = \left| \frac{\partial(x,y)}{\partial(r,\theta)} \right| = \left| \begin{array}{cc} \cos\theta &amp; -r\sin\theta \\ \sin\theta &amp; r\cos\theta \end{array} \right| = r $$</p><p>åˆ™ $(R,\Theta)$ çš„è”åˆå¯†åº¦ä¸º</p><p>$$ q(r,\theta) = \begin{cases}<br>\frac{1}{2\pi} r e^{-\frac{r^2}{2}} &amp; r \gt 0,\; 0 \lt \theta \lt 2\pi \\<br>0 &amp; å…¶ä»–<br>\end{cases} $$</p><p>å½“ $r \gt 0$ æ—¶ï¼Œ$R$ çš„è¾¹ç¼˜å¯†åº¦ä¸º</p><p>$$ fÂ® = \int_0^{2\pi} q(r,\theta) \mathrm{d}\theta = r e^{-\frac{r^2}{2}} $$</p><p>å½“ $0 \lt \theta \lt 2\pi$ æ—¶ï¼Œ$\Theta$ çš„è¾¹ç¼˜å¯†åº¦ä¸º</p><p>$$ g(\theta) = \int_0^{+\infty} q(r,\theta) \mathrm{d}r = \frac{1}{2\pi} $$</p><p>ç»¼ä¸Šï¼š</p><p>$$ fÂ® = \begin{cases}<br>r e^{-\frac{r^2}{2}} &amp; r \gt 0 \\<br>0 &amp; å…¶ä»–<br>\end{cases} $$</p><p>$$ g(\theta) = \begin{cases}<br>\frac{1}{2\pi} &amp; 0 \lt \theta \lt 2\pi \\<br>0 &amp; å…¶ä»–<br>\end{cases} $$</p><h3 id="éšæœºå‘é‡çš„æ•°å­—ç‰¹å¾">éšæœºå‘é‡çš„æ•°å­—ç‰¹å¾</h3><h4 id="ä¸¤ä¸ªéšæœºå˜é‡çš„å‡å€¼å…¬å¼">ä¸¤ä¸ªéšæœºå˜é‡çš„å‡å€¼å…¬å¼</h4><p>è®¾ $(X,Y)$ çš„è”åˆå¯†åº¦ä¸º $p(x,y)$ï¼Œä»¤ $Z=f(X,Y)$ï¼Œåˆ™æœ‰ï¼š</p><p>$$ E(Z) = E \left[ f(X,Y) \right] = \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} f(x,y)p(x,y) \mathrm{d}x \mathrm{d}y $$</p><p>å¦å¤–ï¼Œä¹Ÿå¯ä»¥æ ¹æ® $Z=f(x,y)$ å…ˆæ±‚å‡º $Z$ çš„å¯†åº¦ $p_Z(z)$ ç„¶åå†æ ¹æ®å•ä¸ªéšæœºå˜é‡çš„å‡å€¼å…¬å¼</p><p>$$ E(Z) = \int_{-\infty}^{+\infty} z p_Z(z) \mathrm{d}z $$</p><p>æ±‚å‡º $Z$ çš„å‡å€¼ã€‚</p><h4 id="ä¸¤ä¸ªéšæœºå‘é‡å‡å€¼å’Œæ–¹å·®çš„æ€§è´¨">ä¸¤ä¸ªéšæœºå‘é‡å‡å€¼å’Œæ–¹å·®çš„æ€§è´¨</h4><p>è®¾ $(X,Y)$ çš„è”åˆå¯†åº¦ä¸º $p(x,y)$ ï¼Œ$X,Y$ çš„è¾¹ç¼˜å¯†åº¦åˆ†åˆ«ä¸º $p_X(x), p_Y(y)$ï¼Œç”±å‰é¢çš„çŸ¥è¯†æˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œéšæœºå˜é‡çš„å‡å€¼å’Œæ–¹å·®æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><p>$$ \begin{aligned}<br>E(X) &amp;= \int_{-\infty}^{+\infty} x p_X(x) \mathrm{d}x \\<br>E(Y) &amp;= \int_{-\infty}^{+\infty} y p_Y(y) \mathrm{d}y \\<br>D(X) &amp;= E \left( \left[ X-E(X) \right]^2 \right) = \int_{-\infty}^{+\infty} \left[ x-E(X) \right]^2 p_X(x) \mathrm{d}x \\<br>D(Y) &amp;= E \left( \left[ Y-E(Y) \right]^2 \right) = \int_{-\infty}^{+\infty} \left[ y-E(Y) \right]^2 p_Y(y) \mathrm{d}y<br>\end{aligned} $$</p><p>å¦ä¸€å¥—ç”±è”åˆå¯†åº¦ $p(x,y)$ ç»™å‡ºçš„è®¡ç®—å…¬å¼ä¸ä¸Šè¿°å…¬å¼å½¢å¼ä¸Šéå¸¸ç›¸è¿‘ï¼Œåªæ˜¯ä¸€é‡ç§¯åˆ†å˜æˆäº†äºŒé‡ç§¯åˆ†ï¼š</p><p>$$ \begin{aligned}<br>E(X) &amp;= \int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty} x p(x,y) \mathrm{d}x\mathrm{d}y \\<br>E(Y) &amp;= \int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty} y p(x,y) \mathrm{d}x\mathrm{d}y \\<br>D(X) &amp;= \int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty} \left[ x-E(X) \right]^2 p(x,y) \mathrm{d}x\mathrm{d}y \\<br>D(Y) &amp;= \int_{-\infty}^{+\infty}\int_{-\infty}^{+\infty} \left[ y-E(Y) \right]^2 p(x,y) \mathrm{d}x\mathrm{d}y<br>\end{aligned} $$</p><p>è¿™å‡ ä¸ªå…¬å¼çš„æˆç«‹å¾ˆå®¹æ˜“è¯æ˜ï¼Œæ­¤å¤„ç•¥å»ã€‚</p><h4 id="ä¸¤ä¸ªéšæœºå˜é‡çš„å’Œçš„å‡å€¼ä¸æ–¹å·®">ä¸¤ä¸ªéšæœºå˜é‡çš„å’Œçš„å‡å€¼ä¸æ–¹å·®</h4><p>$$ E(X+Y) = E(X) + E(Y) \tag{1} $$</p><p>$$ D(X+Y) = D(X) + D(Y) + 2E \left( \left[X-E(X)\right] \left[Y-E(Y)\right]  \right) \tag{2} $$</p><p>å½“ $X,Y$ ç‹¬ç«‹æ—¶ï¼Œæœ‰</p><p>$$ E(X \cdot Y) = E(X) \cdot E(Y) \tag{3} $$</p><p>$$ D(X+Y) = D(X) + D(Y) \tag{4} $$</p><p>å¼ $(1)$ å®¹æ˜“è¯æ˜ï¼Œç•¥å»ã€‚</p><p>è¯æ˜ $(2)$ å¼ï¼š</p><p>$$ \begin{aligned}<br>D(X+Y) &amp;= E \left( \left[ (X+Y)-E(X+Y) \right]^2 \right) \\<br>&amp;= E \left( \left[ \left[X-E(X)\right] + \left[Y-E(Y)\right] \right]^2 \right) \\<br>&amp;= E \left( \left[X-E(X)\right]^2 + \left[Y-E(Y)\right]^2 + 2\left[X-E(X)\right]\left[Y-E(Y)\right] \right) \\<br>&amp;= E \left( \left[X-E(X)\right]^2 \right) + E \left( \left[Y-E(Y)\right]^2 \right) + E \left( 2\left[X-E(X)\right]\left[Y-E(Y)\right] \right) \\<br>&amp;= D(X) + D(Y) + 2E \left( \left[X-E(X)\right] \left[Y-E(Y)\right]  \right)<br>\end{aligned} $$</p><p>è¯æ˜ $(3)$ å¼ï¼š</p><p>$$ \begin{aligned}<br>E(X \cdot Y) &amp;= \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} xy p(x,y) \mathrm{d}x \mathrm{d}y \\<br>&amp;= \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} xy p_X(x) p_Y(y) \mathrm{d}x \mathrm{d}y \quad (ç”±äºX,Yç›¸äº’ç‹¬ç«‹) \\<br>&amp;= \int_{-\infty}^{+\infty} x p_X(x) \mathrm{d}x \int_{-\infty}^{+\infty} y p_Y(y) \mathrm{d}y \\<br>&amp;= E(X) \cdot E(Y)<br>\end{aligned} $$</p><p>è¯æ˜ $(4)$ å¼ï¼š</p><p>$$ \begin{aligned}<br>&amp; E \left\{ \left[ X - E(X) \right] \left[ Y - E(Y) \right] \right\} \\<br>&amp;= E \left\{ XY - X E(Y) - Y E(X) + E(X)E(Y) \right\} \\<br>&amp;= E(XY) - E(X)E(Y) - E(X)E(Y) + E(X)E(Y) \\<br>&amp;= E(XY) - E(X)E(Y) = 0<br>\end{aligned} $$</p><h4 id="éšæœºå‘é‡çš„å‡å€¼å’Œåæ–¹å·®">éšæœºå‘é‡çš„å‡å€¼å’Œåæ–¹å·®</h4><p>ç§°å‘é‡ $(E(X),E(Y))$ ä¸ºéšæœºå‘é‡ $(X,Y)$ çš„å‡å€¼ï¼Œç§°æ•°å€¼ $E \left\{ \left[ X- E(X) \right] \left[ Y - E(Y) \right] \right\}$ ä¸º $X,Y$ çš„<strong>åæ–¹å·®</strong>ã€‚</p><p>åæ–¹å·®ï¼ˆæ–œæ–¹å·®ï¼‰æ˜¯äºŒç»´éšæœºå‘é‡ $(X,Y)$ çš„é‡è¦æ•°å­—ç‰¹å¾ï¼Œå®ƒåˆ»ç”»äº† $X,Y$ å–å€¼é—´çš„ç›¸äº’è”ç³»ï¼Œé€šå¸¸é‡‡ç”¨è®°å·ï¼š</p><p>$$ cov(X,Y) \overset{\mathrm{def}}{=} E \left\{ \left[ X- E(X) \right] \left[ Y - E(Y) \right] \right\} $$</p><p>æˆ–</p><p>$$ \sigma_{XY} \overset{\mathrm{def}}{=} E \left\{ \left[ X- E(X) \right] \left[ Y - E(Y) \right] \right\} $$</p><p>ç”±å‰é¢çš„è®¨è®ºå¯çŸ¥ï¼š</p><p>$$ \begin{aligned}<br>\sigma_{XY} &amp;= cov(X,Y) \\<br>&amp;= \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} \left[ X- E(X) \right] \left[ Y - E(Y) \right] p(x,y) \mathrm{d}x \mathrm{d}y<br>\end{aligned} $$</p><p>å½“ $X,Y$ ç›¸äº’ç‹¬ç«‹æ—¶ï¼Œåæ–¹å·® $\sigma_{XY} = 0$ã€‚éšæœºå˜é‡ç‹¬ç«‹æ˜¯åæ–¹å·®ä¸º0çš„<strong>å……åˆ†ä¸å¿…è¦æ¡ä»¶</strong>ã€‚</p><p>ä¸è®°å· $\sigma_{XY}$ ç›¸å¯¹åº”ï¼Œ$D(X),D(Y)$ ä¹Ÿå¯åˆ†åˆ«è®°ä¸º $\sigma_{XX},\sigma_{YY}$ã€‚</p><h4 id="éšæœºå‘é‡çš„ç›¸å…³ç³»æ•°">éšæœºå‘é‡çš„ç›¸å…³ç³»æ•°</h4><p><strong>å®šä¹‰</strong>ï¼šç§°</p><p>$$ \rho_{XY} = \frac{\sigma_{XY}}{\sqrt{\sigma_{XX}}\sqrt{\sigma_{YY}}} $$</p><p>ä¸º $X,Y$ çš„<strong>ç›¸å…³ç³»æ•°</strong>ï¼Œåœ¨ä¸å¼•èµ·æ··æ·†çš„æƒ…å†µä¸‹ï¼Œç®€è®°ä¸º $\rho$ã€‚</p><p>äº‹å®ä¸Šï¼ŒäºŒç»´æ­£æ€åˆ†å¸ƒä¸­çš„ç¬¬äº”ä¸ªå‚æ•° $\rho$ å°±æ˜¯ $\rho_{XY}$ã€‚</p><p>ç›¸å…³ç³»æ•°æ»¡è¶³ä»¥ä¸‹æ€§è´¨ï¼š</p><p>$$ \left| \rho \right| \le 1 $$</p><blockquote><p>ğŸ’¡ ç›¸å…³ç³»æ•° $\rho$ çš„å®é™…æ„ä¹‰æ˜¯ï¼šå®ƒåˆ»ç”»äº† $X,Y$ ä¹‹é—´çš„çº¿æ€§å…³ç³»çš„è¿‘ä¼¼ç¨‹åº¦ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œ$\left| \rho \right|$ è¶Šæ¥è¿‘ 1ï¼Œ$X$ ä¸ $Y$ è¶Šæ¥è¿‘åœ°æœ‰çº¿æ€§å…³ç³»ã€‚<br>è¦æ³¨æ„çš„æ˜¯ï¼Œ$\rho$ åªåˆ»ç”» $X$ ä¸ $Y$ ä¹‹é—´çš„çº¿æ€§å…³ç³»ï¼Œå½“ $X,Y$ ä¹‹é—´æœ‰å¾ˆå¯†åˆ‡çš„æ›²çº¿å…³ç³»æ—¶ï¼Œ$\left| \rho \right|$ çš„æ•°å€¼å¯èƒ½æ¥è¿‘ 1ï¼Œä¹Ÿå¯èƒ½æ¥è¿‘ 0ã€‚</p></blockquote><h3 id="å¤šç»´éšæœºå‘é‡">å¤šç»´éšæœºå‘é‡</h3><p>å¯¹äºä¸€èˆ¬çš„ $n$ ç»´éšæœºå‘é‡ï¼Œå¯ä»¿ç…§äºŒç»´éšæœºå‘é‡çš„æƒ…å½¢è¿›è¡Œè®¨è®ºã€‚</p><h4 id="è”åˆå¯†åº¦ä¸è¾¹ç¼˜å¯†åº¦">è”åˆå¯†åº¦ä¸è¾¹ç¼˜å¯†åº¦</h4><p>å¯¹äº $n$ ç»´éšæœºå‘é‡ $\xi = ( X_1,X_2,\cdots,X_n )$ ï¼Œå¦‚æœå­˜åœ¨éè´Ÿå‡½æ•° $p(x_1,x_2,\cdots,x_n)$ ï¼Œä½¿å¯¹äºä»»æ„ $n$ ç»´é•¿æ–¹ä½“ $D = \left\{ (x_1,x_2,\cdots,x_n) \mid a_1 \lt x_1 \lt b_1,a_2 \lt x_2 \lt b_2,\cdots,a_n \lt x_n \lt b_n \right\}$ å‡æœ‰ï¼š</p><p>$$ P \left\{ \xi \in D \right\} = \iint\limits_{D}\cdots \int p(x_1,x_2,\cdots,x_n) \mathrm{d}x_1 \mathrm{d}x_2 \cdots \mathrm{d}x_n $$</p><p>åˆ™ç§° $\xi = (X_1,X_2,\cdots,X_n)$ æ˜¯è¿ç»­å‹çš„ï¼Œå¹¶ç§° $p(x_1,x_2,\cdots,x_n)$ ä¸º $(X_1,X_2,\cdots,X_n)$ çš„è”åˆå¯†åº¦ã€‚</p><p>ç§° $(X_1,X_2,\cdots,X_n)$ çš„ä¸€éƒ¨åˆ†åˆ†é‡æ„æˆçš„å‘é‡â€”â€”å¦‚ $(X_1,X_2)$ çš„åˆ†å¸ƒå¯†åº¦ä¸ºè¾¹ç¼˜å¯†åº¦ã€‚ç‰¹åˆ«åœ°ï¼Œæ¯ä¸ªåˆ†é‡ $X_i$çš„åˆ†å¸ƒå¯†åº¦ $p_i(x_i)$ å½“ç„¶ä¹Ÿæ˜¯è¾¹ç¼˜å¯†åº¦ï¼Œç§°å®ƒä»¬ä¸º<strong>å•ä¸ªå¯†åº¦</strong>ã€‚</p><p>$X_1$ çš„å•ä¸ªå¯†åº¦å¯å¦‚ä¸‹æ±‚å¾—ï¼š</p><p>$$ p_1(x_1) = \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} \cdots \int_{-\infty}^{+\infty} p(x_1,x_2,\cdots,x_n)\mathrm{d}x_2 \mathrm{d}x_3 \cdots \mathrm{d}x_n $$</p><p>$(X_1,X_2)$ çš„è¾¹ç¼˜å¯†åº¦å¯å¦‚ä¸‹æ±‚å¾—ï¼š</p><p>$$ p_{12}(x_1,x_2) = \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} \cdots \int_{-\infty}^{+\infty} p(x_1,x_2,\cdots,x_n)\mathrm{d}x_3 \mathrm{d}x_4 \cdots \mathrm{d}x_n $$</p><h4 id="ç‹¬ç«‹æ€§">ç‹¬ç«‹æ€§</h4><p>è®¾ $X_1,X_2,\cdots,X_n$ æ˜¯ $n$ ä¸ªéšæœºå˜é‡ï¼Œå¦‚æœå¯¹ä»»æ„çš„ $a_i \lt b_i(i=1,2,\cdots,n)$ ï¼Œäº‹ä»¶ $\left\{ a_1 \lt X_1 \lt b_1 \right\}, \left\{ a_2 \lt X_2 \lt b_2 \right\}, \cdots, \left\{ a_n \lt X_n \lt b_n \right\}$ ç›¸äº’ç‹¬ç«‹ï¼Œåˆ™ç§° $X_1,X_2,\cdots,X_n$ æ˜¯<strong>ç›¸äº’ç‹¬ç«‹</strong>çš„</p><p><strong>å®šç†</strong>ï¼šè®¾ $X_1,X_2,\cdots,X_n$ çš„åˆ†å¸ƒå¯†åº¦åˆ†åˆ«æ˜¯ $p_1(x_1),p_2(x_2),\cdots,p_n(x_n)$ ï¼Œåˆ™ $X_1,X_2,\cdots,X_n$ ç›¸äº’ç‹¬ç«‹çš„<strong>å……è¦æ¡ä»¶</strong>æ˜¯ï¼š$n$ å…ƒå‡½æ•°</p><p>$$ p_1(x_1)p_2(x_2)\cdots p_n(x_n) $$</p><p>æ˜¯ $(X_1,X_2,\cdots,X_n)$ çš„è”åˆå¯†åº¦ã€‚</p><h4 id="n-ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ">$n$ ä¸ªéšæœºå˜é‡çš„å‡½æ•°çš„åˆ†å¸ƒ</h4><p>ä»ç„¶é‡‡ç”¨<strong>åˆ†å¸ƒå‡½æ•°æ³•</strong>ã€‚è®¾ $Z = f(X_1,X_2,\cdots,X_n)$ ï¼Œåˆ™ $Z$ çš„åˆ†å¸ƒä¸ºï¼š</p><p>$$ \begin{aligned}<br>F_Z(z) &amp;= P \left\{ f(X_1,X_2,\cdots,X_n) \le z \right\} \\<br>&amp;= \iiint\limits_{f(x_1,x_2,\cdots,x_n) \lt z} p(x_1,x_2,\cdots,x_n) \mathrm{d}x_1 \mathrm{d}x_2 \cdots \mathrm{d}x_n<br>\end{aligned} $$</p><p>$Z$ çš„åˆ†å¸ƒå‡½æ•° $F_Z(z)$ å¯¹ $z$ æ±‚å¾®åˆ†å¯ä»¥è¿›ä¸€æ­¥æ±‚å‡º $Z$ çš„å¯†åº¦å‡½æ•° $p_Z(z)$ã€‚</p><h4 id="æ•°å­—ç‰¹å¾">æ•°å­—ç‰¹å¾</h4><h5 id="å‡å€¼å…¬å¼">å‡å€¼å…¬å¼</h5><p>$$ E \left[ f(X_1,X_2,\cdots,X_n) \right] = \int_{-\infty}^{+\infty} \int_{-\infty}^{+\infty} \cdots \int_{-\infty}^{+\infty} f(x_1,x_2,\cdots,x_n) p(x_1,x_2,\cdots,x_n) \mathrm{d}x_1 \mathrm{d}x_2 \cdots \mathrm{d}x_n $$</p><p>å…¶ä¸­ $p(x_1,x_2,\cdots,x_n)$ æ˜¯ $(X_1,X_2,\cdots,X_n)$ çš„è”åˆå¯†åº¦ã€‚æœ¬å…¬å¼è¦æ±‚å³ç«¯çš„ç§¯åˆ†ç»å¯¹æ”¶æ•›ã€‚</p><h5 id="å‡å€¼ä¸æ–¹å·®çš„æ€§è´¨">å‡å€¼ä¸æ–¹å·®çš„æ€§è´¨</h5><p>$$ E(X_1+X_2+\cdots+X_n) = E(X_1) + E(X_2) + \cdots + E(X_n) $$</p><p>å½“ $X_1,X_2,\cdots,X_n$ ç›¸äº’ç‹¬ç«‹æ—¶ï¼Œæœ‰ï¼š</p><p>$$ \begin{aligned}<br>E(X_1 X_2 \cdots X_n) &amp;= E(X_1) E(X_2) E(X_n) \\<br>D(X_1+X_2+\cdots+x_n) &amp;= D(X_1) + D(X_2) + \cdots + D(X_n)<br>\end{aligned} $$</p><h5 id="åæ–¹å·®ä¸åå·®é˜µ">åæ–¹å·®ä¸åå·®é˜µ</h5><p>å¯¹äº $i \neq j$ ï¼Œ$\sigma_{ij}$ æ˜¯ç¬¬ $i$ ä¸ªåˆ†é‡ $X_i$ ä¸ç¬¬ $j$ ä¸ªåˆ†é‡ $X_j$ çš„åæ–¹å·®ï¼›è€Œ $\sigma_{ii}$ æ˜¯ç¬¬ $i$ ä¸ªåˆ†é‡ $X_i$ çš„æ–¹å·®ã€‚ç§°çŸ©é˜µï¼š</p><p>$$ \begin{bmatrix}<br>\sigma_{11} &amp; \sigma_{12} &amp; \cdots &amp; \sigma_{1n} \\<br>\sigma_{21} &amp; \sigma_{22} &amp; \cdots &amp; \sigma_{2n} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\sigma_{n1} &amp; \sigma_{n2} &amp; \cdots &amp; \sigma_{nn} \\<br>\end{bmatrix} $$</p><p>ä¸º $(X_1,X_2,\cdots,X_n)$ çš„åå·®é˜µï¼Œè®°ä¸º $\mathbf{\Sigma}$ã€‚$\mathbf{\Sigma}$ æ˜¾ç„¶æ˜¯å¯¹ç§°çŸ©é˜µï¼Œä¸”å¯ä»¥éªŒè¯ $\mathbf{\Sigma}$ æ˜¯éè´Ÿå®šçš„ã€‚</p><h5 id="ç›¸å…³ç³»æ•°ä¸ç›¸å…³é˜µ">ç›¸å…³ç³»æ•°ä¸ç›¸å…³é˜µ</h5><p>$$ \rho_{ij} = \frac{\sigma_{ij}}{\sqrt{\sigma_{ii}}\sqrt{\sigma_{jj}}} \quad (i=1,2,\cdots,n; \; j=1,2,\cdots,n) $$</p><p>å¯¹äº $i \neq j$ ï¼Œ$\rho_{ij}$ æ˜¯ $X_i,X_j$ çš„ç›¸å…³ç³»æ•°ã€‚åŒæ—¶æœ‰ $\rho_{ii}=1$ã€‚ç§°çŸ©é˜µ</p><p>$$ \begin{bmatrix}<br>\rho_{11} &amp; \rho_{12} &amp; \cdots &amp; \rho_{1n} \\<br>\rho_{21} &amp; \rho_{22} &amp; \cdots &amp; \rho_{2n} \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>\rho_{n1} &amp; \rho_{n2} &amp; \cdots &amp; \rho_{nn} \\<br>\end{bmatrix} $$</p><p>ä¸º $(X_1,X_2,\cdots,X_n)$ çš„ç›¸å…³é˜µï¼Œè®°ä¸º $\mathbf{R}$ã€‚æ˜¾ç„¶ï¼Œ$\mathbf{R}$ æ˜¯å¯¹ç§°çŸ©é˜µã€‚</p><h5 id="n-ç»´åˆ†å¸ƒå‡½æ•°">$n$ ç»´åˆ†å¸ƒå‡½æ•°</h5><p><strong>å®šä¹‰</strong>ï¼šè®¾ $\xi = (X_1,X_2,\cdots,X_n)$ æ˜¯ $n$ ç»´éšæœºå‘é‡ï¼Œç§° $n$ ç»´å‡½æ•° $F(x_1,x_2,\cdots,x_n)=P \left\{ X_1\le x_1,X_2\le x_2,\cdots,X_n\le x_n \right\}$ ä¸º $\xi$ çš„<strong>åˆ†å¸ƒå‡½æ•°</strong>ã€‚</p><p>å¦‚æœ $\xi$ çš„åˆ†å¸ƒå¯†åº¦ä¸º $p(x_1,x_2,\cdots,x_n)$ ï¼Œåˆ™æœ‰ï¼š</p><p>$$ F(x_1,x_2,\cdots,x_n) = \int_{-\infty}^{x_1} \int_{-\infty}^{x_2} \cdots \int_{-\infty}^{x_n} p(u_1,u_2,\cdots,u_n) \mathrm{d}u_1 \mathrm{d}u_2 \cdots \mathrm{d}u_n $$</p><h3 id="å¤§æ•°å®šå¾‹å’Œä¸­å¿ƒæé™å®šç†">å¤§æ•°å®šå¾‹å’Œä¸­å¿ƒæé™å®šç†</h3><h4 id="å¤§æ•°å®šå¾‹">å¤§æ•°å®šå¾‹</h4><p>è®¾ $X_1,X_2,\cdots,X_n,\cdots$ æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„éšæœºå˜é‡åˆ—ï¼Œä¸” $E(X_1),D(X_1)$ å­˜åœ¨ï¼Œåˆ™å¯¹ä»»æ„çš„ $\varepsilon \gt 0$ï¼Œæœ‰ï¼š</p><p>$$ \lim_{n \to \infty}P \left\{ \left| \frac{S_n}{n} - E(X_1) \right| \ge \varepsilon \right\} = 0 $$</p><p>è¿™è¯´æ˜ï¼Œ<strong>åªè¦ $n$ è¶³å¤Ÿå¤§ï¼Œç®—æœ¯å¹³å‡å€¼ $\frac{1}{n} (X_1+X_2+\cdots+X_n)$ å°†æ— é™æ¥è¿‘äºæœŸæœ›</strong>ã€‚è¿™æ˜¯æ•´ä¸ªæ¦‚ç‡è®ºæ‰€åŸºäºçš„åŸºæœ¬å®šç†ã€‚</p><h4 id="å¼ºå¤§æ•°å®šå¾‹">å¼ºå¤§æ•°å®šå¾‹</h4><p>ç»è¿‡ç»†è‡´çš„ç ”ç©¶å‘ç°ï¼Œåªè¦ $E(X_1)$ å­˜åœ¨ï¼Œä¸ç®¡ $D(X_1)$ æ˜¯å¦å­˜åœ¨ï¼Œå¤§æ•°å®šå¾‹ä¾ç„¶æˆç«‹ï¼Œè€Œä¸”å¯ä»¥å¾—åˆ°æ›´å¼ºçš„ç»“è®ºï¼š</p><p>$$ P \left\{ \lim_{n\to\infty} \frac{S_n}{n} =E(X_1) \right\} = 1 $$</p><p>å°†è¯¥å¼ç§°ä¸ºå¼ºå¤§æ•°å®šå¾‹ã€‚</p><h4 id="ä¸­å¿ƒæé™å®šç†">ä¸­å¿ƒæé™å®šç†</h4><p>è®¾ $X_1,X_2,\cdots,X_n,\cdots$ æ˜¯ç‹¬ç«‹åŒåˆ†å¸ƒçš„éšæœºå˜é‡åˆ—ï¼Œä¸” $E(X_1),D(X_1)$ å­˜åœ¨ï¼Œ$D(X_1) \neq 1$ï¼Œåˆ™å¯¹ä¸€åˆ‡å®æ•° $a \lt b$ï¼Œæœ‰ï¼š</p><p>$$ \lim_{n\to\infty}P \left\{ a \lt \frac{S_n-n E(X_1)}{\sqrt{n D(X_1)}} \lt b \right\} = \int_{a}^{b} \frac{1}{\sqrt{2\pi}} e^{-\frac{u^2}{2}} \mathrm{d}u $$</p><p>è¿™é‡Œï¼Œ$S_n = X_1+X_2+\cdots+X_n$</p><p>å¦‚æœè®° $\overline{X} = \frac{1}{n}(X_1+X_2+\cdots+X_n)$ï¼Œä¸Šå¼ä¹Ÿå¯å†™æˆï¼š</p><p>$$ \lim_{n\to\infty} P \left\{ a \lt \frac{\overline{X}-E(X_1)}{\sqrt{D(X_1)/n}} \lt b \right\} = \int_{a}^{b} \frac{1}{\sqrt{2\pi}} e^{-\frac{u^2}{2}} \mathrm{d}u $$</p><p>è¿™è¡¨æ˜ï¼Œåªè¦ $n$ è¶³å¤Ÿå¤§ï¼Œéšæœºå˜é‡ $\frac{\overline{X}-E(X_1)}{\sqrt{D(X_1)/n}}$ å°±è¿‘ä¼¼åœ°æœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒï¼Œä»è€Œ $\overline{X}$ è¿‘ä¼¼åœ°æœä»æ­£æ€åˆ†å¸ƒã€‚æ•…<strong>ä¸­å¿ƒæé™å®šç†è¡¨è¾¾äº†æ­£æ€åˆ†å¸ƒåœ¨æ¦‚ç‡è®ºä¸­çš„ç‰¹æ®Šåœ°ä½</strong>ï¼Œå°½ç®¡ $X_1$ çš„åˆ†å¸ƒæ˜¯ä»»æ„çš„ï¼Œä½†åªè¦ $n$ å……åˆ†å¤§ï¼Œç®—æ•°å¹³å‡å€¼ $\overline{X}$ çš„åˆ†å¸ƒå´æ˜¯è¿‘ä¼¼æ­£æ€çš„ã€‚</p><h2 id="ç¬¬äº”ç« -ç»Ÿè®¡ä¼°å€¼">ç¬¬äº”ç«  ç»Ÿè®¡ä¼°å€¼</h2><h3 id="æ€»ä½“ä¸æ ·æœ¬">æ€»ä½“ä¸æ ·æœ¬</h3><p><strong>æ ·æœ¬å®šä¹‰</strong>ï¼šç§°éšæœºå˜é‡ $X_1,X_2,\cdots,X_n$ ä¸ºæ¥è‡ªæ€»ä½“ $X$ çš„å®¹é‡ä¸º $n$ çš„æ ·æœ¬ï¼Œå¦‚æœ $X_1,X_2,\cdots,X_n$ <strong>ç›¸äº’ç‹¬ç«‹</strong>ï¼Œè€Œä¸”æ¯ä¸ª $X_i$ ä¸ $X$ æœ‰ç›¸åŒçš„æ¦‚ç‡åˆ†å¸ƒã€‚è¿™æ—¶ï¼Œè‹¥ $X$ æœ‰åˆ†å¸ƒå¯†åº¦ $p(x)$ ï¼Œåˆ™å¸¸ç®€ç§° $X_1,X_2,\cdots,X_n$ æ˜¯æ¥è‡ªæ€»ä½“ $p(x)$ çš„æ ·æœ¬ã€‚</p><p><strong>å®šç†</strong>ï¼šè‹¥ $X_1,X_2,\cdots,X_n$ æ˜¯æ¥è‡ªæ€»ä½“çš„ $p(x)$ çš„æ ·æœ¬ï¼Œåˆ™ $(X_1,X_2,\cdots,X_n)$ æœ‰è”åˆå¯†åº¦ $p(x_1)p(x_2)\cdots p(x_n)$ ã€‚</p><h3 id="åˆ†å¸ƒå‡½æ•°ä¸åˆ†å¸ƒå¯†åº¦çš„ä¼°è®¡">åˆ†å¸ƒå‡½æ•°ä¸åˆ†å¸ƒå¯†åº¦çš„ä¼°è®¡</h3><h4 id="ç»éªŒåˆ†å¸ƒå‡½æ•°">ç»éªŒåˆ†å¸ƒå‡½æ•°</h4><p>è®¾ $X$ æ˜¯ä¸€ä¸ªéšæœºå˜é‡ï¼Œå…·æœ‰ä¸€ç³»åˆ—æ ·æœ¬å€¼ $x_1,x_2,\cdots,x_n$ ï¼Œç§°å‡½æ•°</p><p>$$ F_n(x) = \frac{v_n}{n} $$</p><p>ä¸º $X$ çš„ç»éªŒåˆ†å¸ƒå‡½æ•°ã€‚å…¶ä¸­ï¼Œ$v_n$ ä¸º $x_1,x_2,\cdots,x_n$ ä¸­ä¸è¶…è¿‡ $x$ çš„ä¸ªæ•°ã€‚</p><h4 id="ç»éªŒåˆ†å¸ƒå¯†åº¦">ç»éªŒåˆ†å¸ƒå¯†åº¦</h4><p>ç»éªŒåˆ†å¸ƒå¯†åº¦å¯é‡‡ç”¨ç»éªŒåˆ†å¸ƒå‡½æ•°è¿›è¡Œä¼°è®¡ã€‚</p><p>å½“ $h$ è¶³å¤Ÿå°æ—¶ï¼Œæ˜“çŸ¥</p><p>$$ p(x)=\frac{F(x+h)-F(x-h)}{2h} $$</p><p>å¯¹åº”åœ°ï¼Œå¯ä»¥å¾—åˆ°ï¼š</p><p>$$ \hat{p_n}(x)=\frac{F_n(x+h)-F_n(x-h)}{2h} $$</p><p>å…·ä½“æ–¹æ³•åŒ…æ‹¬ï¼š</p><h5 id="1-ç›´æ–¹å›¾æ³•">(1) ç›´æ–¹å›¾æ³•</h5><p>ä½œç›´æ–¹å›¾ï¼Œå½“åˆ†ç»„æ•°è¶³å¤Ÿå¤§ï¼Œåˆ†ç»„é—´è·è¶³å¤Ÿå°æ—¶ï¼Œæ‰€æœ‰å°çŸ©å½¢é¡¶ç«¯çš„è¿çº¿è¿‘ä¼¼åˆ»ç”»äº†åˆ†å¸ƒå¯†åº¦å‡½æ•°</p><h5 id="2-æ ¸ä¼°è®¡æ³•">(2) æ ¸ä¼°è®¡æ³•</h5><p><strong>æ ¸å‡½æ•°å®šä¹‰</strong>ï¼šè®¾ $K(x)$ æ˜¯éè´Ÿå‡½æ•°ä¸” $\int_{-\infty}^{+\infty}K(x)\mathrm{d}x = 1$ ï¼Œåˆ™ç§° $K(x)$ æ˜¯æ ¸å‡½æ•°ã€‚æ ¸å‡½æ•°æœ‰å¾ˆå¤§çš„é€‰æ‹©è‡ªç”±ï¼Œä¾‹å¦‚ï¼š</p><p>$$ K_0(x) = \begin{cases}<br>1/2 \quad &amp; -1\le x\lt 1 \\<br>0 \quad &amp; \text{å…¶ä»–}<br>\end{cases} $$</p><p>$$ K_1(x) = \begin{cases}<br>1 \quad &amp; -1/2 \le x \lt 1/2 \\<br>0 \quad &amp; \text{å…¶ä»–}<br>\end{cases} $$</p><p>$$ K_2(x) = \frac{1}{\sqrt{2\pi}}e^{-x^2/2} $$</p><p>$$ K_3(x) = \frac{1}{\pi(1+x^2)} $$</p><p>$$ K_4(x) = \frac{1}{2\pi}\left( \frac{\sin(x/2)}{x/2} \right)^2 $$</p><p><strong>æ ¸ä¼°è®¡</strong>ï¼šç§°å‡½æ•°</p><p>$$ \hat{p_n}(x) = \frac{1}{nh}\sum_{i=1}^{n}K \left( \frac{x-x_i}{h} \right) $$</p><p>ä¸º $p(x)$ çš„æ ¸ä¼°è®¡ã€‚å…¶ä¸­ï¼Œ$h$ ä¸ºä¸€ä¸ªè¾ƒå°çš„å¸¸æ•°ï¼ˆå‚è€ƒç›´æ–¹å›¾æ³•ä¸­çš„åˆ†ç»„å®½åº¦ï¼‰ï¼Œ$x_i$ ä¸ºæ ·æœ¬å€¼ã€‚</p><blockquote><p>å¯ä»¥è¿™æ ·ç†è§£æ ¸ä¼°è®¡ä¸­æ ¸å‡½æ•° $K \left( \frac{x-x_i}{h} \right)$ çš„ä½œç”¨ï¼š<br>éšæœºå˜é‡ $X$ åœ¨ $x$ å¤„çš„æ¦‚ç‡ç”±æ ¸å‡½æ•°ç¡®å®šï¼Œæ ¸å‡½æ•°å°†æ•£è½åœ¨ $x$ é™„è¿‘ä¸€å®šèŒƒå›´å†…ï¼ˆè‹¥å¹²å•ä½ä¸ª $h$ å€¼ï¼‰çš„æ‰€æœ‰æ ·æœ¬ç‚¹ $x_i$ ä½œä¸º $P\{X=x\}$ çš„ä¸€éƒ¨åˆ†æƒé‡ã€‚è€Œ $\displaystyle \sum_{i=1}^{n}K \left( \frac{x-x_i}{h} \right)$ å³ä¸ºæ‰€æœ‰æ ·æœ¬ç‚¹å¯¹ $P\{X=x\}$ è´¡çŒ®æƒé‡çš„æ€»å’Œã€‚</p></blockquote><h5 id="3-æœ€è¿‘é‚»ä¼°è®¡æ³•">(3) æœ€è¿‘é‚»ä¼°è®¡æ³•</h5><h3 id="æœ€å¤§ä¼¼ç„¶ä¼°è®¡">æœ€å¤§ä¼¼ç„¶ä¼°è®¡</h3><p><strong>é€‚ç”¨æƒ…å†µ</strong>ï¼šå·²çŸ¥éšæœºå˜é‡çš„åˆ†å¸ƒç±»å‹ï¼Œä½†ä¸çŸ¥é“å‚æ•°çš„å€¼ï¼Œåœ¨æ­¤ç§æƒ…å†µä¸‹è¦å¾—åˆ°åˆ†å¸ƒå¯†åº¦å¯é‡‡ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ³•ã€‚</p><p>ä¾‹å¦‚ï¼šå·²çŸ¥éšæœºå˜é‡ $X$ æ»¡è¶³æ­£æ€åˆ†å¸ƒï¼Œä½†ä¸çŸ¥é“ $\mu,\sigma^2$ çš„å€¼ï¼Œæ­¤æ—¶å¯é‡‡ç”¨æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ³•ã€‚</p><p><strong>ä¼¼ç„¶å‡½æ•°</strong>ï¼šå‡è®¾å·²çŸ¥éšæœºå˜é‡ $X$ çš„åˆ†å¸ƒå¯†åº¦ä¸º $p(x;\theta_1,\theta_2,\cdots,\theta_m)$ ï¼Œä½†ä¸çŸ¥é“å…¶ä¸­çš„å‚æ•° $\theta_1,\theta_2,\cdots,\theta_m$ ï¼Œç°ç»™å®šæ ·æœ¬å€¼ $x_1,x_2,\cdots,x_n$ ï¼Œç§°å‡½æ•°</p><p>$$ L_n(x_1,x_2,\cdots,x_n;\theta_1,\theta_2,\cdots,\theta_m)=\prod_{i=1}^{n}p(x_i;\theta_1,\theta_2,\cdots,\theta_m)$$</p><p>ä¸ºæ ·æœ¬ $x_1,x_2,\cdots,x_n$ çš„ä¼¼ç„¶å‡½æ•°ã€‚</p><p><strong>æœ€å¤§ä¼¼ç„¶ä¼°è®¡</strong>ï¼šå¦‚æœ $L_n(x_1,x_2,\cdots,x_n;\theta_1,\theta_2,\cdots,\theta_m)$ åœ¨ $\hat{\theta}_1,\hat{\theta}_2,\cdots,\hat{\theta}_m$ è¾¾åˆ°æœ€å¤§å€¼ï¼Œåˆ™ç§° $\hat{\theta}_1,\hat{\theta}_2,\cdots,\hat{\theta}_m$ åˆ†åˆ«æ˜¯ $\theta_1,\theta_2,\cdots,\theta_m$ çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡ã€‚</p><p>ç”±äº $\ln L_n$ ä¸ $L_n$ åŒæ—¶è¾¾åˆ°æœ€å¤§å€¼ï¼Œä¸ºäº†ç®€åŒ–è®¡ç®—ï¼Œå¸¸å¸¸é‡‡ç”¨ $\ln L_n$ æ¥æè¿°ã€‚é‚£ä¹ˆå¦‚ä½•æ‰èƒ½ä½¿å¾— $\ln L_n$ è¾¾åˆ°æœ€å¤§å€¼å‘¢ï¼Ÿå¯ä»¥åˆ©ç”¨â€œæœ€å¤§å€¼ç‚¹çš„ä¸€é˜¶åå¾®åˆ†ä¸º0â€è¿™ä¸€æ€§è´¨ï¼Œåˆ—å‡º<strong>ä¼¼ç„¶æ–¹ç¨‹ç»„</strong>ï¼š</p><p>$$ \left\{ \begin{aligned}<br>\frac{\partial\ln L_n}{\partial \theta_1} &amp;= 0 \\<br>\frac{\partial\ln L_n}{\partial \theta_2} &amp;= 0 \\<br>\cdots \cdots \\<br>\frac{\partial\ln L_n}{\partial \theta_m} &amp;= 0 \\<br>\end{aligned} \right. $$</p><p>å¦‚æ­¤ä¾¿å¯è§£å¾— $\hat{\theta}_1,\hat{\theta}_2,\cdots,\hat{\theta}_n$ ã€‚</p><h3 id="æœŸæœ›å’Œæ–¹å·®çš„ç‚¹ä¼°è®¡">æœŸæœ›å’Œæ–¹å·®çš„ç‚¹ä¼°è®¡</h3><p>æœ‰æ—¶å¹¶ä¸éœ€è¦æ±‚å¾—å¯†åº¦å‡½æ•°ï¼Œè€Œåªéœ€è·å¾—æŸäº›æ•°å­—ç‰¹å¾ï¼Œè¿™ç±»ä¼°è®¡ç§°ä½œç‚¹ä¼°è®¡ã€‚</p><h4 id="æœŸæœ›çš„ç‚¹ä¼°è®¡">æœŸæœ›çš„ç‚¹ä¼°è®¡</h4><p>åˆ©ç”¨ $\displaystyle \overline{X}=\frac{X_1+X_2+\cdots+X_n}{n}$ æ¥ä¼°è®¡æœŸæœ› $E(x)$ <strong>ä¸å­˜åœ¨ç³»ç»Ÿåå·®</strong>ã€‚å³ï¼š</p><p>$$ E(\overline{X})=E(X) $$</p><p>è¯æ˜ï¼š</p><p>$$ \begin{aligned}<br>E(\overline{X}) &amp;= E \left( \frac{X_1+X_2+\cdots+X_n}{n} \right) \\<br>&amp;= \frac{1}{n}\left[ E(X_1)+E(X_2)+\cdots+E(X_n) \right] \\<br>&amp;= E(X)<br>\end{aligned} $$</p><p>åŒç†è¿˜å¯ä»¥å¾—åˆ°:</p><p>$$ D(\overline{X})=\frac{D(X)}{n} $$</p><p>è¿™è¯´æ˜ï¼Œæ ·æœ¬æ•°é‡ $n$ è¶Šå¤§ï¼Œç”¨ $\overline{X}$ æ¥ä¼°è®¡ $E(X)$ çš„æ³¢åŠ¨è¶Šå°ï¼Œå³ä¼°è®¡è¶Šä¼˜è‰¯ã€‚</p><h4 id="æ–¹å·®çš„ç‚¹ä¼°è®¡">æ–¹å·®çš„ç‚¹ä¼°è®¡</h4><p>åˆ©ç”¨ $\displaystyle S^2=\frac{1}{n-1}\sum_{i=1}^{n}(x_i-\overline{x})^2$ æ¥ä¼°è®¡æ–¹å·® $D(X)$ ä¸å­˜åœ¨ç³»ç»Ÿåå·®ã€‚å³ï¼š</p><p>$$ E(S^2) = D(X) $$</p><p>éœ€è¦æ³¨æ„ï¼Œæˆ‘ä»¬ä¹ æƒ¯ä½¿ç”¨çš„ $\displaystyle \frac{1}{n}\sum_{i=1}^{n}(x_i-\overline{x})^2$ å¹¶ä¸æ˜¯æ–¹å·®çš„æ— åä¼°è®¡é‡ã€‚</p><h3 id="æœŸæœ›çš„ç½®ä¿¡åŒºé—´">æœŸæœ›çš„ç½®ä¿¡åŒºé—´</h3><p>æœŸæœ›çš„ç‚¹ä¼°è®¡åªæ˜¯å¾—åˆ°äº†æœŸæœ›çš„ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œé‚£ä¹ˆè¯¥è¿‘ä¼¼å€¼ $\overline{X}$ ä¸çœŸå®å€¼ $E(X)$ åˆ°ä½ç›¸å·®å¤šå°‘å‘¢ï¼Ÿè¿™å°±æ¶‰åŠåˆ°<strong>åŒºé—´ä¼°è®¡é—®é¢˜</strong>ã€‚</p><h4 id="å·²çŸ¥æ–¹å·®ï¼Œå¯¹æœŸæœ›è¿›è¡ŒåŒºé—´ä¼°è®¡">å·²çŸ¥æ–¹å·®ï¼Œå¯¹æœŸæœ›è¿›è¡ŒåŒºé—´ä¼°è®¡</h4><p>å¯¹äºä»»æ„éšæœºå˜é‡ $X$ ï¼Œæ ¹æ®ä¸­å¿ƒæé™å®šç†å¯çŸ¥ï¼Œéšæœºå˜é‡</p><p>$$ \eta = \frac{\overline{X}-E(X)}{\sqrt{\frac{D(X)}{n}}} $$</p><p>æ˜¯æœä»æ ‡å‡†æ­£æ€åˆ†å¸ƒçš„ã€‚æŸ¥è¡¨å¯ä»¥å¾—åˆ°</p><p>$$ P \left\{ \left| \eta \right|\le 1.96 \right\}=0.95 $$</p><p>ä¹Ÿå³ $E(X)$ è½åœ¨åŒºé—´</p><p>$$ \left[ \overline{X}-1.96 \sqrt{\frac{D(X)}{n}},\;\overline{X}+1.96 \sqrt{\frac{D(X)}{n}} \right] $$</p><p>ä»¥å†…çš„æ¦‚ç‡ä¸º $95%$ ã€‚</p><p>è¿™å°±æ˜¯ $E(X)$ çš„<strong>ç½®ä¿¡åŒºé—´</strong>ï¼Œ<strong>ç½®ä¿¡åº¦</strong>ä¸º $95%$ ã€‚</p><h4 id="æœªçŸ¥æ–¹å·®ï¼Œå¯¹æœŸæœ›è¿›è¡ŒåŒºé—´ä¼°è®¡">æœªçŸ¥æ–¹å·®ï¼Œå¯¹æœŸæœ›è¿›è¡ŒåŒºé—´ä¼°è®¡</h4><p>æœªçŸ¥æ–¹å·®æ—¶ï¼Œä¸èƒ½ä½¿ç”¨ä¸Šè¿°çš„ç½®ä¿¡åŒºé—´å…¬å¼ï¼Œä½†æˆ‘ä»¬è‡ªç„¶ä¼šæƒ³åˆ°åˆ©ç”¨æ–¹å·®çš„æ— åä¼°è®¡é‡ $S^2$ æ¥æ›¿ä»£æ–¹å·®ï¼Œå³ç ”ç©¶éšæœºå˜é‡</p><p>$$ T = \frac{\overline{X}-E(X)}{\sqrt{S^2/n}} $$</p><p>çš„åˆ†å¸ƒã€‚ç»è¿‡å¤æ‚çš„æ¨å¯¼å‘ç°ï¼Œéšæœºå˜é‡ $T$ æœä» $n-1$ ä¸ªè‡ªç”±åº¦çš„ $t$ åˆ†å¸ƒï¼š</p><p>$$ p_n(t)=\frac{\Gamma(n/2)}{\sqrt{(n-1)\pi}\Gamma((n-1)/2)}\left( 1+\frac{t^2}{n-1} \right)^{-n/2} $$</p><p>è¿™æ ·å°±å¾—åˆ°äº† $E(X)$ çš„ç½®ä¿¡åŒºé—´ï¼Œå¦‚ä¸‹ï¼š</p><p>$$ \left[ \overline{X}-\lambda \sqrt{\frac{S^2}{n}},\;\overline{X}+\lambda \sqrt{\frac{S^2}{n}} \right] $$</p><p>å…¶ä¸­ $\lambda$ å¯ä»¥é€šè¿‡æŸ¥æ‰¾ $t$ åˆ†å¸ƒçš„<strong>ä¸´ç•Œå€¼è¡¨</strong>è·å¾—ã€‚</p><h3 id="æ–¹å·®çš„ç½®ä¿¡åŒºé—´">æ–¹å·®çš„ç½®ä¿¡åŒºé—´</h3><p>ä»¥ä¸‹è®¨è®ºåªé€‚ç”¨äº<strong>æœä»æ­£æ€åˆ†å¸ƒ</strong>çš„éšæœºå˜é‡ã€‚</p><p>ä»è®¡ç®—æœŸæœ›çš„ç½®ä¿¡åŒºé—´ä¸­æˆ‘ä»¬å—åˆ°å¦‚ä¸‹å¯å‘ï¼š</p><blockquote><p>è¦æ±‚æŸä¸ªé‡çš„ç½®ä¿¡åŒºé—´ï¼Œæˆ‘ä»¬é¦–å…ˆé€šè¿‡è¯¥é‡æ„é€ ä¸€ä¸ªç‰¹æ®Šçš„éšæœºå˜é‡ $\eta$ï¼Œä½¿å¾— $\eta$ çš„åˆ†å¸ƒä¸æ‰€ç ”ç©¶çš„éšæœºå˜é‡ $X$ æ— å…³ï¼Œè€Œåªä¸æ ·æœ¬å®¹é‡ $n$ æœ‰å…³ã€‚ç„¶åé€šè¿‡ç»™å®šçš„ç½®ä¿¡åº¦ä» $\eta$ çš„åˆ†å¸ƒçš„ä¸´ç•Œå€¼è¡¨ä¸­åè§£å‡ºç½®ä¿¡åŒºé—´ã€‚</p></blockquote><p>æˆ‘ä»¬æ„é€ éšæœºå˜é‡ $\displaystyle \eta=\frac{(n-1)S^2}{\sigma^2}$ ï¼Œå¾—å‡ºå…¶åˆ†å¸ƒä¸º $n-1$ ä¸ªè‡ªç”±åº¦çš„ $\chi^2$ åˆ†å¸ƒï¼Œå³ï¼š</p><p>$$ p(u)=\begin{cases}<br>\frac{1}{2^{\frac{n-1}{2}}\Gamma(\frac{n-1}{2})} u^{(n-3)/2} e^{-u/2} \quad &amp; u\gt 0 \\<br>0 &amp; u\le 0\\<br>\end{cases} $$</p><p>è¿›è€Œå¾—å‡º $\sigma^2$ çš„ç½®ä¿¡åŒºé—´ä¸ºï¼š</p><p>$$ \left[ \frac{(n-1)S^2}{\lambda_2},\;\frac{(n-1)S^2}{\lambda_1} \right] $$</p><p>ä¹Ÿå³ï¼š</p><p>$$ \left[ \frac{\sum_{i=1}^{n}(X_i- \overline{X})^2}{\lambda_2},\; \frac{\sum_{i=1}^{n}(X_i- \overline{X})^2}{\lambda_1} \right] $$</p><p>å¼ä¸­ $\lambda_1,\lambda_2$ å¯ä»¥é€šè¿‡æŸ¥æ‰¾ $\chi^2$ åˆ†å¸ƒçš„ä¸´ç•Œå€¼è¡¨å¾—åˆ°ã€‚</p><h2 id="ç¬¬å…­ç« -å‡è®¾æ£€éªŒ">ç¬¬å…­ç«  å‡è®¾æ£€éªŒ</h2><h3 id="é—®é¢˜çš„ææ³•">é—®é¢˜çš„ææ³•</h3><p><strong>ä¾‹ 1</strong>ï¼šæŸå‚æœ‰ä¸€æ‰¹äº§å“ï¼Œå…± 200 ä»¶ï¼Œé¡»ç»æ£€éªŒåˆæ ¼æ‰èƒ½å‡ºå‚ï¼ŒæŒ‰å›½å®¶æ ‡å‡†ï¼Œæ¬¡å“ç‡ä¸å¾—è¶…è¿‡ 1% ï¼Œä»Šåœ¨å…¶ä¸­ä»»æ„æŠ½å– 5 ä»¶ï¼Œå‘ç°è¿™ 5 ä»¶å«æœ‰æ¬¡å“ã€‚é—®è¿™æ‰¹äº§å“èƒ½å¦å‡ºå‚ï¼Ÿ</p><p>ä»ç›´è§‰ä¸Šçœ‹ï¼Œè¿™æ‰¹äº§å“å½“ç„¶æ˜¯ä¸èƒ½å‡ºå‚çš„ï¼Œä½†ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p><strong>ä¾‹ 2</strong>ï¼šæ€æ ·æ ¹æ®ä¸€ä¸ªéšæœºå˜é‡çš„æ ·æœ¬å€¼ï¼Œåˆ¤æ–­è¯¥éšæœºå˜é‡æ˜¯å¦æœä»æ­£æ€åˆ†å¸ƒ $N(\mu,\sigma^2)$ï¼Ÿ</p><p><strong>å‡è®¾æ£€éªŒé—®é¢˜</strong>ï¼šè¿™ç±»é—®é¢˜ä¸­éƒ½éšå«ç€ä¸€ç§â€œå‡è®¾â€æˆ–â€œçœ‹æ³•â€ï¼Œä¾‹ 1 ä¸­çš„å‡è®¾æ˜¯ï¼šæ¬¡å“ç‡ $p \le 0.01$ï¼Œä¾‹ 2 ä¸­çš„å‡è®¾æ˜¯ï¼šè¯¥éšæœºå˜é‡æœä»æ­£æ€åˆ†å¸ƒ $N(\mu,\sigma^2)$ ï¼Œç°åœ¨æˆ‘ä»¬è¦æ£€éªŒè¿™äº›å‡è®¾æ˜¯å¦æ­£ç¡®ï¼Œè¿™ç±»é—®é¢˜ç§°ä¸º<strong>å‡è®¾æ£€éªŒé—®é¢˜</strong>ã€‚</p><p>å›åˆ°ä¾‹ 1ï¼šè¦æ£€éªŒçš„å‡è®¾æ˜¯ $p\le 0.01$ ï¼Œå¦‚æœå‡è®¾æˆç«‹ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¼šå‡ºç°ä»€ä¹ˆåæœã€‚æ­¤æ—¶ï¼Œå‡è®¾æœ‰ 200 ä»¶æ ·å“ï¼Œé‚£ä¹ˆå…¶ä¸­æœ€å¤šæœ‰ 2 ä»¶æ¬¡å“ï¼Œä»»æ„æŠ½å– 5 ä»¶ï¼Œæˆ‘ä»¬æ¥æ±‚ 5 ä»¶ä¸­æ— æ¬¡å“çš„æ¦‚ç‡ï¼š</p><p>$$ P \left\{ \text{æ— æ¬¡å“} \right\} \ge \frac{C_{198}^5}{C_{200}^5} \ge 0.95 $$</p><p>äºæ˜¯ï¼Œä»»æŠ½ 5 ä»¶ï¼Œå‡ºç°æ¬¡å“çš„æ¦‚ç‡ $\le 1-0.95=0.05$ ã€‚è¿™è¯´æ˜ï¼Œå¦‚æœæ¬¡å“ç‡ $\le 0.01$ ï¼Œé‚£ä¹ˆæŠ½å– 5 ä»¶æ ·å“ï¼Œå‡ºç°æ¬¡å“çš„æœºä¼šæ˜¯å¾ˆå°çš„ï¼Œå¹³å‡åœ¨ 100 æ¬¡æŠ½æ ·ä¸­ï¼Œå‡ºç°ä¸åˆ° 5 æ¬¡ã€‚è€Œç°åœ¨çš„äº‹å®æ˜¯ï¼Œåœ¨ä¸€æ¬¡æŠ½æ ·å®è·µä¸­ï¼Œç«Ÿç„¶å°±å‘ç”Ÿäº†è¿™ç§å°æ¦‚ç‡äº‹ä»¶ï¼Œè¿™æ˜¯ä¸åˆç†çš„ï¼å› æ­¤å‡è®¾ $p\le 0.01$ æ˜¯ä¸èƒ½æ¥å—çš„ã€‚</p><blockquote><p>æ³¨ï¼šé€šå¸¸æŠŠæ¦‚ç‡ä¸è¶…è¿‡ 0.05 çš„äº‹ä»¶å½“åšâ€œå°æ¦‚ç‡äº‹ä»¶â€ï¼Œæœ‰æ—¶ä¹ŸæŠŠæ¦‚ç‡ä¸è¶…è¿‡ 0.01 çš„äº‹ä»¶å½“åšå°æ¦‚ç‡äº‹ä»¶ã€‚</p></blockquote><p>ä»¥ä¸Šåˆ†æè¿‡ç¨‹å¯æ¦‚æ‹¬ä¸º<strong>æ¦‚ç‡æ€§è´¨çš„åè¯æ³•</strong>ã€‚</p><h3 id="ä¸€ä¸ªæ­£æ€æ€»ä½“çš„å‡è®¾æ£€éªŒ">ä¸€ä¸ªæ­£æ€æ€»ä½“çš„å‡è®¾æ£€éªŒ</h3><p>è®¾ $X \sim N(\mu,\sigma^2)$ ï¼Œå…³äºå®ƒçš„å‡è®¾æ£€éªŒé—®é¢˜ï¼Œä¸»è¦æ˜¯ä¸‹åˆ—å››ç§ï¼š</p><ol><li>å·²çŸ¥æ–¹å·® $\sigma^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0: \mu = \mu_0$ ï¼ˆ$\mu_0$ æ˜¯å·²çŸ¥æ•°ï¼‰ã€‚</li><li>æœªçŸ¥æ–¹å·® $\sigma^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0: \mu = \mu_0$ ï¼ˆ$\mu_0$ æ˜¯å·²çŸ¥æ•°ï¼‰ã€‚</li><li>æœªçŸ¥æœŸæœ› $\mu$ ï¼Œæ£€éªŒå‡è®¾ $H_0: \sigma^2 = \sigma_0^2$ ï¼ˆ$\sigma_0$ æ˜¯å·²çŸ¥æ•°ï¼‰ã€‚</li><li>æœªçŸ¥æœŸæœ› $\mu$ ï¼Œæ£€éªŒå‡è®¾ $H_0: \sigma^2 \le \sigma_0^2$ ï¼ˆ$\sigma_0$ æ˜¯å·²çŸ¥æ•°ï¼‰ã€‚</li></ol><p>ä»¥ä¸‹åˆ†åˆ«ä»‹ç»ã€‚</p><h4 id="1-å·²çŸ¥æ–¹å·®ï¼Œæ£€éªŒæœŸæœ›">1. å·²çŸ¥æ–¹å·®ï¼Œæ£€éªŒæœŸæœ›</h4><p>æˆ‘ä»¬é¦–å…ˆå‡è®¾ $H_0$ æˆç«‹ï¼Œçœ‹åœ¨è¯¥æ¡ä»¶ä¸‹ä¼šä¸ä¼šäº§ç”Ÿä¸åˆç†çš„ç°è±¡ã€‚</p><p>åœ¨ $\mu=\mu_0$ çš„æ¡ä»¶ä¸‹ï¼Œæœ‰ $X \sim N(\mu_0,\sigma^2)$ ï¼Œå‡è®¾æœ‰æ ·å“ $X_1,X_2,\cdots,X_n$ ï¼Œç”±ä¸­å¿ƒæé™å®šç†å¯çŸ¥ï¼š</p><p>$$ U = \frac{\overline{X}-\mu_0}{\sqrt{\sigma^2/n}}  \sim  N(0,1) $$</p><p>æŸ¥æ­£æ€åˆ†å¸ƒè¡¨å¯çŸ¥ï¼š</p><p>$$ P \left\{ \left| \frac{\overline{X}-\mu_0}{\sqrt{\sigma^2/n}} \right| \gt 1.96 \right\} = 0.05 $$</p><p>è¯¥å¼æè¿°äº†ä¸€ä¸ªå°æ¦‚ç‡äº‹ä»¶ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬ç”¨æ ·æœ¬ $X_1,X_2,\cdots,X_n$ å®é™…è®¡ç®—å‡ºæ¥çš„ $\overline{X}$ æ»¡è¶³è¯¥å¼ï¼Œé‚£ä¹ˆå‡è®¾ $H_0$ å°±æ˜¯ä¸åˆç†çš„ï¼Œåˆ™å‡è®¾ä¸æˆç«‹ï¼Œä¹Ÿç§°ä¸º<strong>å‡è®¾ä¸ç›¸å®¹</strong>ã€‚</p><blockquote><p>äº‹å®ä¸Šï¼Œä»¥ä¸Šè®¡ç®—è¿‡ç¨‹å®Œå…¨<strong>ç­‰æ•ˆäºæ±‚ç½®ä¿¡åŒºé—´é—®é¢˜</strong>ã€‚å…¶ç­‰æ•ˆè§£æ³•ä¸ºï¼šå…ˆæ ¹æ® $\sigma^2$ å’Œæ ·æœ¬ $X_1,X_2,\cdots,X_n$ æ±‚å‡º $\mu$ çš„ç½®ä¿¡åŒºé—´ï¼Œå¦‚æœ $\mu_0$ åœ¨è¯¥åŒºé—´å†…ï¼Œåˆ™è®¤ä¸ºå‡è®¾ $H_0$ æˆç«‹ï¼Œå¦åˆ™è®¤ä¸ºå‡è®¾ä¸æˆç«‹ã€‚</p></blockquote><p><strong>ä¸¤ç±»é”™è¯¯</strong>ï¼šä»ä»¥ä¸Šçš„åˆ†æè¿‡ç¨‹ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“ä¸€ä¸ªäº‹ä»¶ä¸ºå°æ¦‚ç‡äº‹ä»¶æ—¶ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒç»å¯¹ä¸å¯èƒ½å‘ç”Ÿï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œæœ‰æ—¶ä¼šé€ æˆé”™è¯¯ï¼š</p><p>å½“ä¸€ä¸ªå‡è®¾å®é™…ä¸Šæ˜¯æˆç«‹çš„ï¼Œæˆ‘ä»¬æ ¹æ®å¯¹æ ·æœ¬çš„è®¡ç®—å´åˆ¤å®šå…¶ä¸æˆç«‹ï¼Œå³çŠ¯äº†â€œä»¥çœŸä¸ºå‡â€çš„é”™è¯¯ï¼Œè¿™ç§é”™è¯¯ç§°ä¸º<strong>ç¬¬ä¸€ç±»é”™è¯¯</strong>ã€‚</p><p>åä¹‹ï¼Œå½“ä¸€ä¸ªå‡è®¾å®é™…ä¸Šæ˜¯ä¸æˆç«‹çš„ï¼Œæˆ‘ä»¬æ ¹æ®å¯¹æ ·æœ¬çš„è®¡ç®—åˆ¤å®šå…¶æˆç«‹ï¼Œå³çŠ¯äº†â€œä»¥å‡ä¸ºçœŸâ€çš„é”™è¯¯ï¼Œè¿™ç§é”™è¯¯ç§°ä¸º<strong>ç¬¬äºŒç±»é”™è¯¯</strong>ã€‚</p><h4 id="2-æœªçŸ¥æ–¹å·®ï¼Œæ£€éªŒæœŸæœ›">2. æœªçŸ¥æ–¹å·®ï¼Œæ£€éªŒæœŸæœ›</h4><p>å¯è½¬åŒ–ä¸ºæ±‚ç½®ä¿¡åŒºé—´é—®é¢˜ï¼Œæˆ‘ä»¬å‰é¢å·²ç»è®²è¿°è¿‡äº†ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚å…³é”®ç‚¹æ˜¯ï¼šæ„é€ éšæœºå˜é‡</p><p>$$ T = \frac{\overline{X}-\mu}{\sqrt{S^2/n}} $$</p><p>$T$ åº”ç¬¦åˆ $n-1$ ä¸ªè‡ªç”±åº¦çš„ $t$ åˆ†å¸ƒã€‚</p><h4 id="3-æœªçŸ¥æœŸæœ›ï¼Œæ£€éªŒæ–¹å·®">3. æœªçŸ¥æœŸæœ›ï¼Œæ£€éªŒæ–¹å·®</h4><h4 id="4-æœªçŸ¥æœŸæœ›ï¼Œæ£€éªŒæ–¹å·®çš„ä¸Šé™">4. æœªçŸ¥æœŸæœ›ï¼Œæ£€éªŒæ–¹å·®çš„ä¸Šé™</h4><p>åŒæ ·é‡‡ç”¨æ±‚ç½®ä¿¡åŒºé—´çš„æ€è·¯ï¼Œå…³é”®ç‚¹æ˜¯ï¼šæ„é€ éšæœºå˜é‡</p><p>$$ W = \frac{(n-1)S^2}{\sigma^2} $$</p><p>$W$ åº”ç¬¦åˆ $n-1$ ä¸ªè‡ªç”±åº¦çš„ $\chi^2$ åˆ†å¸ƒã€‚</p><h3 id="ä¸¤ä¸ªæ­£æ€æ€»ä½“çš„å‡è®¾æ£€éªŒ">ä¸¤ä¸ªæ­£æ€æ€»ä½“çš„å‡è®¾æ£€éªŒ</h3><p>åœ¨å®é™…é—®é¢˜ä¸­ï¼Œé™¤äº†é‡åˆ°ä¸€ä¸ªæ€»ä½“çš„æ£€éªŒé—®é¢˜ï¼Œè¿˜å¸¸é‡åˆ°ä¸¤ä¸ªæ€»ä½“çš„æ¯”è¾ƒé—®é¢˜ã€‚</p><p>è®¾ $X \sim N(\mu_1,\sigma_1^2)$ ï¼Œ$Y \sim N(\mu_2,\sigma_2^2)$ ï¼Œä¸” $X, Y$ ç›¸äº’ç‹¬ç«‹ï¼Œä¸»è¦ç ”ç©¶ä»¥ä¸‹å››ç±»é—®é¢˜ï¼š</p><ol><li>æœªçŸ¥ $\sigma_1^2,\sigma_2^2$ï¼Œä½†çŸ¥é“ $\sigma_1^2=\sigma_2^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\mu_1=\mu_2$</li><li>æœªçŸ¥ $\mu_1,\mu_2$ï¼Œæ£€éªŒå‡è®¾ $H_0:\sigma_1^2 = \sigma_2^2$</li><li>æœªçŸ¥ $\mu_1,\mu_2$ï¼Œæ£€éªŒå‡è®¾ $H_0:\sigma_1^2 \le \sigma_2^2$</li><li>æœªçŸ¥ $\sigma_1^2,\sigma_2^2$ï¼Œä½†çŸ¥é“ $\sigma_1^2 \ne \sigma_2^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\mu_1=\mu_2$</li></ol><p>ä»¥ä¸‹åˆ†åˆ«è®¨è®ºã€‚</p><p><strong>1. æœªçŸ¥ $\sigma_1^2,\sigma_2^2$ ï¼Œä½†çŸ¥é“ $\sigma_1^2=\sigma_2^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\mu_1=\mu_2$</strong></p><p>è®¾ $X_1,X_2,\cdots,X_{n_1}$ æ¥è‡ªæ€»ä½“ $N(\mu_1,\sigma_1^2)$ï¼Œ$Y_1,Y_2,\cdots,Y_{n_2}$ æ¥è‡ªæ€»ä½“ $N(\mu_2,\sigma_2^2)$ï¼Œä¸” $X,Y$ é—´ç›¸äº’ç‹¬ç«‹ã€‚ç°å·²çŸ¥ $\sigma_1^2=\sigma_2^2$ï¼Œå¦‚ä½•æ£€éªŒå‡è®¾ $H_0:\mu_1=\mu_2$ï¼Ÿ</p><p>ç±»æ¯”å‰é¢çš„ç ”ç©¶æ–¹æ³•ï¼Œæˆ‘ä»¬æ„é€ ä¸€ä¸ªç‰¹æ®Šçš„ç»Ÿè®¡é‡ï¼š</p><p>$$ \widetilde{T} = \frac{(\overline{X}-\overline{Y})-(\mu_1-\mu_2)}{\sqrt{(n_1-1)S_1^2+(n_2-1)s_2^2}} \cdot \sqrt{\frac{n_1 n_2 (n_1+n_2-2)}{n_1+n_2}} $$</p><p>æ•°å­¦ä¸Šå¯ä»¥è¯æ˜ $\widetilde{T}$ æœä» $n_1+n_2-2$ ä¸ªè‡ªç”±åº¦çš„ $t$ åˆ†å¸ƒã€‚</p><p><strong>2. æœªçŸ¥ $\mu_1,\mu_2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\sigma_1^2 = \sigma_2^2$</strong></p><p>æ„é€ ç‰¹æ®Šçš„ç»Ÿè®¡é‡ï¼š</p><p>$$ \widetilde{F} = \frac{S_1^2/\sigma_1^2}{S_2^2/\sigma_2^2} $$</p><p>æ•°å­¦ä¸Šå¯ä»¥è¯æ˜ $\widetilde{F}$ æœä»è‡ªç”±åº¦ä¸º $n_1-1, n_2-1$ çš„ $F$ åˆ†å¸ƒï¼Œå…¶ä¸­ï¼Œ$n_1-1,n_2-1$ åˆ†åˆ«ç§°ä¸º<strong>ç¬¬ä¸€è‡ªç”±åº¦</strong>å’Œ<strong>ç¬¬äºŒè‡ªç”±åº¦</strong>ã€‚</p><p><strong>3. æœªçŸ¥ $\mu_1,\mu_2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\sigma_1^2 \le \sigma_2^2$</strong></p><p>åŒ 2.</p><p><strong>4. æœªçŸ¥ $\sigma_1^2,\sigma_2^2$ ï¼Œä½†çŸ¥é“ $\sigma_1^2 \ne \sigma_2^2$ ï¼Œæ£€éªŒå‡è®¾ $H_0:\mu_1=\mu_2$</strong></p><p>è¿™æ˜¯è‘—åçš„ Behrens-Fisher é—®é¢˜ã€‚å…¶è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><p>è®¾ $X_1,X_2,\cdots,X_{n_1}$ æ¥è‡ªæ€»ä½“ $N(\mu_1,\sigma_1^2)$ ï¼Œ$Y_1,Y_2,\cdots,Y_{n_2}$ æ¥è‡ªæ€»ä½“ $N(\mu_2,\sigma_2^2)$ ï¼Œä¸” $X,Y$ é—´ç›¸äº’ç‹¬ç«‹ã€‚</p><p>$\overline{X}, \overline{Y}, S_1^2, S_2^2$ åˆ†åˆ«è¡¨ç¤ºæ ·æœ¬ 1ã€2 çš„å‡å€¼ï¼Œæ ·æœ¬ 1ã€2 çš„æ–¹å·®ã€‚æ˜“çŸ¥ï¼š</p><p>$$ \overline{X}-\overline{Y}  \sim  N \left( \mu_1-\mu_2,\frac{\sigma_1^2}{n_1}+\frac{\sigma_2^2}{n_2} \right) $$</p><p>äºæ˜¯ï¼š</p><p>$$ \frac{\overline{X}-\overline{Y}-(\mu_1-\mu_2)}{\sqrt{\frac{\sigma_1^2}{n_1}+\frac{\sigma_2^2}{n_2}}} \sim  N(0,1) $$</p><p>åœ¨é›¶å‡è®¾ $H_0:\mu_1=\mu_2$ ä¸‹</p><p>$$ \xi \triangleq \frac{\overline{X}-\overline{Y}}{\sqrt{\frac{\sigma_1^2}{n_1}+\frac{\sigma_2^2}{n_2}}}  \sim  N(0,1) $$</p><p>å¯è§ $\left| \xi \right|$ å€¼å¤ªå¤§æ—¶åº”æ‹’ç» $H_0$ ï¼Œä½†ç”±äº $\sigma_1^2, \sigma_2^2$ æ˜¯æœªçŸ¥çš„ï¼Œè‡ªç„¶æƒ³åˆ°ç”¨ $S_1^2, S_2^2$ åˆ†åˆ«ä»£æ›¿ï¼Œå¾—åˆ°ç»Ÿè®¡é‡ï¼š</p><p>$$ T = \frac{\overline{X}-\overline{Y}}{\sqrt{\frac{S_1^2}{n_1}+\frac{S_2^2}{n_2}}} $$</p><p>ç„¶è€Œï¼Œ$T$ çš„ç²¾ç¡®åˆ†å¸ƒä¾ç„¶ç›¸å½“å¤æ‚ï¼Œä¸”ä¾èµ–äºæ¯”å€¼ $\frac{\sigma_1^2}{\sigma_2^2}$ ã€‚å¹¸è¿çš„æ˜¯ï¼Œæ•°å­¦ä¸Šå¯ä»¥è¯æ˜ï¼Œç»Ÿè®¡é‡ $T$ è¿‘ä¼¼æœä» $m$ ä¸ªè‡ªç”±åº¦çš„ $t$ åˆ†å¸ƒï¼Œè¿™ä¸ª $m$ ä¹ƒæ˜¯ä¸ä»¥ä¸‹ $m^\ast$ æœ€æ¥è¿‘çš„æ•´æ•°ï¼š</p><p>$$ m^\ast = \frac{\left( \frac{1}{n_1}S_1^2+\frac{1}{n_2}S_2^2 \right)^2}{\frac{1}{n_1-1}\left( \frac{S_1^2}{n_1} \right)^2 + \frac{1}{n_2-1}\left( \frac{S_2^2}{n_2} \right)^2} $$</p><p>åˆ©ç”¨ $t$ åˆ†å¸ƒè¡¨ï¼Œæ‰¾ä¸´ç•Œå€¼ $\lambda$ æ»¡è¶³ $P(|T|&gt;\lambda)=a$ ï¼Œäºæ˜¯å½“ä¸”ä»…å½“ $|T|&gt;\lambda$ æ—¶æ‹’ç» $H_0: \mu_1=\mu_2$</p><h2 id="ç¬¬ä¸ƒç« -å›å½’åˆ†æ">ç¬¬ä¸ƒç«  å›å½’åˆ†æ</h2><p>å›å½’åˆ†ææ˜¯ç”¨æ¥å¤„ç†å¤šä¸ªå˜é‡ä¹‹é—´<strong>ç›¸å…³å…³ç³»</strong>çš„ä¸€ç§æ•°å­¦æ–¹æ³•ã€‚<strong>ç›¸å…³å…³ç³»</strong>ä¸åŒäº<strong>å‡½æ•°å…³ç³»</strong>ï¼Œåœ¨ç›¸å…³å…³ç³»ä¸­ï¼Œå¤šä¸ªå˜é‡ä¹‹é—´æ˜æ˜¾ç›¸å…³ï¼Œä½†å¹¶ä¸å…·æœ‰å®Œå…¨ç¡®å®šæ€§çš„å…³ç³»ï¼Œä¾‹å¦‚äººçš„èº«é«˜å’Œä½“é‡ï¼Œè™½ç„¶å‡­å€Ÿèº«é«˜å¹¶ä¸èƒ½ç²¾ç¡®ç¡®å®šä½“é‡ï¼Œä½†æ€»ä½“æ¥è¯´æœ‰â€œèº«é«˜è€…ï¼Œä½“ä¹Ÿé‡â€çš„å…³ç³»ã€‚</p><h3 id="ä¸€å…ƒçº¿æ€§å›å½’">ä¸€å…ƒçº¿æ€§å›å½’</h3><h4 id="ç»éªŒå…¬å¼ä¸æœ€å°äºŒä¹˜æ³•">ç»éªŒå…¬å¼ä¸æœ€å°äºŒä¹˜æ³•</h4><p>å¯¹äºæœ‰ä¸€å®šå…³ç³»çš„ä¸¤ä¸ªå˜é‡ $X,Y$ ï¼Œåœ¨è§‚æµ‹ä¸­å¾—åˆ°è‹¥å¹²ç»„æ•°æ® $(x_1,y_1),(x_2,y_2),\cdots,(x_n,y_n)$ï¼Œæˆ‘ä»¬æ€æ ·è·å– $X,Y$ ä¹‹é—´çš„ç»éªŒå…¬å¼å‘¢ï¼Ÿ</p><p><strong>step 1</strong>ï¼šä½œå‡º<strong>æ•£ç‚¹å›¾</strong>ï¼Œå¤§è‡´ç¡®å®šç»éªŒå…¬å¼çš„å½¢å¼ã€‚è‹¥æ•£ç‚¹å›¾å¤§è‡´ä¸ºçº¿æ€§å…³ç³»ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»éªŒå…¬å¼ï¼š</p><p>$$ \hat{y} = a + bx $$</p><p>è¿™é‡Œï¼Œåœ¨ $y$ ä¸Šæ–¹åŠ â€œ$\hat{}$â€ï¼Œæ˜¯ä¸ºäº†åŒºåˆ«äº $Y$ çš„å®é™…å€¼ $y$ï¼Œå› ä¸º $y$ ä»£è¡¨ç€å…¶ä¸ $x$ ä¹‹é—´çš„å‡½æ•°å…³ç³»ï¼Œè€Œè§‚æµ‹å€¼ä¸€èˆ¬ä¸å…·æœ‰ä¸¥æ ¼çš„å‡½æ•°å…³ç³»ã€‚</p><p><strong>step 2</strong>ï¼šæ±‚å‡ºå‚æ•° $a,b$</p><p>ä¸Šè¿°å…³ç³»å¼ï¼š</p><p>$$ \hat{y} = a + bx $$</p><p>ç§°ä¸º<strong>å›å½’æ–¹ç¨‹</strong>ã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯è¦æ‰¾åˆ°åˆé€‚çš„å‚æ•° $a,b$ ä½¿å¾—<strong>å›å½’æ–¹ç¨‹æ‰€ä»£è¡¨çš„ç›´çº¿æ€»ä½“æœ€æ¥è¿‘æ‰€æœ‰çš„æ•£ç‚¹</strong>ã€‚</p><p>æˆ‘ä»¬å¦‚ä½•æ¥åˆ»ç”»ä¸€æ¡ç›´çº¿ä¸æ‰€æœ‰æ•£ç‚¹ä¹‹é—´çš„æ€»ä½“æ¥è¿‘ç¨‹åº¦å‘¢ï¼Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹ç»Ÿè®¡é‡ï¼š</p><p>$$ \sum_{i=1}^{n} \left[ y_i - (a + b x_i) \right]^2 $$</p><blockquote><p>è¯¥ç»Ÿè®¡é‡çš„å‡ ä½•æ„ä¹‰æ˜¯ç‚¹ $(x_i,y_i)$ æ²¿ç€ $y$ è½´çš„æ–¹å‘åˆ°ç›´çº¿çš„è·ç¦»ï¼Œè€Œä¸æ˜¯åˆ°ç›´çº¿çš„å‚ç›´è·ç¦»ï¼</p></blockquote><p>ä¸Šè¿°ç»Ÿè®¡é‡éšç€ $a,b$ çš„å˜åŒ–è€Œå˜åŒ–ï¼Œæ˜¯å…³äº $a,b$ çš„äºŒå…ƒå‡½æ•°ï¼Œè®°ä¸º $Q(a,b)$ï¼š</p><p>$$ Q(a,b) = \sum_{i=1}^{n} \left[ y_i - (a + b x_i) \right]^2 $$</p><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸¤ä¸ªæ•° $\hat{a},\hat{b}$ï¼Œä½¿äºŒå…ƒå‡½æ•° $Q(a,b)$ åœ¨ $a = \hat{a},b=\hat{b}$ å¤„è¾¾åˆ°æœ€å°</p><p>ç”±äº $Q(a,b)$ æ˜¯ $n$ ä¸ªå¹³æ–¹ä¹‹å’Œï¼Œæ‰€ä»¥ä½¿ $Q(a,b)$ æœ€å°çš„åŸåˆ™ç§°ä¸º<strong>å¹³æ–¹å’Œæœ€å°åŸåˆ™</strong>ï¼Œä¹ æƒ¯ä¸Šç§°ä¸º<strong>æœ€å°äºŒä¹˜åŸåˆ™</strong>ã€‚$a,b$ çš„å€¼å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹ç¨‹ç»„æ±‚å¾—ï¼š</p><p>$$ \left\{<br>\begin{aligned}<br>\frac{\partial Q}{\partial a} &amp;= -2 \sum_{i=1}^{n} \left[ y_i - (a + b x_i) \right] = 0 \\<br>\frac{\partial Q}{\partial b} &amp;= -2 \sum_{i=1}^{n} \left[ y_i - (a + b x_i) \right] \cdot x_i = 0<br>\end{aligned}<br>\right. $$</p><p>è§£å¾—ï¼š</p><p>$$ \left\{<br>\begin{aligned}<br>b &amp;= \frac{\sum\limits_{i=1}^{n}(x_i-\bar{x})(y_i-\bar{y})}{\sum\limits_{i=1}^{n}(x_i-\bar{x})^2} \\<br>a &amp;= \bar{y} - b \bar{x}<br>\end{aligned}<br>\right. $$</p><h5 id="å½“ç›¸å…³å…³ç³»ä¸æ˜¯çº¿æ€§å…³ç³»æ—¶å¦‚ä½•ä½¿ç”¨æœ€å°äºŒä¹˜æ³•ï¼Ÿ">å½“ç›¸å…³å…³ç³»ä¸æ˜¯çº¿æ€§å…³ç³»æ—¶å¦‚ä½•ä½¿ç”¨æœ€å°äºŒä¹˜æ³•ï¼Ÿ</h5><p>é‡‡ç”¨é€‚å½“çš„è½¬åŒ–ï¼Œæ„é€ åŸå˜é‡çš„ç”Ÿæˆå˜é‡ï¼Œä½¿å¾—ç”Ÿæˆå˜é‡ä¹‹é—´å…·æœ‰çº¿æ€§å…³ç³»ã€‚</p><p>ä¾‹å¦‚ï¼šå˜é‡ $X,Y$ æœ‰å¦‚ä¸‹ç›¸å…³å…³ç³»ï¼š</p><p>$$ y = A e^{-B/x} $$</p><p>æ˜¾ç„¶ $y$ ä¸ $x$ ä¹‹é—´çš„å…³ç³»ä¸æ˜¯çº¿æ€§çš„ã€‚æˆ‘ä»¬å¯¹ç­‰å¼ä¸¤è¾¹å–è‡ªç„¶å¯¹æ•°ï¼š</p><p>$$ \ln y = \ln A - \frac{B}{x} $$</p><p>ä»¤</p><p>$$ \begin{aligned}<br>y^\ast &amp;= \ln y \\<br>x^\ast &amp;= \frac{1}{x}<br>\end{aligned} $$</p><p>åˆ™ä¸¤ä¸ªæ–°å˜é‡ $y^\ast,x^\ast$ ä¹‹é—´çš„å…³ç³»ä¾¿æ˜¯çº¿æ€§çš„äº†ï¼Œæˆ‘ä»¬å°† $x,y$ çš„è§‚æµ‹æ•°å€¼è½¬åŒ–ä¸ºè¿™ä¸¤ç§å½¢å¼å³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ¦‚ç‡ç»Ÿè®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çŸ©é˜µæ±‚å¯¼æœ¯</title>
      <link href="/posts/20d9a268/"/>
      <url>/posts/20d9a268/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡ä¸ºçŸ¥ä¹ä¸Šçš„ä¸€ç¯‡æ–‡ç«  <a href="https://zhuanlan.zhihu.com/p/24709748">çŸ©é˜µæ±‚å¯¼æœ¯</a> çš„ç¬”è®°ã€‚</p><span id="more"></span><p>ç¬¦å·çº¦å®šï¼šä»¥ä¸‹ä½¿ç”¨å°å†™å­—æ¯å¦‚ $x$ è¡¨ç¤ºæ ‡é‡ï¼Œç²—ä½“å°å†™å­—æ¯å¦‚ $\boldsymbol{a}$ è¡¨ç¤ºå‘é‡ï¼Œå¤§å†™å­—æ¯å¦‚ $A$ è¡¨ç¤ºçŸ©é˜µã€‚ä¸ºä¿æŒä¸€è‡´æ€§ï¼Œå‘é‡å¦‚ä¸è¿›è¡Œç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸º<strong>åˆ—å‘é‡</strong>ï¼Œè¡Œå‘é‡å¯é€šè¿‡åˆ—å‘é‡çš„è½¬ç½®æ¥è¡¨ç¤ºï¼Œå¦‚ $\boldsymbol{a}^T$ã€‚</p><p>çŸ©é˜µå¯¹æ ‡é‡çš„æ±‚å¯¼å³é€ä¸ªå…ƒç´ å¯¹æ ‡é‡æ±‚å¯¼ï¼Œæ²¡ä»€ä¹ˆå€¼å¾—è®¨è®ºçš„ã€‚æˆ‘ä»¬ä»¥ä¸‹ä¸»è¦ä»‹ç»æ ‡é‡å¯¹çŸ©é˜µçš„æ±‚å¯¼ï¼Œç„¶åå»¶ä¼¸åˆ°çŸ©é˜µå¯¹çŸ©é˜µçš„æ±‚å¯¼ã€‚</p><h2 id="æ ‡é‡å¯¹çŸ©é˜µçš„å¯¼æ•°">æ ‡é‡å¯¹çŸ©é˜µçš„å¯¼æ•°</h2><h3 id="å®šä¹‰">å®šä¹‰</h3><p>é¦–å…ˆæ˜ç¡®ä¸€ä¸‹æ ‡é‡å¯¹çŸ©é˜µæ±‚å¯¼çš„å®šä¹‰ï¼š</p><p>$$ \frac{\partial f}{\partial X} = \left[\ddots, \frac{\partial f}{\partial X_{ij}}, \ddots \right] $$</p><p>å³ $f$ å¯¹ $X$ é€å…ƒç´ æ±‚å¯¼ï¼Œå¹¶æ’åˆ—æˆä¸ $X$ å½¢çŠ¶ç›¸åŒçš„çŸ©é˜µã€‚</p><p>è¯¥å®šä¹‰åœ¨å½¢å¼ä¸Šå¾ˆå®¹æ˜“ç†è§£ï¼Œä½†åœ¨å®é™…è®¡ç®—ä¸­å´éš¾ä»¥ä½¿ç”¨ï¼Œå› ä¸ºå®ƒç ´åäº†çŸ©é˜µçš„<strong>æ•´ä½“æ€§</strong>ã€‚åœ¨å·¥ç¨‹å®è·µä¸­ï¼ˆæ¯”å¦‚ Matlabã€numpy ç­‰ï¼‰ï¼Œæˆ‘ä»¬å€¾å‘äºæŠŠçŸ©é˜µçœ‹ä½œä¸€ä¸ªæ•´ä½“ï¼Œä»æ•´ä½“ä¸Šå¯¹å…¶è¿›è¡Œçš„åŠ å‡ä¹˜é™¤ç­‰è¿ç®—ï¼Œåƒæ™®é€šçš„æ ‡é‡ä¸€æ ·ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åº”å½“è€ƒè™‘å¦‚ä½•å°†æ±‚å¯¼ä½œç”¨äºæ•´ä¸ªçŸ©é˜µä¸Šï¼Œè€Œä¸æ˜¯ä½œç”¨äºçŸ©é˜µçš„å„ä¸ªå…ƒç´ ä¸Šã€‚</p><p>æˆ‘ä»¬ä¸å¦¨ä»æœ€ç®€å•çš„æ ‡é‡å‡½æ•°å…¥æ‰‹ï¼Œæ„å»ºèµ·ä¸€å¥—æ˜“äºæŒæ¡çš„çŸ©é˜µæ±‚å¯¼æŠ€å·§ã€‚</p><p>å¯¼æ•°ä¸å¾®åˆ†ä¹‹é—´å­˜åœ¨ç€å¯†åˆ‡çš„è”ç³»ï¼š</p><p>$$ \mathrm{d}y = fâ€™(x)\mathrm{d}x = \frac{\mathrm{d}y}{\mathrm{d}x}\mathrm{d}x $$</p><p>å³ï¼šå…¨å¾®åˆ† $\mathrm{d}y$ æ˜¯å¯¼æ•° $\displaystyle \frac{\mathrm{d}y}{\mathrm{d}x}$ ä¸å¾®åˆ†å˜é‡ $\mathrm{d}x$ çš„ç§¯ã€‚<strong>ï¼ˆæ¨è®º1ï¼‰</strong></p><p>æ˜ç¡®äº†ä¸Šè¿°é‡è¦å®šä¹‰ä¹‹åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹å¤šå…ƒå‡½æ•°çš„æƒ…å½¢ã€‚è®¾ $f(x_1, x_2, x_3, \dots, x_n)$ ä¸ºå¤šå…ƒå‡½æ•°ï¼Œæˆ‘ä»¬ä¾ç„¶ä»å…¨å¾®åˆ†çš„å®šä¹‰å…¥æ‰‹ï¼š</p><p>$$ \mathrm{d}f = \sum_{i=1}^{n} \frac{\partial f}{\partial x_i}\mathrm{d}x_i $$</p><p>ä¸ºäº†å¾—åˆ°ä¸€ä¸ªæ»¡è¶³â€œæ•´ä½“æ€§â€çš„å¼å­ï¼Œæˆ‘ä»¬éœ€è¦å»æ‰æ±‚å’Œç¬¦å·ã€‚ä»¤å‘é‡ $\boldsymbol{x}^T=[x_1, x_2, x_3, \dots, x_n]$ï¼Œå¾—åˆ°ï¼š</p><p>$$ \mathrm{d}f = \frac{\partial f}{\partial \boldsymbol{x}} \cdot \mathrm{d}\boldsymbol{x} $$</p><p>å…¶ä¸­ï¼Œ$\displaystyle \frac{\partial f}{\partial \boldsymbol{x}}$ ä»£è¡¨ $f$ å¯¹ $\boldsymbol{x}$ çš„æ‰€æœ‰é¡¹çš„åå¯¼æ•°ç»„æˆçš„å‘é‡ã€‚è¿ç®—ç¬¦â€œ$\cdot$â€ä»£è¡¨<strong>ç‚¹ä¹˜</strong>è¿ç®—ï¼Œå…¶è¿ç®—ç»“æœç§°ä¸º<strong>å†…ç§¯</strong>ã€‚</p><p>äºæ˜¯ï¼Œæˆ‘ä»¬å¾—åˆ°äº†å¦‚ä¸‹æ¨è®ºï¼š</p><p>å¤šå…ƒå‡½æ•°çš„å…¨å¾®åˆ† $\mathrm{d}f$ æ˜¯å¯¼æ•°å‘é‡ $\displaystyle \frac{\partial f}{\partial \boldsymbol{x}}$ ä¸å¾®åˆ†å˜é‡ $\mathrm{d}\boldsymbol{x}$ çš„å†…ç§¯ã€‚<strong>ï¼ˆæ¨è®º2ï¼‰</strong></p><p>ä¸æ¨è®º1è¿›è¡Œæ¯”è¾ƒå¯ä»¥å‘ç°ï¼ŒäºŒè€…åœ¨å½¢å¼ä¸Šæ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œå”¯ä¸€çš„å·®åˆ«åœ¨äºæœ«å°¾çš„â€œç§¯â€å’Œâ€œå†…ç§¯â€ã€‚ç„¶è€Œï¼Œæ ‡é‡çš„ç§¯å®Œå…¨å¯ä»¥çœ‹ä½œå‘é‡å†…ç§¯çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ¨è®º2å¯ä»¥æ¶µç›–æ¨è®º1ã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æŠŠå…¨å¾®åˆ†ä¸å¯¼æ•°ä¹‹é—´çš„å…³ç³»å¼æ¨å¹¿åˆ°äº†<strong>å…³äºå‘é‡çš„å‡½æ•°</strong>ï¼ˆå³å¤šå…ƒå‡½æ•°ï¼‰ï¼Œå¦‚æœæŠŠå‘é‡çœ‹ä½œä¸€ç§ç‰¹æ®Šçš„çŸ©é˜µï¼Œé‚£ä¹ˆè¿™ä¸€æ¨è®ºä¹Ÿå¾ˆå®¹æ˜“æ¨å¹¿åˆ°<strong>å…³äºçŸ©é˜µçš„å‡½æ•°</strong>ï¼š</p><p>$$ \mathrm{d}f = \frac{\partial f}{\partial X}\cdot \mathrm{d}X \tag{1} $$</p><p>å³ï¼šå…³äºçŸ©é˜µçš„å‡½æ•°çš„å…¨å¾®åˆ† $\mathrm{d}f$ æ˜¯å¯¼æ•°çŸ©é˜µ $\displaystyle \frac{\partial f}{\partial X}$ ä¸å¾®åˆ†å˜é‡ $\mathrm{d}X$ çš„å†…ç§¯ã€‚<strong>ï¼ˆæ¨è®º3ï¼‰</strong></p><blockquote><p>æ³¨ï¼šè¿™é‡Œå°†å†…ç§¯çš„å®šä¹‰ä»å‘é‡æ¨å¹¿åˆ°äº†çŸ©é˜µï¼Œå³å…ˆå¯¹åšé€å…ƒç´ ç›¸ä¹˜ï¼Œç„¶åå°†æ‰€æœ‰ä¹˜ç§¯æ±‚å’Œã€‚</p></blockquote><p>ç”±äºæ ‡é‡å’Œå‘é‡éƒ½å¯ä»¥çœ‹ä½œæ˜¯çŸ©é˜µçš„ç‰¹æ®Šæƒ…å†µï¼Œå› æ­¤æ¨è®º3æ¶µç›–äº†æ¨è®º 1ã€2ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é€šç”¨è¡¨è¾¾å¼ $(1)$ã€‚</p><h3 id="è¿ç®—è§„åˆ™">è¿ç®—è§„åˆ™</h3><p>æœ‰äº†å®šä¹‰ï¼Œè¿˜éœ€è¦ä¸€å¥—å®Œæ•´çš„è¿ç®—è§„åˆ™æ‰èƒ½å®é™…åº”ç”¨ã€‚</p><p>æˆ‘ä»¬ä¾ç„¶ä»æœ€ç®€å•çš„æ ‡é‡å‡½æ•°ä¸­æ±²å–çµæ„Ÿã€‚ä¾‹å¦‚ï¼Œå¯¹äºå‡½æ•° $\displaystyle f(x)=x^2 sin(e^x)$ï¼Œæˆ‘å¦‚ä½•æ±‚å¯¼å‘¢ï¼Ÿæˆ‘ä»¬é€šå¸¸ä¸æ˜¯ç›´æ¥ä»å¯¼æ•°çš„å®šä¹‰å‡ºå‘ï¼Œè€Œæ˜¯å…ˆå»ºç«‹äº†åˆç­‰å‡½æ•°çš„å¯¼æ•°å’Œå››åˆ™è¿ç®—ã€å¤åˆç­‰æ³•åˆ™ï¼Œç„¶åè¿ç”¨è¿™äº›æ³•åˆ™æ±‚å¯¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å»ºç«‹çŸ©é˜µå¾®åˆ†çš„è¿ç®—è§„åˆ™ã€‚</p><h4 id="çŸ©é˜µçš„å¾®åˆ†è¿ç®—">çŸ©é˜µçš„å¾®åˆ†è¿ç®—</h4><ol><li><p>åŠ ï¼ˆå‡ï¼‰æ³•ï¼š</p><p>$$ \mathrm{d}(A\pm B)=\mathrm{d}A\pm\mathrm{d}B $$</p></li><li><p>ä¹˜æ³•ï¼š</p><p>$$ \mathrm{d}(AB)=\mathrm{d}AB+A \mathrm{d}B $$</p></li><li><p>é€†ï¼š</p><p>$$ \mathrm{d}A^{-1}=-A^{-1}\mathrm{d}A A^{-1} $$</p></li><li><p>è½¬ç½®ï¼š</p><p>$$ \mathrm{d}A^T=(\mathrm{d}A)^T $$</p></li><li><p>è¿¹ï¼ˆtraceï¼‰ï¼š</p><p>$$ \mathrm{d}tr(A)=tr(\mathrm{d}A) $$</p></li><li><p>è¡Œåˆ—å¼ï¼š</p><p>$$ \mathrm{d}|A|=tr(A^*\mathrm{d}A) $$</p><p>å…¶ä¸­ $A^*$ è¡¨ç¤º $A$ çš„ä¼´éšçŸ©é˜µã€‚å¦‚æœ $A$ å¯é€†ï¼Œåˆ™åˆæœ‰ï¼š</p><p>$$ \mathrm{d}|A|=|A|tr(A^{-1}\mathrm{d}A) $$</p></li><li><p>é€å…ƒç´ (element-wise)ä¹˜æ³•ï¼š</p><p>$$ \mathrm{d}(A\odot B)=\mathrm{d}A\odot B+A\odot \mathrm{d}B $$</p></li><li><p>é€å…ƒç´ å‡½æ•°ï¼š</p><p>$$ \mathrm{d}h(A)=hâ€™(A)\odot \mathrm{d}A $$</p><p>å…¶ä¸­ï¼Œ$h(X)$ ä¸ºå¯¹çŸ©é˜µ $X$ è¿›è¡Œé€å…ƒç´ è¿ç®—çš„æ ‡é‡å‡½æ•°ã€‚</p></li></ol><h4 id="çŸ©é˜µçš„ç‚¹ä¹˜è¿ç®—">çŸ©é˜µçš„ç‚¹ä¹˜è¿ç®—</h4><p>è€ƒè™‘åˆ°ç‚¹ä¹˜è¿ç®—æ˜¯å…¬å¼ $(1)$ ä¸­çš„æ ¸å¿ƒæ“ä½œï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦ä¸€äº›å…³äºç‚¹ä¹˜çš„è¿ç®—è§„åˆ™ï¼ˆæ³¨æ„ï¼šç‚¹ä¹˜è¦æ±‚å‚åŠ è¿ç®—çš„ä¸¤ä¸ªçŸ©é˜µå½¢çŠ¶ç›¸åŒï¼‰ï¼š</p><ol><li><p>å®šä¹‰å¼ï¼š</p><p>$$ A\cdot B=tr(A^TB) $$</p><p>å¯¹äºå‘é‡æ¥è¯´ï¼Œè¯¥å¼å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–ï¼š$\displaystyle \boldsymbol{a}\cdot \boldsymbol{b}=\boldsymbol{a}^T \boldsymbol{b}$</p></li><li><p>äº¤æ¢å¾‹ï¼š</p><p>$$ A\cdot B = B\cdot A $$</p></li><li><p>åŠ æ³•åˆ†é…å¾‹ï¼š</p><p>$$ A\cdot(B+C)=A\cdot B + A\cdot C $$</p></li><li><p>ä¸é€å…ƒç´ ä¹˜æ³•çš„ç»“åˆå¾‹ï¼š</p><p>$$ A\cdot(B\odot C)=(A\odot B)\cdot C $$</p></li><li><p>è½¬ç½®çš„äº¤æ¢ï¼š</p><p>$$ A^T\cdot B = A\cdot B^T $$</p></li></ol><h4 id="çŸ©é˜µçš„è¿¹è¿ç®—">çŸ©é˜µçš„è¿¹è¿ç®—</h4><p>ä»¥ä¸Šå…¬å¼ä¸­ï¼Œå¤šå¤„æ¶‰åŠåˆ°çŸ©é˜µçš„è¿¹ï¼ˆtraceï¼‰è¿ç®—ï¼Œè¿™é‡Œæä¾›ä¸€äº›è¿¹æŠ€å·§ï¼ˆæ³¨æ„ï¼šè¿¹è¿ç®—çš„å¯¹è±¡å¿…é¡»ä¸ºæ–¹é˜µï¼‰ï¼š</p><ol><li><p>æ ‡é‡çš„è¿¹ç­‰äºå…¶è‡ªèº«ï¼š</p><p>$$ tr(x) = x $$</p></li><li><p>çº¿æ€§ï¼š</p><p>$$ tr(A\pm B)=tr(A)\pm tr(B) $$</p></li><li><p>ä¹˜æ³•å¯äº¤æ¢æ€§ï¼š</p><p>$$ tr(AB) = tr(BA) $$</p><p>è¦æ±‚ $A$ å’Œ $B^T$ çš„å½¢çŠ¶ç›¸åŒï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ $AB$ ä¸ºæ–¹é˜µã€‚</p></li><li><p>è½¬ç½®è¿¹ä¸å˜ï¼š</p><p>$$ tr(A^T)=tr(A) $$</p></li><li><p><strong>è¿¹ä¸ç‚¹ä¹˜çš„è½¬æ¢</strong>ï¼š</p><p>$$ tr(AB) = A^T\cdot B $$</p></li></ol><h4 id="çŸ©é˜µçš„å…¶ä»–ç›¸å…³è¿ç®—">çŸ©é˜µçš„å…¶ä»–ç›¸å…³è¿ç®—</h4><p>æœ€åï¼Œä¸ºäº†æ–¹ä¾¿æŸ¥é˜…ï¼Œé™„ä¸ŠçŸ©é˜µçš„è½¬ç½®ã€é€†ã€è¡Œåˆ—å¼ç­‰ç›¸å…³è¿ç®—è§„åˆ™ï¼š</p><p>$$ \begin{aligned}<br>(A^T)^T &amp;= A \\<br>(AB)^T &amp;= B^T A^T \\<br>(A^{-1})^{-1} &amp;= A \\<br>AA^{-1} &amp;= A^{-1}A = I \\<br>(AB)^{-1} &amp;= B^{-1}A^{-1} \\<br>(A^T)^{-1} &amp;= (A^{-1})^T \\<br>|A^{-1}| &amp;= |A|^{-1} \\<br>(kA)^{-1} &amp;= k^{-1}A^{-1}<br>\end{aligned}$$</p><p>æœ‰äº†ä¸Šè¿°è¿™äº›è¿ç®—è§„åˆ™ï¼Œ<strong>åªè¦çŸ©é˜µçš„å‡½æ•° $f$ æ˜¯ç”±çŸ©é˜µ $X$ ç»è¿‡åŠ ã€å‡ã€ä¹˜ã€è½¬ç½®ã€é€†ã€è¿¹ã€è¡Œåˆ—å¼ã€é€å…ƒç´ ä¹˜æ³•ã€é€å…ƒç´ å‡½æ•°ç­‰è¿ç®—åŠå…¶å¤åˆè¿ç®—æ„æˆçš„ï¼Œæˆ‘ä»¬éƒ½èƒ½åˆ©ç”¨ä¸Šè¿°è¿ç®—è§„åˆ™æ±‚å¾— $\displaystyle \frac{\partial f}{\partial X}$ã€‚å…¶åŸºæœ¬æ€è·¯ä¸ºï¼šå¯¹ $f$ çš„è¡¨è¾¾å¼æ±‚å…¨å¾®åˆ†ï¼Œå¹¶è®¾æ³•å°†å…¶è½¬åŒ–ä¸º $\mathrm{d}f = \mathrm{expr} \cdot \mathrm{d}X$ çš„å½¢å¼ï¼Œé‚£ä¹ˆ $expr$ å³ä¸ºå¾…æ±‚å¯¼æ•°çš„è¡¨è¾¾å¼</strong>ã€‚</p><h3 id="ç®—ä¾‹æ¼”ç¤º">ç®—ä¾‹æ¼”ç¤º</h3><h4 id="ä¾‹-1">ä¾‹ 1</h4><p>è®¾ $\displaystyle y=\boldsymbol{a}^T X \boldsymbol{b}$ï¼Œæ±‚ $\displaystyle \frac{\partial y}{\partial X}$ã€‚å…¶ä¸­ $\boldsymbol{a}$ ä¸º $m\times 1$ å‘é‡ï¼Œ$X$ ä¸º $m\times n$ çŸ©é˜µï¼Œ$\boldsymbol{b}$ ä¸º $n\times 1$ å‘é‡ï¼Œ$y$ ä¸ºæ ‡é‡ã€‚</p><p>è§£ï¼š</p><p>$$ \begin{aligned}<br>\mathrm{d}y &amp;= \boldsymbol{a}^T \mathrm{d}X \boldsymbol{b} \\<br>&amp;= tr(\boldsymbol{a}^T \mathrm{d}X \boldsymbol{b}) \\<br>&amp;= tr(\boldsymbol{b} \boldsymbol{a}^T \mathrm{d}X) \\<br>&amp;= tr((\boldsymbol{a} \boldsymbol{b}^T)^T \mathrm{d}X) \\<br>&amp;= \boldsymbol{a} \boldsymbol{b}^T \cdot \mathrm{d}X<br>\end{aligned} $$</p><blockquote><p>è¯´æ˜ï¼š</p><ul><li>ç¬¬0æ­¥ï¼šå¯¹ $y$ æ±‚å…¨å¾®åˆ†ï¼›</li><li>ç¬¬1æ­¥ï¼šæ ‡é‡å¥—ä¸Šè¿¹ï¼›</li><li>ç¬¬2æ­¥ï¼šè¿¹è¿ç®—å†…äº¤æ¢ $\boldsymbol{a}^T \mathrm{d}X$ ä¸ $\boldsymbol{b}$ï¼›</li><li>ç¬¬3æ­¥ï¼šçŸ©é˜µä¹˜æ³•çš„è½¬ç½®ï¼›</li><li>ç¬¬4æ­¥ï¼šè½¬åŒ–ä¸ºç‚¹ä¹˜å½¢å¼ã€‚</li></ul></blockquote><p>æ ¹æ®å…¬å¼ $(1)$ å¾—åˆ°ï¼š</p><p>$$ \frac{\partial y}{\partial X}=\boldsymbol{a} \boldsymbol{b}^T $$</p><h4 id="ä¾‹-2ï¼šçº¿æ€§å›å½’">ä¾‹ 2ï¼šçº¿æ€§å›å½’</h4><p>çº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°å®šä¹‰ä¸º $\displaystyle l=||X \boldsymbol{w}- \boldsymbol{y}||_2^2$ï¼Œæ±‚ $\boldsymbol{w}$ çš„æœ€å°äºŒä¹˜ä¼°è®¡ï¼Œå³ $\boldsymbol{w}$ ä¸ºä½•å€¼æ—¶ $l$ å¯å–å¾—æœ€å°å€¼ã€‚å…¶ä¸­ $\boldsymbol{y}$ ä¸º $m\times 1$ åˆ—å‘é‡ï¼Œ$X$ ä¸º $m\times n$ çŸ©é˜µï¼Œ$\boldsymbol{w}$ ä¸º $n\times 1$ å‘é‡ï¼Œ$l$ ä¸ºæ ‡é‡ã€‚</p><p>è§£ï¼šè¦æ±‚æå°å€¼ï¼Œåªéœ€æ‰¾åˆ° $\displaystyle \frac{\partial l}{\partial \boldsymbol{w}}$ çš„é›¶ç‚¹ã€‚</p><p>æˆ‘ä»¬çš„è¿ç®—è§„åˆ™ä¸­å¹¶æœªå®šä¹‰äºŒé˜¶èŒƒæ•°çš„å¾®åˆ†ï¼Œä½†æ ¹æ®å‘é‡èŒƒæ•°çš„å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒè¡¨ç¤ºæˆå†…ç§¯çš„å½¢å¼ï¼š</p><p>$$ l=(X \boldsymbol{w}- \boldsymbol{y})\cdot(X \boldsymbol{w}- \boldsymbol{y})=(X \boldsymbol{w}- \boldsymbol{y})^T(X \boldsymbol{w}- \boldsymbol{y}) $$</p><p>æ¥ä¸‹æ¥ï¼Œæ±‚ $l$ å¯¹ $\boldsymbol{w}$ çš„å¾®åˆ†ï¼š</p><p>$$ \begin{aligned}<br>\mathrm{d}l &amp;= \mathrm{d}(X \boldsymbol{w}- \boldsymbol{y})^T(X \boldsymbol{w}- \boldsymbol{y}) + (X \boldsymbol{w}- \boldsymbol{y})^T \mathrm{d}(X \boldsymbol{w}- \boldsymbol{y}) \\<br>&amp;= (X \mathrm{d}\boldsymbol{w})^T(X \boldsymbol{w}- \boldsymbol{y})+(X \boldsymbol{w}- \boldsymbol{y})^T(X \mathrm{d}\boldsymbol{w}) \\<br>&amp;= 2(X \boldsymbol{w}- \boldsymbol{y})^T X \mathrm{d}\boldsymbol{w} \\<br>&amp;= 2X^T(X \boldsymbol{w}- \boldsymbol{y})\cdot \mathrm{d}\boldsymbol{w}<br>\end{aligned} $$</p><blockquote><p>è¯´æ˜ï¼š</p><ul><li>ç¬¬2æ­¥ï¼šåŠ å·å‰åä¸¤é¡¹å‡ä¸ºæ ‡é‡ï¼Œæ‰€ä»¥å¯¹ç¬¬ä¸€é¡¹åŠ ä¸Šè½¬ç½®ï¼Œç»“æœä¸å˜ã€‚</li><li>ç¬¬3æ­¥ï¼šæ ‡é‡å¥—ä¸Šè¿¹è¿ç®—ï¼Œç„¶åè½¬åŒ–ä¸ºç‚¹ç§¯ã€‚</li></ul></blockquote><p>æ ¹æ®å…¬å¼ $(1)$ å¯å¾—ï¼š</p><p>$$ \frac{\partial l}{\partial \boldsymbol{w}}=2X^T(X \boldsymbol{w}- \boldsymbol{y}) $$</p><p>ä»¤ $\displaystyle \frac{\partial l}{\partial \boldsymbol{w}}=\boldsymbol{0}$ å¾—ï¼ˆåŠ ç²—çš„ $\boldsymbol{0}$ ä»£è¡¨é›¶å‘é‡ï¼Œå…¶å½¢çŠ¶ä¸ $\boldsymbol{w}$ ç›¸åŒï¼‰ï¼š</p><p>$$ \boldsymbol{w}=(X^T X)^{-1}X^T \boldsymbol{y} $$</p><h4 id="ä¾‹-3ï¼šå¤šå…ƒé€»è¾‘å›å½’">ä¾‹ 3ï¼šå¤šå…ƒé€»è¾‘å›å½’</h4><p>å¤šå…ƒé€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°ä¸º $\displaystyle l=-\boldsymbol{y}^T \log (\mathrm{softmax}(W \boldsymbol{x}))$ï¼Œæ±‚ $\displaystyle \frac{\partial l}{\partial W}$ã€‚å…¶ä¸­ï¼Œ$\boldsymbol{y}$ ä¸º $m\times 1$ çš„ one-hot å‘é‡ï¼ˆå³é™¤ä¸€ä¸ªå…ƒç´ ä¸º 1 å¤–ï¼Œå…¶ä»–å…ƒç´ å‡ä¸º 0ï¼‰ï¼Œ$W$ ä¸º $m\times n$ çŸ©é˜µï¼Œ$\boldsymbol{x}$ ä¸º $n\times 1$ å‘é‡ï¼Œ$l$ ä¸ºæ ‡é‡ã€‚$\displaystyle \mathrm{softmax}(a)=\frac{\mathrm{exp}(\boldsymbol{a})}{\boldsymbol{1}^T\mathrm{exp}(\boldsymbol{a})}$ï¼Œå…¶ä¸­ $\displaystyle \mathrm{exp}(\boldsymbol{\cdot})$ è¡¨ç¤ºé€å…ƒç´ æ±‚æŒ‡æ•°ï¼Œ$\boldsymbol{1}$ ä»£è¡¨å…¨ 1 å‘é‡ã€‚</p><p>è§£ï¼šé¦–å…ˆå°† $\mathrm{softmax}$ çš„è¡¨è¾¾å¼ä»£å…¥ï¼š</p><p>$$ l=-\boldsymbol{y}^T(\log(\mathrm{exp}(W\boldsymbol{x}))- \boldsymbol{1}\log(\boldsymbol{1}^T\mathrm{exp}(W \boldsymbol{x})))=-\boldsymbol{y}^T W \boldsymbol{x}+\log(\boldsymbol{1}^T\mathrm{exp}(W \boldsymbol{x})) $$</p><p>è¿™é‡Œç”¨åˆ°äº† 2 ä¸ªç­‰å¼ï¼š</p><p>$$ \log(\frac{\boldsymbol{v}}{c})=\log(\boldsymbol{v})- \boldsymbol{1}\logÂ© $$ $$ \boldsymbol{y}^T \boldsymbol{1}=1 $$</p><p>æ¥ä¸‹æ¥æ±‚ $l$ å¯¹ $W$ çš„å…¨å¾®åˆ†ï¼š</p><p>$$ \begin{aligned}<br>\mathrm{d}l &amp;= -\boldsymbol{y}^T\mathrm{d}W \boldsymbol{x}+\frac{\boldsymbol{1}^T(\mathrm{exp}(W \boldsymbol{x})\odot(\mathrm{d}W \boldsymbol{x}))}{\boldsymbol{1}^T\mathrm{exp}(W \boldsymbol{x})}<br>\end{aligned} $$</p><blockquote><p>è¯´æ˜ï¼šæ³¨æ„é€å…ƒç´ å‡½æ•° $\mathrm{exp}(\cdot)$ çš„å¾®åˆ†å˜æ¢</p></blockquote><p>ç”±äº</p><p>$$ \begin{aligned}<br>\boldsymbol{1}^T(\mathrm{exp}(W \boldsymbol{x})\odot(\mathrm{d}W \boldsymbol{x})) &amp;= \boldsymbol{1}\cdot(\mathrm{exp}(W \boldsymbol{x})\odot(\mathrm{d}W \boldsymbol{x})) \\<br>&amp;= (\boldsymbol{1}\odot\mathrm{exp}(W \boldsymbol{x}))\cdot \mathrm{d}W \boldsymbol{x} \\<br>&amp;= \mathrm{exp}(W \boldsymbol{x})\cdot \mathrm{d}W \boldsymbol{x} \\<br>&amp;= \mathrm{exp}(W \boldsymbol{x})^T \mathrm{d}W \boldsymbol{x}<br>\end{aligned} $$</p><blockquote><p>è¯´æ˜ï¼šåˆ©ç”¨ç‚¹ä¹˜ä¸é€å…ƒç´ ä¹˜æ³•çš„ç»“åˆå¾‹</p></blockquote><p>æ•…</p><p>$$ \begin{aligned}<br>\mathrm{d}l &amp;= -\boldsymbol{y}^T\mathrm{d}W \boldsymbol{x}+\frac{\mathrm{exp}(W \boldsymbol{x})^T \mathrm{d}W \boldsymbol{x}}{\boldsymbol{1}^T\mathrm{exp}(W \boldsymbol{x})} \\<br>&amp;= (-\boldsymbol{y}^T+\mathrm{softmax}(W \boldsymbol{x})^T)\mathrm{d}W \boldsymbol{x} \\<br>&amp;= tr((\mathrm{softmax}(W \boldsymbol{x})-\boldsymbol{y})^T \mathrm{d}W\boldsymbol{x}) \\<br>&amp;= tr(\boldsymbol{x}(\mathrm{softmax}(W \boldsymbol{x})-\boldsymbol{y})^T \mathrm{d}W) \\<br>&amp;= (\mathrm{softmax}(W \boldsymbol{x})-\boldsymbol{y})\boldsymbol{x}^T \cdot \mathrm{d}W<br>\end{aligned} $$</p><p>æ‰€ä»¥ï¼š</p><p>$$ \frac{\partial l}{\partial W}=(\mathrm{softmax}(W \boldsymbol{x})-\boldsymbol{y})\boldsymbol{x}^T $$</p><h2 id="çŸ©é˜µå¯¹çŸ©é˜µçš„å¯¼æ•°">çŸ©é˜µå¯¹çŸ©é˜µçš„å¯¼æ•°</h2><p>æœªå®Œå¾…ç»­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çº¿æ€§ä»£æ•° </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹å·¥ä½œæµ</title>
      <link href="/posts/8247595/"/>
      <url>/posts/8247595/</url>
      
        <content type="html"><![CDATA[<p>è¿œç¨‹å·¥ä½œçš„éœ€æ±‚æ— éä¸¤ä¸ªï¼š</p><ol><li>è¿œç¨‹æ‰§è¡Œå‘½ä»¤ã€‚</li><li>åœ¨è¿œç¨‹ä¸æœ¬åœ°ä¹‹é—´è¿›è¡Œæ–‡ä»¶çš„åŒå‘ä¼ è¾“ã€‚</li></ol><p>æ‰€æœ‰çš„è¿œç¨‹å·¥ä½œæµéƒ½éœ€è¦è€ƒè™‘å¦‚ä½•æé«˜è¿™ä¸¤ä¸ªæ“ä½œçš„æ•ˆç‡ã€‚</p><span id="more"></span><h2 id="1-ä¸€èˆ¬è¿œç¨‹å·¥ä½œæµ">1. ä¸€èˆ¬è¿œç¨‹å·¥ä½œæµ</h2><p>å¯¹äºä¸€èˆ¬çš„è¿œç¨‹æœºå™¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ ssh è¿›è¡Œè¿æ¥å’Œæ“ä½œï¼Œå¹¶ä½¿ç”¨ <code>scp</code> å‘½ä»¤æˆ– SFTP å®¢æˆ·ç«¯å®ç°åŒå‘æ–‡ä»¶äº¤æ¢ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç™»å½•å¼€å‘æœº</span></span><br><span class="line">ssh dest_host</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">scp path/to/local_file dest_host:path/to/remote_file</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line">scp dest_host:path/to/remote_file path/to/local_file</span><br></pre></td></tr></table></figure><p>æœ‰å¾ˆå¤šå¯è§†åŒ–çš„ SFTP å·¥å…·èƒ½å¤Ÿä»£æ›¿ <code>scp</code> å‘½ä»¤å®Œæˆæ–‡ä»¶åŒå‘ä¼ è¾“ï¼Œéå¸¸æ–¹ä¾¿ï¼Œä¾‹å¦‚ WinSCPã€Xmanager ç­‰ã€‚</p><p>ä¸»æµçš„æ–‡æœ¬ç¼–è¾‘å™¨ä¹Ÿéƒ½æä¾›äº†å¯¹ SFTP çš„æ’ä»¶æ”¯æŒï¼Œä¾‹å¦‚ï¼š</p><ul><li>Sublime Text: <a href="https://wbond.net/sublime_packages/sftp">SFTP</a>ã€‚</li><li>VSCode: <a href="https://marketplace.visualstudio.com/items?itemName=liximomo.sftp">sftp</a>ã€‚</li></ul><p>å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä¸Šä¼ ã€ä¸‹è½½ã€åˆ é™¤ã€ç¼–è¾‘è¿œç¨‹æ–‡ä»¶ã€‚</p><h2 id="2-ä¸­ç»§æœºä¸‹çš„è¿œç¨‹å·¥ä½œæµ">2. ä¸­ç»§æœºä¸‹çš„è¿œç¨‹å·¥ä½œæµ</h2><p>è€ƒè™‘åˆ°å®‰å…¨åŸå› ï¼Œå…¬å¸å¸¸å¸¸ä¼šå¯¹è¿œç¨‹å¼€å‘æœºçš„å…¥å£åšé™åˆ¶ï¼Œæƒ³è¦è¿æ¥å¼€å‘æœºå¿…é¡»ä»¥ä¸€ä¸ªä¸­ç»§æœºå™¨ä½œä¸ºä¸­ä»‹ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸¤æ¬¡ ssh è¿æ¥ï¼šé¦–å…ˆè¿æ¥åˆ°ä¸­ç»§æœºï¼Œç„¶åä»ä¸­ç»§æœºè¿æ¥åˆ°å¼€å‘æœºã€‚</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç™»å½•åˆ°ä¸­ç»§æœº</span></span><br><span class="line">ssh relay_host</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç°åœ¨æˆ‘ä»¬å·²ç»åœ¨ä¸­ç»§æœºä¸Šâ€¦</span></span><br><span class="line"><span class="comment"># ç™»å½•å¼€å‘æœº</span></span><br><span class="line">ssh dest_host</span><br></pre></td></tr></table></figure><p>ä¸­ç»§æœºçš„å­˜åœ¨é™¤äº†é€ æˆç™»å½•æ›´å¤æ‚ä¹‹å¤–ï¼Œä¹Ÿä½¿å¾—æ–‡ä»¶ä¼ è¾“æ›´éš¾å®ç°ï¼Œå› ä¸ºç»å¤§å¤šæ•° SFTP å·¥å…·éƒ½æ²¡æœ‰ä¸­ç»§åŠŸèƒ½ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹æ— æ³•ä½¿ç”¨ã€‚</p><p>æŒ‰ç…§ä¼ ç»Ÿçš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸¤æ¬¡ <code>scp</code> å‘½ä»¤æ¥å®Œæˆä¸€æ¬¡æ–‡ä»¶ä¸Šä¼ æ“ä½œï¼šé¦–å…ˆä»æœ¬åœ°ä¸Šä¼ åˆ°ä¸­ç»§æœºï¼Œç„¶åä»ä¸­ç»§æœºä¸Šä¼ åˆ°å¼€å‘æœºã€‚ä½†æ˜¯è¿™ç§æ–¹å¼æ˜¾ç„¶å¤ªå¤æ‚äº†ï¼Œè€Œä¸”å¤§éƒ¨åˆ†ä¸­ç»§æœºå¯¹å®‰å…¨çš„è¦æ±‚éå¸¸è‹›åˆ»ï¼Œåªå…è®¸ä½¿ç”¨ <code>ssh</code> å‘½ä»¤ï¼Œå¯¼è‡´ <code>scp</code> æ–¹å¼å¤±æ•ˆã€‚</p><p>æ­¤æ—¶æˆ‘ä»¬æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹æ¡ˆæ¥å®ç°æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ï¼š</p><h3 id="2-1-SSH-éš§é“">2.1 SSH éš§é“</h3><p>ä¸ºäº†é¿å…é‡å¤æ€§çš„ä¸­ç»§å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ© <code>ssh</code> æä¾›çš„â€œéš§é“â€åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½å¯ä»¥é€è¿‡ä»»æ„æ•°é‡çš„ä¸­ç»§æœºï¼Œåœ¨æœ¬åœ°æœºå™¨ä¸ç›®æ ‡æœºå™¨ä¹‹é—´å»ºç«‹ä¸€æ¡â€œéš§é“â€ã€‚å› æ­¤ï¼Œæ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½ä¾ç„¶å¯ä»¥é€šè¿‡æœ¬åœ°æœºå™¨ä¸Šçš„ä¸€æ¡å‘½ä»¤å®Œæˆã€‚</p><p>åŒæ—¶ï¼ŒSSH éš§é“æœ‰ä¸€ä¸ªå·¨å¤§çš„å¥½å¤„ï¼šæ‰€æœ‰çš„ SFTP å·¥å…·ä¾ç„¶å¯ç”¨ï¼Œå› ä¸ºéš§é“å¯¹å¤–éƒ¨æ˜¯é€æ˜çš„ã€‚</p><blockquote><p>å…³äºéš§é“åŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹ <code>ssh</code> å¸®åŠ©æ‰‹å†Œä¸­çš„ <code>-ProxyJump</code>ã€<code>-ProxyCommand</code>ã€<code>-R</code>ã€<code>-L</code> ç­‰å‚æ•°çš„ç”¨æ³•ã€‚</p></blockquote><p>ä¸è¿‡ä½¿ç”¨è¯¥æ–¹æ¡ˆæœ‰ä¸¤ä¸ªå‰æï¼š</p><ol><li>ssh ç‰ˆæœ¬å¿…é¡»è¶³å¤Ÿæ–°ï¼Œä»¥æ”¯æŒéš§é“åŠŸèƒ½ï¼ˆOpenSSH 7.3 +ï¼‰ã€‚</li><li>ä¸­ç»§æœºå¿…é¡»å…è®¸ TCP è½¬å‘ã€‚</li></ol><p>ä½†ä¸å¹¸çš„æ˜¯ï¼Œå¾ˆå¤šä¸­ç»§æœºå¯¹å®‰å…¨çš„è¦æ±‚éå¸¸è‹›åˆ»ï¼Œä¸å…è®¸ TCP è½¬å‘ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯¥æ–¹æ¡ˆæ— æ³•å·¥ä½œã€‚</p><h3 id="2-2-szrz-å·¥å…·">2.2 szrz å·¥å…·</h3><p>szrz æ˜¯ä¸€ä¸ªè½»é‡ã€ä¾¿æ·çš„è§£å†³æ–¹æ¡ˆï¼Œå…¶å†…éƒ¨é‡‡ç”¨çš„ ZModem åè®®éå¸¸åº•å±‚ï¼Œå¯¹ä¸­ç»§æœºæ˜¯é€æ˜çš„ã€‚å› æ­¤ szrz æ˜¯ä¸­ç»§æœºç¯å¢ƒä¸‹æ–‡ä»¶ä¼ è¾“é—®é¢˜çš„å¤©ç„¶è§£å†³æ–¹æ¡ˆã€‚</p><p>szrz å®¹æ˜“ä½¿ç”¨ï¼Œé…ç½®å®Œæˆåï¼Œåœ¨<strong>å¼€å‘æœº</strong>çš„æ§åˆ¶å°ä¸­ä½¿ç”¨ <code>sz</code> å‘½ä»¤ä¸‹è½½æ–‡ä»¶ï¼Œ<code>rz</code> å‘½ä»¤ä¸Šä¼ æ–‡ä»¶ï¼ŒåŒæ ·å¯ä»¥é€è¿‡ä»»æ„æ•°é‡çš„ä¸­ç»§æœºã€‚</p><p>ä½† szrz æœ‰ä¸¤ä¸ªä¸¥é‡å¼Šç«¯ï¼š</p><ol><li>ä¸æ”¯æŒå¤§æ–‡ä»¶ä¼ è¾“ï¼ˆè¶…è¿‡ 30MB çš„æ–‡ä»¶å°±ä¼šæŠŠæ§åˆ¶å°å¡æ­»ï¼‰ã€‚</li><li>ä¸§å¤±äº† SSH åè®®çš„ä¸€åˆ‡å¥½å¤„ï¼Œæ¯”å¦‚å®‰å…¨æ€§ã€ä¸°å¯Œçš„ SFTP å·¥å…·ç­‰ã€‚</li></ol><h3 id="2-3-ä¸ä½¿ç”¨-SSHï¼Œè€Œæ˜¯å€ŸåŠ©-FTPã€HTTP-ç­‰å…¶ä»–åè®®">2.3 ä¸ä½¿ç”¨ SSHï¼Œè€Œæ˜¯å€ŸåŠ© FTPã€HTTP ç­‰å…¶ä»–åè®®</h3><p>æ—¢ç„¶ SSH åè®®è¢«ä¸­ç»§æœºé™åˆ¶äº†ï¼Œé‚£æˆ‘ä»¬ä¸å¦‚å¦ç«‹é—¨æˆ·ï¼Œå€ŸåŠ© FTPã€HTTP ç­‰å…¶ä»–åè®®æ¥å®ç°æ–‡ä»¶ä¼ è¾“ã€‚è€ƒè™‘åˆ° FTP å¤©ç„¶é€‚åˆé™æ€æ–‡ä»¶æœåŠ¡ï¼Œæ¯” HTTP é«˜æ•ˆå¾ˆå¤šï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬é€‰æ‹©æ­å»º FTP æœåŠ¡ã€‚</p><p>FTPã€HTTP æœåŠ¡å™¨æ˜¯éå¸¸æˆç†Ÿã€ç¨³å®šçš„æŠ€æœ¯ï¼ŒåŸºæœ¬ä¸Šéšæ„æŒ‘é€‰ä¸€æ¬¾å·¥å…·éƒ½å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚æˆ‘ä»¬ä»¥ <a href="https://github.com/giampaolo/pyftpdlib">pyftpdlib</a> ä¸ºä¾‹ï¼š</p><ul><li>åœ¨å¼€å‘æœºä¸Šå®‰è£… FTP å·¥å…·ï¼š</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyftpdlib</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨ FTP æœåŠ¡</li></ul><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m pyftpdlib <span class="comment"># and many other options ...</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å®é™…åœ¨ç”¨çš„å¯åŠ¨å‘½ä»¤ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è€ƒè™‘å®‰å…¨å› ç´ ï¼Œå¯è®¾ç½®ç”¨æˆ·åå’Œå¯†ç </span></span><br><span class="line">python -m pyftpdlib --directory /home/work/ --port 8888 -r 8000-9000 --user username --password ****** --write</span><br></pre></td></tr></table></figure><p>FTP æœåŠ¡éå¸¸ç¨³å®šï¼Œæå°‘å‡ºé”™ï¼Œå› æ­¤ä½ å¯ä»¥æŠŠä¸Šè¿°å‘½ä»¤æ”¾åˆ°åå°æ‰§è¡Œï¼Œå¹¶ä¸”ä¸¢å¼ƒå…¶æ—¥å¿—ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> python -m pyftpdlib ...blahblah... &gt;/dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure><p>å¼€å‘æœºé…ç½®å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½æ“ä½œäº†ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line">curl ftp://dest_host:8888/tmp/test.tar.gz -o test.tar.gz -u username:******</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">curl -T test.tar.gz ftp://dest_host:8888/tmp/test.tar.gz -u username:******</span><br></pre></td></tr></table></figure><p>FTP è§£å†³æ–¹æ¡ˆçš„ä¼˜åŠ¿å¦‚ä¸‹ï¼š</p><ol><li>æ”¯æŒå¤§æ–‡ä»¶ï¼Œå¹¶ä¸”ä¼ è¾“é€Ÿåº¦æ˜¯ä¸‰ç§æ–¹æ¡ˆä¸­æœ€å¿«çš„ã€‚</li><li>å¤©ç„¶æ”¯æŒå¯è§†åŒ–ï¼Œå¯ç›´æ¥æŠŠ ftp åœ°å€è¾“å…¥æµè§ˆå™¨æŸ¥çœ‹ã€ä¸‹è½½æ–‡ä»¶ã€‚</li><li>å®‰å…¨æ€§ï¼šæ¯” SSH ç¨å¼±ï¼Œä½†è€ƒè™‘åˆ°å¼€å‘æœºä»…å…¬å¸å†…ç½‘å¯è§ï¼Œå› æ­¤å¹¶ä¸éœ€è¦è¿‡åº¦æ‹…å¿§ã€‚</li><li>FTP ä¸ SFTP ä¸€æ ·ï¼Œæœ‰ç€ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹å·¥å…·å¯ç”¨ã€‚</li></ol><h2 id="3-ç»ˆæè¿œç¨‹å·¥ä½œæµï¼šå®ç°è¿œç¨‹å®æ—¶ç¼–è¾‘">3. ç»ˆæè¿œç¨‹å·¥ä½œæµï¼šå®ç°è¿œç¨‹å®æ—¶ç¼–è¾‘</h2><p>æ–‡ä»¶çš„ä¸Šä¼ ä¸‹è½½å…¶å®æ˜¯ä¸ªä½é¢‘éœ€æ±‚ï¼Œè¿œç¨‹å®æ—¶ç¼–è¾‘å¼€å‘æœºä¸Šçš„æ–‡ä»¶æ‰æ˜¯çœŸæ­£çš„ç—›ç‚¹ï¼Œè¿™æ ·å°±å®ç°äº†è¿œç¨‹å·¥ä½œç©ºé—´ï¼ˆremote workspaceï¼‰ã€‚åœ¨è¿™ä¸ªéœ€æ±‚ä¸Šï¼ŒSSH éš§é“å’Œ FTP è§£å†³æ–¹æ¡ˆæ›´èƒ½å……åˆ†æç°å…¶ä¼˜è¶Šæ€§ã€‚</p><p>ç›®å‰ä¸»æµçš„æ–‡æœ¬ç¼–è¾‘å™¨éƒ½æ”¯æŒ SFTPã€FTP ç­‰æ’ä»¶ï¼Œæ¯”å¦‚ï¼š</p><ul><li>Sublime Text: <a href="https://wbond.net/sublime_packages/sftp">SFTP</a>ã€‚</li><li>VSCode: <a href="https://marketplace.visualstudio.com/items?itemName=liximomo.sftp">sftp</a>ã€<a href="https://marketplace.visualstudio.com/items?itemName=lukasz-wronski.ftp-sync">ftp-sync</a>ã€‚</li></ul><p>è¿™äº›æ’ä»¶å¯ä»¥åœ¨æœ¬åœ°ç›®å½•å’Œè¿œç¨‹ SFTP/FTP ç›®å½•ä¹‹é—´å»ºç«‹æ˜ å°„ï¼Œä»è€Œå®ç°è¿œç¨‹å®æ—¶ç¼–è¾‘å¼€å‘æœºä¸Šçš„ä»£ç ï¼ˆä»¥ä¸‹å›¾ç‰‡å¼•è‡ª Sublime Text SFTPï¼‰ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190921224609.png" alt="Mapping a Folder to a Remote"></p><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸åšå®æ—¶æ˜ å°„ï¼Œè€Œæ˜¯ä½¿ç”¨æ‰‹åŠ¨æ–¹å¼åŒæ­¥æœ¬åœ°å’Œè¿œç¨‹çš„ä»£ç ï¼š</p><p><img src="https://raw.githubusercontent.com/hzhu212/image-store/master/blog/20190921224708.png" alt="Editor Menu"></p><p>åœ¨è¿™ç§å·¥ä½œæµä¸‹ï¼Œç¼–è¾‘è¿œç¨‹æœºå™¨ä¸Šçš„ä»£ç ä¸ç¼–è¾‘æœ¬åœ°ä»£ç æ²¡æœ‰ä»»ä½•å·®åˆ«ã€‚</p><p>ç›¸æ¯”å¦‚ä¸‹ä¸¤ç§å·¥ä½œæµï¼š</p><ul><li>æœ¬åœ°ç¼–è¾‘ä»£ç -&gt;ä¸Šä¼ åˆ°å¼€å‘æœº-&gt;å‘ç°é—®é¢˜-&gt;é‡å¤ä»¥ä¸Šä¸‰æ­¥ï¼ˆæˆ–ä½¿ç”¨ vim åšç®€å•ä¿®æ”¹ï¼‰</li><li>ç™»å½•å¼€å‘æœº-&gt;ä½¿ç”¨ vim ç¼–è¾‘ä»£ç ï¼ˆè¿™ç§æ–¹å¼çš„å¼Šç«¯æ˜¯ä¸å¤Ÿå·¥ç¨‹åŒ–ï¼Œå¤§ä»£ç é‡éš¾ä»¥ç®¡æ§ï¼‰</li></ul><p>remote workspace å·¥ä½œæµæœ‰ç€å¯è§†åŒ–ç¼–è¾‘å™¨çš„åŠ æˆï¼Œåœ¨å®è·µä¸­å¯ä»¥å¤§å¤§æé«˜å¼€å‘æ•ˆç‡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è¿œç¨‹ </tag>
            
            <tag> ssh </tag>
            
            <tag> szrz </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç¼–ç ä¸ä¹±ç ä¹‹è¿½æ ¹æº¯æº</title>
      <link href="/posts/b2d70b72/"/>
      <url>/posts/b2d70b72/</url>
      
        <content type="html"><![CDATA[<p>ä¹±ç é—®é¢˜æ˜¯ä¸ä½†æ˜¯æ–°æ‰‹ç¨‹åºå‘˜ä¹‹ç—›ï¼Œä¹Ÿå¸¸å¸¸è®©è®¸å¤šèµ„æ·± coder æŸæ‰‹æ— ç­–ã€‚æœ¬æ–‡æ¢è®¨ç¼–ç çš„æ¦‚å¿µã€ä¹±ç çš„åŸç†ï¼Œä»¥åŠä¹±ç é—®é¢˜çš„åˆ†æä¸è§£å†³ã€‚</p><span id="more"></span><blockquote><p>æ³¨ï¼šæœ¬æ–‡çš„æ‰€æœ‰æˆªå›¾å’Œå®éªŒå‡ä»¥ Sublime Text ä¸ºä¾‹ï¼Œå…¶ä»–ç¼–è¾‘å™¨æˆ– IDE åœ¨åŸç†ä¸Šç±»ä¼¼ã€‚</p></blockquote><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯ç¼–ç ï¼Ÿ">ä¸€ã€ä»€ä¹ˆæ˜¯ç¼–ç ï¼Ÿ</h2><p>ä»€ä¹ˆæ˜¯ç¼–ç ï¼Ÿè¿™è¦ä»ã€Œæ–‡ä»¶ã€çš„æ¦‚å¿µè¯´èµ·ã€‚æ ¹æ®å‘ˆç°å½¢å¼ï¼Œæ–‡ä»¶å¯åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šã€Œæ–‡æœ¬æ–‡ä»¶ã€å’Œã€ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€ã€‚</p><p>äºŒè€…çš„åŒºåˆ«éå¸¸æ˜æ˜¾ï¼Œæ–‡æœ¬æ–‡ä»¶ä¸­ä¿å­˜çš„æ˜¯å„ç§å­—ç¬¦ï¼ŒåŒ…æ‹¬è‹±æ–‡å­—æ¯å¦‚ <code>abc</code>ã€æ±‰å­—å¦‚ <code>ä½ å¥½</code>ã€æ—¥æ–‡å¦‚ <code>ã“ã‚“ã«ã¡ã¯</code> ç­‰ï¼›è€ŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ä¿å­˜çš„åˆ™æ˜¯ <code>0101</code> ç­‰äºŒè¿›åˆ¶æ•°å€¼ã€‚å¦‚æœä½ ç”¨ Sublime Text åˆ†åˆ«æ‰“å¼€æ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£ä¹ˆå®ƒä»¬å‘ˆç°çš„æ ·å­å¤§è‡´å¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-265e9519743cafd6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ–‡æœ¬æ–‡ä»¶ä¸äºŒè¿›åˆ¶æ–‡ä»¶"></p><blockquote><p>æ³¨ï¼šæˆ‘ä»¬ä¹ æƒ¯é‡‡ç”¨åå…­è¿›åˆ¶çš„æ–¹å¼ç®€åŒ–äºŒè¿›åˆ¶æ•°æ®çš„æ˜¾ç¤ºï¼Œè¿™æ ·å¯¹äººç±»ç”¨æˆ·ç¨å¾®å‹å¥½ä¸€äº›ï¼Œé¿å…äº†è¿‡é•¿çš„ <code>0-1</code> ä¸²ä½¿å¾—äººä»¬çœ¼èŠ±ç¼­ä¹±ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆä¼šäº§ç”Ÿè¿™ä¸¤ç§ç±»å‹çš„æ–‡ä»¶å‘¢ï¼Ÿä¸€ä¸ªéå¸¸ç›´æ¥çš„åŸå› æ˜¯ï¼Œæ–‡æœ¬æ–‡ä»¶ä¸»è¦æ˜¯ç»™äººç±»ç”¨æˆ·çœ‹çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬å¸¸ä½¿ç”¨çš„ txtã€markdown æ–‡ä»¶ï¼Œå„ç§ä»£ç æ–‡ä»¶å¦‚ <code>.cpp</code>ã€<code>.java</code>ã€<code>.py</code>ã€<code>.js</code> ç­‰ï¼Œä»¥åŠå„ç§é…ç½®æ–‡ä»¶å¦‚ <code>.ini</code>ã€<code>.json</code> ç­‰ï¼›è€ŒäºŒè¿›åˆ¶æ–‡ä»¶åˆ™æ˜¯ç»™æ“ä½œç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºçœ‹çš„ï¼Œå¦‚ <code>.exe</code> äº¤ç»™ Windows ç³»ç»Ÿæ‰§è¡Œã€Word æ–‡æ¡£äº¤ç»™ Office Word è½¯ä»¶æ‰“å¼€ã€<code>.class</code> æ–‡ä»¶äº¤ç»™ java è™šæ‹Ÿæœºæ‰§è¡Œï¼Œè®¸å¤šåº”ç”¨ç¨‹åºéƒ½ä¼šè®¾è®¡è‡ªå·±ä¸“ç”¨çš„äºŒè¿›åˆ¶æ–‡ä»¶æ ¼å¼ã€‚</p><p>å°½ç®¡æˆ‘ä»¬æŠŠæ–‡ä»¶åˆ†ä¸ºæ–‡æœ¬æ–‡ä»¶å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ä¸¤ç§ç±»å‹ï¼Œä½†ä»è®¡ç®—æœºç¡¬ä»¶å±‚é¢ä¸Šæ¥çœ‹ï¼Œå®ƒåªèƒ½å­˜å‚¨ <code>0101</code> è¿™æ ·çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œä¸å¯èƒ½ç›´æ¥å­˜å‚¨ <code>abc</code> è¿™æ ·çš„å­—ç¬¦ã€‚é‚£ä¹ˆè¯¥å¦‚ä½•è§£é‡Šæ–‡æœ¬æ–‡ä»¶çš„å­˜åœ¨å‘¢ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œä»å­˜å‚¨æ–¹å¼ä¸Šæ¥çœ‹ï¼Œæ–‡ä»¶ç¡®å®åªæœ‰ä¸€ç§ç±»å‹ï¼Œé‚£å°±æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ã€‚è‡³äºæ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒåªæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µã€‚åœ¨è®¡ç®—æœºæœ€åˆå‘æ˜çš„æ—¶å€™ï¼Œç¡®å®åªæœ‰äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé‚£æ—¶çš„äººä»¬é€šè¿‡ã€Œæ‰“å­”çš„çº¸å¸¦ã€ä½œä¸ºå­˜å‚¨ç¨‹åºçš„è½½ä½“ï¼Œè€Œçº¸å¸¦ä¸Šå°å­”çš„æœ‰æ— å°±ä»£è¡¨äºŒè¿›åˆ¶çš„ 1 å’Œ 0ã€‚é‚£æ—¶å€™çš„è®¡ç®—æœºæ ¹æœ¬æ²¡æœ‰å­—ç¬¦çš„æ¦‚å¿µï¼Œæ›´ä¸è¦è¯´æ–‡æœ¬æ–‡ä»¶ã€‚</p><p>åæ¥ï¼Œäººä»¬ä¸ºäº†æ–¹ä¾¿å°±åˆ¶å®šäº†ä¸€å¥—è§„åˆ™ï¼Œè§„å®šäºŒè¿›åˆ¶æ•°å€¼ <code>01100001</code> ä»£è¡¨å­—ç¬¦ <code>a</code>ã€<code>01100010</code> ä»£è¡¨å­—ç¬¦ <code>b</code>ã€â€¦â€¦ã€<code>01111010</code> ä»£è¡¨å­—ç¬¦ <code>z</code>ã€‚äºæ˜¯ï¼Œæœ€æ—©çš„ç¼–ç ã€ŒASCII ç¼–ç ã€å°±äº§ç”Ÿäº†ã€‚ç°åœ¨ï¼Œå¦‚æœæˆ‘åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å†™å…¥äºŒè¿›åˆ¶æ•°æ® <code>011000010110001001100011</code>ï¼Œä»è¡¨é¢ä¸Šçœ‹ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå¸¸è§„çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ²¡æœ‰ä»»ä½•ç‰¹æ®Šä¹‹å¤„ï¼Œä½†å¦‚æœæˆ‘ç”¨ ASCII ç¼–ç çš„è§„åˆ™å»è§£é‡Šå®ƒï¼Œå°±ä¼šçœ‹åˆ°ä¸€ä¸²å­—ç¬¦ <code>abc</code>ã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºè¿™ä¸ªæ–‡ä»¶æ˜¯æ–‡æœ¬æ–‡ä»¶ã€‚</p><p>ä»ä¸Šé¢çš„æè¿°ä¸­ï¼Œä½ åº”è¯¥å·²ç»å‘ç°ï¼š</p><ul><li><strong>æ‰€è°“çš„ã€Œç¼–ç ã€å°±æ˜¯ä¸€ç§è§„åˆ™ï¼Œå®ƒè§„å®šäº†äºŒè¿›åˆ¶æ•°å€¼ä¸å­—ç¬¦ä¹‹é—´çš„æ˜ å°„å…³ç³»</strong>ï¼›</li><li><strong>æ‰€è°“çš„ã€Œæ–‡æœ¬æ–‡ä»¶ã€å°±æ˜¯ä¸€ç§äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œåªä¸è¿‡èƒ½ç”¨æŸç§ç¼–ç è§£é‡Šå¾—é€š</strong>ã€‚</li></ul><p>è¯´å›åˆ° ASCII ç¼–ç ï¼Œå®ƒä½¿ç”¨ 8 ä¸ªäºŒè¿›åˆ¶ä½â€”â€”ä¹Ÿå°±æ˜¯ 1 ä¸ªå­—èŠ‚æ¥æ˜ å°„ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™æ„å‘³ç€å®ƒæœ€å¤šåªèƒ½æ˜ å°„ <code>2^8=256</code> ä¸ªå­—ç¬¦ã€‚256 ä¸ªå­—ç¬¦å¯¹äºçº¯è‹±æ–‡æ¥è¯´å·²ç»è¶³å¤Ÿäº†ï¼Œä½†ä¸–ç•Œä¸Šçš„è¯­è¨€å¤ªå¤šäº†ï¼Œè¦å›Šæ‹¬è‹±æ–‡ã€å¾·æ–‡ã€æ³•æ–‡ã€ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ã€é˜¿æ‹‰ä¼¯æ–‡ã€å¸Œä¼¯æ¥æ–‡ç­‰æ‰€æœ‰è¯­è¨€æ–‡å­—ï¼Œè‡³å°‘éœ€è¦åå‡ ä¸‡çš„å­—ç¬¦é‡ã€‚éšç€å„ç§æ–‡å­—ä¸æ–­è¢«å¼•å…¥è®¡ç®—æœºï¼Œå­—ç¬¦ç¼–ç çš„é•¿åº¦ä¹Ÿä¸æ–­æ‰©å¼ ï¼Œä» 1 ä¸ªå­—èŠ‚é€æ¸å¢åŠ åˆ° 2 ä¸ªã€3 ä¸ªã€4 ä¸ªå­—èŠ‚ã€‚åŒæ—¶ï¼Œå„ä¸ªç»„ç»‡ã€å„ä¸ªå›½å®¶éƒ½åœ¨åˆ¶å®šè‡ªå·±çš„ç¼–ç ä½“ç³»ï¼Œå½¢æˆäº†é”™ç»¼å¤æ‚çš„ç¼–ç â€œæ–¹è¨€â€ã€‚æœ€ç»ˆï¼Œåˆ°äº† 1994 å¹´ï¼Œäººä»¬ç»ˆäºåˆ¶å®šå‡ºäº†ä¸€å¥—ç»Ÿä¸€çš„ã€æ— æ‰€ä¸åŒ…çš„ç¼–ç â€”â€”Unicode ç¼–ç ï¼Œæˆä¸ºç¼–ç ç•Œçš„â€œä¸–ç•Œè¯­â€ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºä¸‡å›½ç ã€‚</p><p>Unicode ç¼–ç ä½¿ç”¨ 4 ä¸ªå­—èŠ‚æ¥ä¿å­˜å­—ç¬¦æ˜ å°„å…³ç³»ï¼Œå› æ­¤å…±æ”¯æŒ <code>2^(4*8)=4294967296</code> ä¸ªå­—ç¬¦ï¼Œè¿œè¿œè¶…å‡ºäº†åœ°çƒä¸Šæ‰€æœ‰æ–‡å­—çš„æ€»é‡ã€‚è¿™å½»åº•è§£å†³äº†å­—ç¬¦æ•°é‡ä¸å¤Ÿç”¨çš„æ‹…å¿§ï¼Œä½†ä¹Ÿå¸¦æ¥äº†å­˜å‚¨ç©ºé—´çš„æµªè´¹ï¼šå³ä½¿ä»…ä»…ä¿å­˜ä¸€ä¸ªç®€å•çš„è‹±æ–‡å­—æ¯ <code>a</code>ï¼ŒUnicode ç¼–ç ä¹Ÿéœ€è¦ 4 ä¸ªå­—èŠ‚ï¼Œä½†äº‹å®ä¸Šåªéœ€è¦ 1 ä¸ªå­—èŠ‚ï¼ˆASCII ç¼–ç ï¼‰ã€‚å¦‚æœä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ä¸­ç»å¤§éƒ¨åˆ†å­—ç¬¦éƒ½æ˜¯è‹±æ–‡å­—æ¯ï¼Œé‚£ä¹ˆ Unicode å°±æµªè´¹äº† 75% çš„å­˜å‚¨ç©ºé—´ã€‚é‰´äºä¸Šè¿°é—®é¢˜ï¼Œäººä»¬åˆåˆ¶å®šäº†ä¸€ç³»åˆ—â€œæ”¹è‰¯ç‰ˆâ€çš„ Unicode ç¼–ç ï¼ŒåŒ…æ‹¬ UTF-8ã€UTF-16ã€UTF-32 ç­‰ï¼Œå®ƒä»¬åŒæ ·èƒ½å¤Ÿç¼–ç æ‰€æœ‰å·²çŸ¥çš„å­—ç¬¦ï¼Œä½†å ç”¨æ›´å°‘çš„ç©ºé—´ã€‚</p><p>ä»¥ UTF-8 ä¸ºä¾‹ï¼Œå¯¹äºå¸¸è§çš„è‹±æ–‡å­—ç¬¦ï¼Œå®ƒé‡‡ç”¨ 1 ä¸ªå­—èŠ‚ç¼–ç ï¼Œå¸¸è§çš„ä¸­æ–‡ã€æ—¥æ–‡ç­‰å­—ç¬¦é‡‡ç”¨ 2 ä¸ªå­—èŠ‚ï¼Œä¸å¸¸è§çš„ä¸­æ–‡å­—ç¬¦ç­‰é‡‡ç”¨ 3 åˆ° 4 ä¸ªå­—èŠ‚ï¼Œå¯¹äºæä¸å¸¸è§çš„å­—ç¬¦ï¼Œå®ƒä¼šé‡‡ç”¨ 6 ä¸ªå­—èŠ‚è¿›è¡Œç¼–ç ã€‚å› æ­¤ï¼Œåœ¨é€šå¸¸æƒ…å†µä¸‹ï¼ŒUTF-8 ç¼–ç è¦æ¯” Unicode ç¼–ç èŠ‚çœè¶…è¿‡ä¸€åŠçš„ç©ºé—´ã€‚UTF-8 ç¼–ç æ— æ‰€ä¸åŒ…ã€èŠ‚çœç©ºé—´ï¼Œä¸”å…·æœ‰è‰¯å¥½çš„è·¨å¹³å°æ€§ï¼Œå› æ­¤æ¨èä¸€åˆ‡æ–‡æœ¬æ–‡ä»¶éƒ½ä½¿ç”¨ UTF-8 ç¼–ç ã€‚ç›®å‰ï¼Œä¸»æµçš„æ–‡æœ¬ç¼–è¾‘å™¨éƒ½æŠŠ UTF-8 ä½œä¸ºé»˜è®¤ç¼–ç æ–¹å¼ã€‚</p><p>æœ€åè§£é‡Šä¸€ä¸‹æ‰€è°“çš„ã€ŒANSI ç¼–ç ã€ã€‚ANSI ç¼–ç å¸¸è¢«ç§°ä¸ºæ ‡å‡†ç¼–ç ï¼Œä½†å®ƒå¹¶ä¸æ˜¯æŒ‡æŸç§æ˜ç¡®çš„ç¼–ç æ–¹å¼ã€‚ä¸ºäº†æ›´å®¹æ˜“åœ°ç†è§£ ANSI ç¼–ç ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠå®ƒä¸ã€Œå®˜æ–¹è¯­è¨€ã€çš„æ¦‚å¿µåšç±»æ¯”ã€‚æ­£å¦‚ä¸­å›½çš„å®˜æ–¹è¯­è¨€æ˜¯æ±‰è¯­ï¼Œæ—¥æœ¬çš„å®˜æ–¹è¯­è¨€æ˜¯æ—¥è¯­ä¸€æ ·ï¼Œä¸­æ–‡ Windows ç³»ç»Ÿçš„ ANSI ç¼–ç ä¸º GBK ç¼–ç ï¼Œè€Œæ—¥æ–‡ Windows ç³»ç»Ÿçš„ ANSI ç¼–ç ä¸º Shift_JIS ç¼–ç ã€‚æ­£å¦‚ã€Œå®˜æ–¹è¯­è¨€ã€ä¸æ˜¯æŸç§è¯­è¨€ï¼Œã€ŒANSI ç¼–ç ã€ä¹Ÿä¸æ˜¯æŸç§ç¼–ç ï¼Œå®ƒæ˜¯å¦ä¸€ä¸ªç»´åº¦çš„æ¦‚å¿µï¼Œä¸å›½å®¶å’Œåœ°åŒºæœ‰å…³ï¼Œä¸åŒå›½å®¶å’Œåœ°åŒºçš„ ANSI ç¼–ç æ˜¯ä¸å…¼å®¹çš„ã€‚å¯æƒ³è€ŒçŸ¥ï¼Œå¦‚æœéƒ½é‡‡ç”¨ ANSI ç¼–ç ï¼Œé‚£ä¹ˆä¸åŒå›½å®¶çš„å¼€å‘è€…åœ¨äº’ç›¸äº¤æ¢ä»£ç æ—¶å°†éå¸¸ç³Ÿç³•ã€‚å› æ­¤ï¼Œä¸æ¨èä»¥ ANSI ä½œä¸º coding ç¼–ç ã€‚</p><h2 id="äºŒã€ä»€ä¹ˆæ˜¯ä¹±ç ï¼Ÿ">äºŒã€ä»€ä¹ˆæ˜¯ä¹±ç ï¼Ÿ</h2><p>ä»€ä¹ˆæ˜¯ä¹±ç ï¼Ÿç”¨æŸç§ç¼–ç æ–¹å¼å»è§£è¯»ä¸€ä¸ªæ–‡ä»¶ï¼Œå¾—åˆ°äº†æ— æ„ä¹‰çš„å­—ç¬¦ï¼Œè¿™å°±æ˜¯ä¹±ç ã€‚æ‰“ä¸ªé€šä¿—çš„æ¯”æ–¹ï¼šæˆ‘å†™äº†ä¸€æ®µè‹±æ–‡ï¼Œä½ éè¦æŠŠå®ƒå½“ä½œæ‹¼éŸ³æ¥è¯»ï¼Œé‚£ä¹ˆå¾—åˆ°çš„è§£é‡Šå°±æ˜¯æ— æ„ä¹‰çš„ï¼Œå°±ç›¸å½“äºä¹±ç ï¼›åè¿‡æ¥ï¼Œæˆ‘å†™äº†ä¸€æ®µæ‹¼éŸ³ï¼Œä½ éè¦ç”¨è‹±è¯­çš„è¯­æ³•å»è§£é‡Šå®ƒï¼Œä¹Ÿæ˜¯è§£é‡Šä¸é€šçš„ã€‚</p><p>ä¸¾å‡ ä¸ªå®é™…çš„ä¾‹å­ï¼š</p><ul><li>ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¼šå‡ºç°ä¹±ç ï¼š</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/3310969-6a9b408e15b2a0c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶"></p><ul><li>ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ª GBK ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ä¼šå‡ºç°ä¹±ç ï¼š</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/3310969-fe3372bf0f3ae8b8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ª GBK ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶"></p><ul><li>ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ª UTF-8 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶<strong>ä¸ä¼š</strong>ä¹±ç ï¼š</li></ul><p><img src="https://upload-images.jianshu.io/upload_images/3310969-cd751f681341f26c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ç”¨ UTF-8 ç¼–ç æ‰“å¼€ä¸€ä¸ª UTF-8 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶"></p><p>ç»¼ä¸Šï¼Œä¹±ç çš„æ ¹æºå°±æ˜¯<strong>ç¼–ç ä¸è§£ç ç”¨çš„ä¸æ˜¯åŒä¸€å¥—è§„åˆ™</strong>ã€‚ ä½†ä¸ç®¡æ–‡ä»¶æ˜¯å¦ä¹±ç ï¼Œå®ƒé‡Œé¢ä¿å­˜çš„äºŒè¿›åˆ¶æ•°æ®æ€»æ˜¯ä¸å˜çš„ã€‚<strong>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¹±ç å¹¶ä¸æ˜¯æ–‡ä»¶æœ¬èº«æœ‰é—®é¢˜ï¼Œè€Œæ˜¯æ‰“å¼€æ–¹å¼ï¼ˆè§£ç æ–¹å¼ï¼‰ä¸æ­£ç¡®</strong>ã€‚</p><h2 id="ä¸‰ã€ç¼–ç¨‹ä¸­å‡ºç°ä¹±ç çš„åŸå› ä¸ç±»å‹">ä¸‰ã€ç¼–ç¨‹ä¸­å‡ºç°ä¹±ç çš„åŸå› ä¸ç±»å‹</h2><p>æˆ‘ä»¬åœ¨æ—¥å¸¸ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ã€IDEã€å‘½ä»¤è¡Œç­‰ç¼–å†™å’Œæ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°ä¹±ç ç°è±¡ï¼Œè€Œå‡ºç°ä¹±ç çš„åŸå› æ˜¯å¤šç§å¤šæ ·çš„ã€‚è¿™é‡Œè¯•å›¾ä»æ ¹æºä¸Šç†è§£ä¹±ç ï¼Œå¹¶å°†å…¶å½’ç±»ã€‚</p><p>ä¸€èˆ¬ï¼Œæˆ‘ä»¬ç¼–å†™å’Œæ‰§è¡Œç¨‹åºçš„æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ç¼–å†™ä»£ç å¹¶ä¿å­˜ï¼›</li><li>è°ƒç”¨ç¼–è¯‘å™¨ç¼–è¯‘ä»£ç ï¼Œå¹¶æ‰§è¡Œç¨‹åºï¼›</li><li>æŸ¥çœ‹è¾“å‡ºç»“æœã€‚</li></ol><p>åœ¨è¿™çŸ­çŸ­çš„ä¸‰æ­¥æ“ä½œä¸­ï¼Œéšå«ç€ä¸¤æ¬¡ç¼–ç å’Œè§£ç è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ä¸‹å›¾ä¸­çš„è¿‡ç¨‹ 1 å’Œè¿‡ç¨‹ 2ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-1c2dadb42f018c37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä»£ç ç¼–å†™å’Œæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç¼–ç å’Œè§£ç "></p><p>åœ¨è¿‡ç¨‹ 1 å’Œè¿‡ç¨‹ 2 ä¸­ï¼Œä»»æ„ä¸€ä¸ªè¿‡ç¨‹ä¸¤ç«¯çš„ç¼–ç æ–¹å¼éƒ½å¿…é¡»ä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå‡ºç°ä¹±ç ã€‚å…¶ä¸­ï¼Œå¯¹äºã€Œä»£ç æ–‡ä»¶çš„ç¼–ç ã€ä»¥åŠã€Œå±•ç¤ºå™¨çš„ç¼–ç ã€ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¾‘å™¨å’Œæ§åˆ¶å°ä¸­è¿›è¡Œè®¾ç½®ã€‚æœ€ä¸å¯æ§çš„æ˜¯ç¼–è¯‘å™¨çš„è¾“å…¥ç¼–ç å’Œè¾“å‡ºç¼–ç ï¼Œå¸¸è§ç¼–è¯‘å™¨/è§£é‡Šå™¨çš„é»˜è®¤è¾“å…¥è¾“å‡ºç¼–ç å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>ç¼–è¯‘å™¨/è§£é‡Šå™¨</th><th>é»˜è®¤è¾“å…¥ç¼–ç </th><th>é»˜è®¤è¾“å‡ºç¼–ç </th><th>è®¾ç½®è¾“å…¥ç¼–ç </th><th>è®¾ç½®è¾“å‡ºç¼–ç </th></tr></thead><tbody><tr><td>python</td><td>UTF-8</td><td>ANSI</td><td><code># coding=xxx</code></td><td>ç¯å¢ƒå˜é‡ <code>PYTHONIOENCODING</code></td></tr><tr><td>gcc/g++</td><td>UTF-8</td><td>UTF-8</td><td>æœªçŸ¥</td><td>æœªçŸ¥</td></tr><tr><td>javac</td><td>ANSI</td><td>ANSI</td><td>åŠ  <code>-encoding</code> å‚æ•°</td><td>æœªçŸ¥</td></tr><tr><td>matlab</td><td>ANSI</td><td>ANSI</td><td>ä¿®æ”¹é…ç½®æ–‡ä»¶</td><td>æœªçŸ¥</td></tr></tbody></table><blockquote><p>æ³¨ï¼šè¯¥ç»“æœæ˜¯ç¬”è€…åœ¨è‡ªå·±çš„ Windows 10 å®¶åº­ä¸­æ–‡ç‰ˆä¸Šæµ‹è¯•å¾—åˆ°çš„ï¼Œä¸åŒçš„å¹³å°å¯èƒ½æœ‰å·®å¼‚ã€‚</p></blockquote><hr><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä»¥ Sublime Text æ‰§è¡Œä¸€æ®µ Python è„šæœ¬ä¸ºä¾‹æ¥å±•ç¤ºè¿™ 2 ç§ä¹±ç ï¼Œé€šè¿‡è®¾ç½®ç¼–è¯‘å™¨è¾“å…¥ç¼–ç ã€è¾“å‡ºç¼–ç ã€å±•ç¤ºå™¨ç¼–ç æ¥æ¢ç©¶ä¹±ç äº§ç”Ÿçš„ä¸åŒåŸå› ã€‚</p><p>è¿™æ®µ Python è„šæœ¬éå¸¸ç®€å•ï¼Œåªæœ‰ä¸€å¥è¯ï¼š<code>print('ä½ å¥½')</code>ï¼Œä»¥ UTF-8 ç¼–ç ä¿å­˜ã€‚æ­£å¸¸æ‰§è¡Œçš„ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-dfceb9f34cbf044c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ­£å¸¸æ— ä¹±ç "></p><p>ä»ä¸Šä¸Šå›¾ä¸­ä¸éš¾çœ‹å‡ºï¼Œè¿‡ç¨‹ 1 å’Œè¿‡ç¨‹ 2 å‡èƒ½å¯¼è‡´ä¹±ç ï¼Œå…¶ç»„åˆå¯å½¢æˆå¦‚ä¸‹ä¸‰ç§ä¹±ç ç±»å‹ï¼š</p><h3 id="è¿‡ç¨‹-1-ä¹±ç ">è¿‡ç¨‹ 1 ä¹±ç </h3><p>æˆ‘ä»¬åœ¨ Python è„šæœ¬å¤´éƒ¨æ·»åŠ ä¸€è¡Œ <code># -*- coding: gbk -*-</code>ï¼Œå³æŠŠ Python è§£é‡Šå™¨çš„è¾“å…¥ç¼–ç æŒ‡å®šä¸º GBKï¼Œä½†è„šæœ¬çš„ç¼–ç ä¿æŒ UTF-8 ä¸å˜ã€‚æ‰§è¡Œç»“æœå°†å‘ç”Ÿä¹±ç ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-7933afa816af4af4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¹±ç ç±»å‹ 1"></p><p>ä»è¿™é‡Œæˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹å‡ºï¼ŒPython è§£é‡Šå™¨çš„é»˜è®¤è¾“å…¥ç¼–ç ä¸º UTF-8ã€‚</p><h3 id="è¿‡ç¨‹-2-ä¹±ç ã€‚">è¿‡ç¨‹ 2 ä¹±ç ã€‚</h3><p>è¿™é‡Œåˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€æ˜¯ç¼–è¯‘å™¨çš„è¾“å‡ºç¼–ç é”™è¯¯ï¼›äºŒæ˜¯å±•ç¤ºå™¨çš„è¾“å…¥ç¼–ç é”™è¯¯ï¼š</p><h4 id="ç¼–è¯‘å™¨è¾“å‡ºç¼–ç ä¸å½“ã€‚">ç¼–è¯‘å™¨è¾“å‡ºç¼–ç ä¸å½“ã€‚</h4><p>æ‰“å¼€ <code>Python.sublime-build</code> æ–‡ä»¶ï¼ˆå¯å€ŸåŠ© PackageResourceViewer æ’ä»¶ï¼‰ï¼Œå…¶åˆå§‹å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python -u \&quot;$file\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;file_regex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^[ ]*File \&quot;(...*?)\&quot;, line ([0-9]*)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;selector&quot;</span><span class="punctuation">:</span> <span class="string">&quot;source.python&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æŠŠæœ«å°¾çš„è¡Œæ”¹ä¸º <code>&quot;env&quot;: &#123;&quot;PYTHONIOENCODING&quot;: &quot;gbk&quot;&#125;,</code>ï¼Œå³æŠŠ Python è§£é‡Šå™¨çš„è¾“å‡ºç¼–ç è®¾ä¸º UTF-8ã€‚æ‰§è¡Œè„šæœ¬ï¼Œå†æ¬¡å¾—åˆ°ä¹±ç ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-5376b7daa408a89d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¹±ç ç±»å‹ 2-1"></p><p>æ³¨æ„ï¼šè¿™é‡Œè™½ç„¶ä¹Ÿæ˜¯ä¹±ç ï¼Œä½†ä¸ç±»å‹ 1 ä¸åŒã€‚</p><h4 id="å±•ç¤ºå™¨è¾“å…¥ç¼–ç ä¸å½“ã€‚">å±•ç¤ºå™¨è¾“å…¥ç¼–ç ä¸å½“ã€‚</h4><p>æˆ‘ä»¬é¦–å…ˆæ’¤é”€å¯¹ <code>Python.sublime-build</code> çš„æ‰€æœ‰æ›´æ”¹ï¼Œç„¶ååœ¨å…¶æœ«å°¾å¢åŠ ä¸€è¡Œå†…å®¹ <code>&quot;encoding&quot;: &quot;gbk&quot;,</code>ï¼Œå³æŠŠ Sublime Text æ§åˆ¶å°çš„ç¼–ç è®¾ä¸º GBKã€‚æ­¤æ—¶ <code>Python.sublime-build</code> é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;shell_cmd&quot;</span><span class="punctuation">:</span> <span class="string">&quot;python -u \&quot;$file\&quot;&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;file_regex&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^[ ]*File \&quot;(...*?)\&quot;, line ([0-9]*)&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;selector&quot;</span><span class="punctuation">:</span> <span class="string">&quot;source.python&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;PYTHONIOENCODING&quot;</span><span class="punctuation">:</span> <span class="string">&quot;utf-8&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;encoding&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gbk&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè„šæœ¬ï¼Œå¾—åˆ°ä¹±ç ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-5cf008dd6a9f634c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¹±ç ç±»å‹ 2-2"></p><p>æ³¨æ„ï¼šè¿™é‡Œçš„ä¹±ç ä¸ç±»å‹ 1 ç›¸åŒï¼Œéƒ½æ˜¯ç”¨ GBK ç¼–ç è§£é‡Š UTF-8 å­—ç¬¦ä¸²é€ æˆçš„ã€‚</p><h3 id="è¿‡ç¨‹-1-ä¸è¿‡ç¨‹-2-åŒæ—¶ä¹±ç ã€‚">è¿‡ç¨‹ 1 ä¸è¿‡ç¨‹ 2 åŒæ—¶ä¹±ç ã€‚</h3><p>ä¹±ç æ˜¯å¯ä»¥å åŠ çš„ï¼Œå³ä¹±ç åçš„å­—ç¬¦ä¸²å¯ä»¥å†æ¬¡è¢«ä¹±ç ï¼Œå¾—åˆ°çš„ä¹±ç ä¸å åŠ å‰çš„ä¹±ç å‡ä¸åŒã€‚</p><p>æˆ‘ä»¬è®© <code>Python.sublime-build</code> æ–‡ä»¶ä¿æŒä¸Šä¸€æ­¥çš„çŠ¶æ€ï¼Œç„¶ååœ¨ Python è„šæœ¬çš„å¼€å¤´é‡æ–°åŠ ä¸Šä¸€è¡Œ <code># -*- coding: gbk -*-</code>ã€‚æ‰§è¡Œè„šæœ¬ï¼Œä¼šå¾—åˆ°å‰ä¸¤ç§å®Œå…¨ä¸åŒçš„ä¹±ç ï¼Œå¦‚ä¸‹ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-a7829d767073e968.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä¹±ç ç±»å‹ 3"></p><p>ä»¥ä¸Šå°±æ˜¯ç¼–ç¨‹ä¸­å‡ºç°ä¹±ç çš„ 3 ç§å…¸å‹æƒ…å†µã€‚éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œä»¥ä¸Šé‡‡ç”¨ Sublime Text çš„æ§åˆ¶å°ä½œä¸ºå±•ç¤ºå™¨ï¼Œå…¶ç¼–ç å¯ä»¥é€šè¿‡ Build System ä¸­çš„ <code>encoding</code> å‚æ•°è¿›è¡Œè®¾ç½®ã€‚å¦‚æœä½ ç›´æ¥ä½¿ç”¨å‘½ä»¤è¡Œå¦‚ cmdã€bashã€cmder ç­‰æ¥ç¼–è¯‘å’Œè¿è¡Œç¨‹åºï¼Œé‚£å°±å®Œå…¨çœå»è¿™äº›éº»çƒ¦äº†ï¼Œ<strong>å‘½ä»¤è¡Œä¸€èˆ¬ä¼šè‡ªåŠ¨è¯†åˆ«ä½ çš„è¾“å‡ºç¼–ç ï¼Œå› æ­¤æ€»èƒ½ä½¿ç”¨æ­£ç¡®è§£ç æ–¹å¼ï¼ŒåŸºæœ¬ä¸ä¼šå‡ºç°ç±»å‹ 2 ä¹±ç ï¼Œä½†æ— æ³•é¿å…ç±»å‹ 1 ä¹±ç </strong>ã€‚</p><p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¯å‘ï¼Œå¦‚æœä½ åœ¨ç¼–ç¨‹ä¸­é‡åˆ°äº†ä¹±ç ï¼Œä¸å¦¨å¯¹ä¸‹å›¾ä¸­çš„ 2 ä¸ªè¿‡ç¨‹è¿›è¡Œæ§åˆ¶å˜é‡å¼çš„æ’é™¤ï¼Œå¦‚æœèƒ½å¤Ÿè§£å†³ä½ çš„é—®é¢˜ï¼Œé‚£ä¾¿æ˜¯æœ¬æ–‡æœ€å¤§çš„æˆåŠŸã€‚</p><p><img src="https://upload-images.jianshu.io/upload_images/3310969-1c2dadb42f018c37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ä»£ç ç¼–å†™å’Œæ‰§è¡Œè¿‡ç¨‹ä¸­çš„ç¼–ç å’Œè§£ç "></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
          <category> åŸç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼–ç  </tag>
            
            <tag> ä¹±ç  </tag>
            
            <tag> Sublime Text </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¸C++æ··åˆç¼–ç¨‹â€”â€”Boost.pythonçš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="/posts/923b21ed/"/>
      <url>/posts/923b21ed/</url>
      
        <content type="html"><![CDATA[<p>Boost.python æ˜¯ Python ä¸ C++ æ··åˆç¼–ç¨‹çš„åˆ©å™¨ï¼Œæœ¬æ–‡æ¢è®¨ Boost.python çš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨ã€‚</p><span id="more"></span><blockquote><p>Booståº“æ˜¯ä¸€ä¸ªå¯ç§»æ¤ã€æä¾›æºä»£ç çš„C++åº“ï¼Œä½œä¸ºæ ‡å‡†åº“çš„åå¤‡ï¼Œæ˜¯C++æ ‡å‡†åŒ–è¿›ç¨‹çš„å¼€å‘å¼•æ“ä¹‹ä¸€ã€‚Booståº“ç”±C++æ ‡å‡†å§”å‘˜ä¼šåº“å·¥ä½œç»„æˆå‘˜å‘èµ·ï¼Œå…¶ä¸­æœ‰äº›å†…å®¹æœ‰æœ›æˆä¸ºä¸‹ä¸€ä»£C++æ ‡å‡†åº“å†…å®¹ã€‚åœ¨C++ç¤¾åŒºä¸­å½±å“ç”šå¤§ï¼Œæ˜¯ä¸æŠ˜ä¸æ‰£çš„â€œå‡†â€æ ‡å‡†åº“ã€‚</p><p>Boostç”±äºå…¶å¯¹è·¨å¹³å°çš„å¼ºè°ƒï¼Œå¯¹æ ‡å‡†C++çš„å¼ºè°ƒï¼Œä¸ç¼–å†™å¹³å°æ— å…³ã€‚å¤§éƒ¨åˆ†booståº“åŠŸèƒ½çš„ä½¿ç”¨åªéœ€åŒ…æ‹¬ç›¸åº”å¤´æ–‡ä»¶å³å¯ï¼Œå°‘æ•°ï¼ˆå¦‚æ­£åˆ™è¡¨è¾¾å¼åº“ï¼Œæ–‡ä»¶ç³»ç»Ÿåº“ç­‰ï¼‰éœ€è¦é“¾æ¥åº“ã€‚ä½†Boostä¸­ä¹Ÿæœ‰å¾ˆå¤šæ˜¯å®éªŒæ€§è´¨çš„ä¸œè¥¿ï¼Œåœ¨å®é™…çš„å¼€å‘ä¸­ä½¿ç”¨éœ€è¦è°¨æ…ã€‚</p><p>Booståº“æ˜¯ä¸ºC++è¯­è¨€æ ‡å‡†åº“æä¾›æ‰©å±•çš„ä¸€äº›C++ç¨‹åºåº“çš„æ€»ç§°ã€‚</p><p>â€”â€”ç™¾åº¦ç™¾ç§‘</p></blockquote><p>ç®€å•æ¥è¯´ï¼ŒBoost æ˜¯ä¸€ç³»åˆ—é€šç”¨çš„ C++ æ‰©å±•åº“çš„é›†åˆã€‚è€Œ Boost.python åˆ™æ˜¯è¿™ä¼—å¤šæ‰©å±•åº“ä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œå®ƒåŸºäº C++ ä»£ç æä¾›äº†ä¸€å¥— Python æ¥å£ï¼Œå¯ä½œä¸º C++ ä¸ Python æ··åˆç¼–ç¨‹çš„æ¡¥æ¢ã€‚</p><h2 id="Boost-åº“çš„å®‰è£…">Boost åº“çš„å®‰è£…</h2><h3 id="æ–¹å¼ä¸€ï¼šBoost-æºç åŒ…">æ–¹å¼ä¸€ï¼šBoost æºç åŒ…</h3><p>é¦–å…ˆå» Boost å®˜ç½‘ä¸‹è½½ Boost åº“ï¼š<a href="https://www.boost.org/users/download/">ä¸‹è½½åœ°å€</a>ã€‚</p><p>å®˜æ–¹é»˜è®¤åªæä¾› Boost çš„æºç åŒ…ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ˆçº¯ C/C++ å¼€å‘ï¼‰ï¼Œæºç åŒ…å°±è¶³å¤Ÿäº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç¼–è¯‘çš„æ—¶å€™å¼•å…¥ç›¸åº”çš„å¤´æ–‡ä»¶å³å¯ã€‚ä½†å¦‚æœä½ çš„ç¨‹åºéœ€è¦ä»¥é™æ€/åŠ¨æ€é“¾æ¥åº“çš„å½¢å¼å¼•å…¥æŸäº›åŒ…ï¼Œå°±éœ€è¦è‡ªå·±ç¼–è¯‘äº†ã€‚æ°å¥½ Boost.python å°±æ˜¯è¿™æ ·çš„éœ€æ±‚ï¼Œæ¯•ç«Ÿï¼Œä½ æ€»ä¸èƒ½æŒ‡æœ›ç›´æ¥åœ¨ python ä»£ç ä¸­å¼•ç”¨ C++ æºç å§ï¼</p><p>æˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠ python ä»£ç ä¹‹å¤–çš„æ‰€æœ‰ C/C++ å¤–æŒ‚ç¼–è¯‘æˆä¸€ä¸ª <code>.pyd</code> æ–‡ä»¶ï¼Œè¿™æ ·å°±èƒ½ç›´æ¥åœ¨ python ä»£ç ä¸­è°ƒç”¨äº†ã€‚äº‹å®ä¸Šï¼Œ<code>.pyd</code> æ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ‹¥æœ‰ python æ¥å£çš„ <code>.dll</code> æ–‡ä»¶ã€‚</p><p>Boost æºç åŒ…çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">boost_1_68_0</span><br><span class="line">+---boost</span><br><span class="line">+---doc</span><br><span class="line">+---libs</span><br><span class="line">+---more</span><br><span class="line">+---status</span><br><span class="line">+---tools</span><br><span class="line">+---INSTALL</span><br><span class="line">+---Jamroot</span><br><span class="line">+---LICENSE_1_0.txt</span><br><span class="line">+---boost.css</span><br><span class="line">+---boost.png</span><br><span class="line">+---boost-build.jam</span><br><span class="line">+---boostcpp.jam</span><br><span class="line">+---bootstrap.bat</span><br><span class="line">+---bootstrap.sh</span><br><span class="line">+---index.htm</span><br><span class="line">+---index.html</span><br><span class="line">+---rst.css</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>boost</code> ç›®å½•ä¸‹æ˜¯æ‰€æœ‰åº“çš„å¤´æ–‡ä»¶ï¼ˆ<code>.hpp</code>æ–‡ä»¶ï¼‰ï¼Œ<code>libs</code> ç›®å½•ä¸‹åˆ™æ˜¯æ‰€æœ‰åº“çš„å…·ä½“å®ç°ï¼ˆ<code>.cpp</code>æ–‡ä»¶ï¼‰ã€‚</p><h3 id="æ–¹å¼äºŒï¼šBoost-é¢„ç¼–è¯‘åŒ…">æ–¹å¼äºŒï¼šBoost é¢„ç¼–è¯‘åŒ…</h3><p>Boost æºç åŒ…å¦‚æœè¦åœ¨æœ¬åœ°å®Œå…¨ç¼–è¯‘ï¼Œå¯èƒ½éœ€è¦å‡ ä¸ªå°æ—¶çš„æ—¶é—´ã€‚å› æ­¤ï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒBoost ä¹Ÿæ¨å‡ºäº† Windows ä¸‹çš„ <a href="https://sourceforge.net/projects/boost/files/boost-binaries/">é¢„ç¼–è¯‘ç‰ˆæœ¬</a>ã€‚é¢„ç¼–è¯‘åŒ…æ¯”èµ·æºç åŒ…å¤šå‡ºä¸€ä¸ªå­ç›®å½•ï¼Œç”¨äºå­˜æ”¾å·²ç»ç¼–è¯‘å¥½çš„é™æ€åº“å’ŒåŠ¨æ€åº“ã€‚</p><p>å®‰è£…é¢„ç¼–è¯‘ç‰ˆæœ¬ <code>boost_1_68_0-msvc-14.0-32.exe</code> ä¹‹åçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">boost_1_68_0</span><br><span class="line">+---boost</span><br><span class="line">+---doc</span><br><span class="line">+---libs</span><br><span class="line">+---lib32-msvc-14.0       # new</span><br><span class="line">+---more</span><br><span class="line">+---status</span><br><span class="line">+---tools</span><br><span class="line">+---INSTALL</span><br><span class="line">+---Jamroot</span><br><span class="line">+---LICENSE_1_0.txt</span><br><span class="line">+---b2.exe                # new</span><br><span class="line">+---bjam.exe              # new</span><br><span class="line">+---boost.css</span><br><span class="line">+---boost.png</span><br><span class="line">+---boost-build.jam</span><br><span class="line">+---boostcpp.jam</span><br><span class="line">+---bootstrap.bat</span><br><span class="line">+---bootstrap.log         # new</span><br><span class="line">+---bootstrap.sh</span><br><span class="line">+---index.htm</span><br><span class="line">+---index.html</span><br><span class="line">+---project-config.jam    # new</span><br><span class="line">+---rst.css</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>lib32-msvc-14.0</code> ç›®å½•ä¿å­˜äº†æ‰€æœ‰ç¼–è¯‘å¥½çš„é™æ€åº“å’ŒåŠ¨æ€åº“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé¢„ç¼–è¯‘ç‰ˆæœ¬å¯¹ç¼–è¯‘å™¨ç§ç±»ã€ç‰ˆæœ¬å’Œç›®æ ‡ä½æ•°ï¼ˆ32/64ï¼‰éƒ½æœ‰è¦æ±‚ã€‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œè¦ä½¿ç”¨è¿™äº›åº“ï¼Œå¿…é¡»ç”¨ msvc-14.0ï¼ˆå³ Visual Studio 2015ï¼‰ä¸”è®¾ç½®ç›®æ ‡ä½æ•°ä¸º 32 ä½ã€‚</p><p>ä¸åŒç‰ˆæœ¬çš„é¢„ç¼–è¯‘åŒ…å¯ä»¥å®‰è£…åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œä»¥æ”¯æŒä¸åŒçš„ç¼–è¯‘ç¯å¢ƒï¼Œè¿™æ ·å°±æ¯”è¾ƒæ–¹ä¾¿äº†ã€‚æ¯”å¦‚åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå¦‚æœè¿˜è¦æ”¯æŒ 64 ä½ï¼Œå¯ä»¥å†ä¸‹è½½ä¸€ä¸ª <code>boost_1_68_0-msvc-14.0-64.exe</code>ï¼ŒåŒæ ·å®‰è£…åœ¨å½“å‰å®‰è£…ç›®å½•ä¸‹ã€‚è¿™æ ·å®‰è£…ç›®å½•ä¸‹å°†å¤šå‡ºä¸€ä¸ª <code>lib64-msvc-14.0</code> å­ç›®å½•ï¼Œå­˜æ”¾ç¼–è¯‘å¥½çš„ 64 ä½çš„åº“ï¼Œå…¶ä½™ç›®å½•å’Œæ–‡ä»¶å‡ä¸å—å½±å“ã€‚</p><p>é¢„ç¼–è¯‘ç‰ˆæœ¬æ»¡è¶³äº†å·æ‡’çš„éœ€æ±‚ï¼Œä½†å¾ˆéš¾æ»¡è¶³æ‰€æœ‰è¦æ±‚ï¼Œå› ä¸ºæœ‰äº›åº“å¿…é¡»é…åˆæœ¬åœ°ç¯å¢ƒæ‰èƒ½ä½¿ç”¨ã€‚æ¯”å¦‚ Boost.python å°±å¿…é¡»é…åˆæœ¬åœ°çš„ Python ç‰ˆæœ¬æ‰èƒ½ä½¿ç”¨ï¼Œå› æ­¤æœ¬åœ°ç¼–è¯‘ Boost åº“è¿™ä¸ªåŸºæœ¬æŠ€èƒ½è¿˜æ˜¯å¿…è¦çš„ã€‚ä¸‹é¢æˆ‘ä»¬è¿˜æ˜¯ä»¥ Boost æºç åŒ…çš„ä½¿ç”¨ä¸ºä¾‹è¿›è¡Œä»‹ç»ã€‚</p><h3 id="æœ¬åœ°ç¼–è¯‘-Boost-python">æœ¬åœ°ç¼–è¯‘ Boost.python</h3><p>åœ¨ç¼–è¯‘ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿æœ¬æœºå·²ç»å®‰è£…äº† Visual Studio å’Œ Pythonã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬ä½¿ç”¨å‘½ä»¤è¡Œè¿›å…¥ Boost æºç åŒ…çš„å®‰è£…ç›®å½•ï¼Œæ‰§è¡Œ <code>bootstrap.bat</code> è„šæœ¬ï¼Œå°†ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆ <code>b2.exe</code>ã€<code>bjam.exe</code>ã€<code>project-config.jam</code>ã€<code>bootstrap.log</code> å››ä¸ªæ–‡ä»¶ã€‚å…¶ä¸­ï¼Œ<code>b2.exe</code>ã€<code>bjam.exe</code> å°±æ˜¯æˆ‘ä»¬ç¼–è¯‘æ—¶è¦ç”¨åˆ°çš„å‘½ä»¤äº†ã€‚è¿™ä¸¤ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œ<code>bjam</code> æ˜¯è€ç‰ˆæœ¬ï¼Œ<code>b2</code> æ˜¯å‡çº§ç‰ˆæœ¬ã€‚</p><p>ä¸‹é¢å°±å¯ä»¥å¼€å§‹ç¼–è¯‘ Boost.python äº†ï¼Œç¬”è€…åœ¨æœ¬æœºæ‰€ä½¿ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b2.exe --with-python stage --stagedir=&quot;./bin/lib32-msvc-<span class="number">14</span>.<span class="number">0</span>&quot; link=static address-model=<span class="number">32</span></span><br></pre></td></tr></table></figure><p>ç¼–è¯‘å®Œæˆåï¼Œå°†åœ¨ <code>./bin/lib32-msvc-14.0/lib</code> ç›®å½•ä¸‹äº§ç”Ÿ 4 ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libboost_numpy36-vc140-mt-gd-x32-1_68.lib</span><br><span class="line">libboost_numpy36-vc140-mt-x32-1_68.lib</span><br><span class="line">libboost_python36-vc140-mt-gd-x32-1_68.lib</span><br><span class="line">libboost_python36-vc140-mt-x32-1_68.lib</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œpython å’Œ numpy å„ 2 ä¸ªï¼Œå¸¦ <code>gd</code> çš„å¯¹åº” debug ç‰ˆæœ¬ï¼Œåä¹‹å¯¹åº” release ç‰ˆæœ¬ã€‚</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç¼–è¯‘æ—¶è°ƒç”¨çš„ç¼–è¯‘å™¨å’Œ Python ç‰ˆæœ¬æ˜¯ b2/bjam è‡ªåŠ¨æœç´¢çš„ã€‚å¦‚æœè¦æŒ‡å®šä¸åŒçš„ Python ç‰ˆæœ¬ï¼Œå°±éœ€è¦åœ¨ä½ çš„ home ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ <code>user-config.jam</code>ï¼ˆè·¯å¾„ä¸º <code>C:\Users\xxx\user-config.jam</code>ï¼‰ã€‚æ¨èç›´æ¥ä½¿ç”¨ Boost æ ¹ç›®å½•ä¸‹çš„ <code>tools/build/example/user-config.jam</code> ä½œä¸ºæ¨¡æ¿ï¼Œç¨åŠ ä¿®æ”¹å³å¯ã€‚ä¾‹å¦‚ï¼Œç¬”è€…çš„ <code>user-config.jam</code> ä¸­å¯¹ Python çš„é…ç½®å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">using python</span><br><span class="line">    : 3.5</span><br><span class="line">    : &quot;D:/App/Python35/python.exe&quot;</span><br><span class="line">    : &quot;D:/App/Python35/include&quot;</span><br><span class="line">    : &quot;D:/App/Python35/libs&quot;</span><br><span class="line">    : &lt;define&gt;BOOST_ALL_NO_LIB=1</span><br><span class="line">    ;</span><br></pre></td></tr></table></figure><h4 id="b2-bjam-å‚æ•°è¯´æ˜ï¼š">b2/bjam å‚æ•°è¯´æ˜ï¼š</h4><p><code>b2</code> å‘½ä»¤çš„åŠŸèƒ½å¼ºå¤§ï¼Œç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå› æ­¤åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæœ€å¥½å…ˆæŸ¥çœ‹ä¸€ä¸‹è¯¥å‘½ä»¤çš„å¸®åŠ©ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b2.exe --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æ˜¯ä¸€äº›æ¯”è¾ƒé‡è¦çš„å‚æ•°è¯´æ˜ï¼š</p><ul><li><p>stage/installï¼š</p><p>stage è¡¨ç¤ºåªç”Ÿæˆåº“ï¼ˆdll å’Œ libï¼‰ï¼Œinstall è¿˜ä¼šç”ŸæˆåŒ…å«å¤´æ–‡ä»¶çš„ include ç›®å½•ã€‚æ¨èä½¿ç”¨ stageï¼Œå› ä¸º install ç”Ÿæˆçš„ include ç›®å½•å®é™…å°±æ˜¯æºç åŒ…ä¸‹çš„ boost ç›®å½•ï¼Œéœ€è¦ include çš„æ—¶å€™å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦å†æ¬¡ç”Ÿæˆï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¤§é‡çš„ç¼–è¯‘æ—¶é—´ã€‚</p></li><li><p>toolsetï¼š</p><p>æŒ‡å®šç¼–è¯‘å™¨ï¼Œå¯é€‰çš„å¦‚ borlandã€gccã€msvc-14.0ï¼ˆVS2015ï¼‰ç­‰ã€‚å¦‚æœä¸æŒ‡å®šï¼Œä¼šè‡ªåŠ¨æœç´¢æœ¬åœ°å¯ç”¨çš„ç¼–è¯‘å™¨ï¼ˆå¯æŸ¥çœ‹ <code>./project-config.jam</code> æ–‡ä»¶ä»¥ç¡®è®¤ï¼‰ã€‚</p></li><li><p>without/withï¼š</p><p>é€‰æ‹©ä¸ç¼–è¯‘/ç¼–è¯‘å“ªäº›åº“ï¼ˆç±»ä¼¼äºé»‘åå•/ç™½åå•ï¼‰ã€‚<code>--with-python</code> çš„å«ä¹‰æ˜¯ä»…ç¼–è¯‘ pythonï¼Œå…¶ä»–çš„éƒ½ä¸ç¼–è¯‘ã€‚åè¿‡æ¥ï¼Œå¦‚æœç”¨ <code>--without-python</code>ï¼Œæ„æ€å°±æ˜¯é™¤äº† pythonï¼Œ å…¶ä»–çš„éƒ½ç¼–è¯‘ã€‚with/without å‚æ•°å¯ä»¥å¤šæ¬¡å‡ºç°ï¼Œä»¥é™å®šå¤šä¸ªåº“ã€‚å¦‚æœä¸è®¾ç½® with/without å‚æ•°ï¼Œé»˜è®¤å…¨éƒ¨ç¼–è¯‘ï¼Œå¯èƒ½éœ€è¦å‡ ä¸ªå°æ—¶çš„æ—¶é—´ï¼</p><p>éœ€è¦æ³¨æ„ï¼Œç¼–è¯‘ Boost.python éœ€è¦ç¡®ä¿æœ¬åœ°å®‰è£…äº† Pythonï¼Œå¹¶ä¸” python å‘½ä»¤å·²åŠ å…¥ç¯å¢ƒå˜é‡ã€‚</p><p>è¦æŸ¥çœ‹ Boost åŒ…å«çš„æ‰€æœ‰åº“ï¼Œå¯ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</p>  <figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b2.exe --show-libraries</span><br></pre></td></tr></table></figure></li><li><p>stagedir/prefixï¼š</p><p>stage æ—¶ä½¿ç”¨ stagedirï¼Œinstall æ—¶ä½¿ç”¨ prefixï¼Œè¡¨ç¤ºç¼–è¯‘ç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„ã€‚æ¨èç»™ä¸åŒçš„ç¼–è¯‘ç¯å¢ƒæŒ‡å®šä¸åŒçš„ç›®å½•ï¼Œå¦‚ Visual Studio 2015 çš„ x86 åº”ç”¨å¯¹åº”çš„æ˜¯ <code>bin/lib32-msvc-14.0</code>ï¼Œx64 åº”ç”¨å¯¹åº”çš„æ˜¯ <code>bin/lib64-msvc-14.0</code>ã€‚å¦‚æœéƒ½ç”Ÿæˆåˆ°ä¸€ä¸ªç›®å½•ä¸‹ï¼Œå°†æ²¡æœ‰ä»»ä½•ç›Šå¤„ï¼Œå¾’å¢ç®¡ç†éš¾åº¦ã€‚å¦‚æœä½¿ç”¨äº† install å‚æ•°ï¼Œé‚£ä¹ˆè¿˜å°†åœ¨ä¸Šè¿°æŒ‡å®šçš„ç›®å½•ä¸‹ç”Ÿæˆ <code>include</code> ç›®å½•ï¼Œç”¨äºä¿å­˜å¤´æ–‡ä»¶ã€‚</p></li><li><p>build-dirï¼š</p><p>ç¼–è¯‘ç”Ÿæˆçš„ä¸­é—´æ–‡ä»¶çš„è·¯å¾„ï¼Œé»˜è®¤æ˜¯ Boost æ ¹ç›®å½•ä¸‹çš„ <code>bin.v2</code> ç›®å½•ï¼Œä¸€èˆ¬æ— éœ€è®¾ç½®ã€‚</p></li><li><p>linkï¼š</p><p>æŒ‡å®šç”ŸæˆåŠ¨æ€é“¾æ¥åº“è¿˜æ˜¯é™æ€é“¾æ¥åº“ï¼Œå–å€¼ä¸º <code>static|shared</code>ã€‚ç”Ÿæˆé™æ€é“¾æ¥åº“ä½¿ç”¨ staticï¼Œç”ŸæˆåŠ¨æ€é“¾æ¥åº“éœ€ä½¿ç”¨ sharedã€‚å¦‚ä¸æŒ‡å®šï¼Œé»˜è®¤ä½¿ç”¨ staticã€‚é™æ€åº“çš„ç¼ºç‚¹æ˜¯å ç”¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œä¼˜ç‚¹æ˜¯ç¨‹åºå‘å¸ƒçš„æ—¶å€™æ— éœ€é™„å¸¦ Boost åº“çš„ dllï¼Œæ¯”è¾ƒæ•´æ´ã€‚æ¨èä½¿ç”¨é™æ€åº“çš„æ–¹å¼ç¼–è¯‘ Boost.pythonï¼Œè¿™æ ·å‘å¸ƒç¨‹åºçš„æ—¶å€™å°±ä¸ç”¨ Boost çš„ dll äº†ï¼Œå¹¶ä¸”ä¹Ÿå¤šå ç”¨ä¸äº†å¤ªå¤šç©ºé—´ã€‚</p></li><li><p>runtime-linkï¼š</p><p>æŒ‡å®šè¿è¡Œæ—¶æ˜¯åŠ¨æ€è¿˜æ˜¯é™æ€é“¾æ¥å…¶ä»–åº“ã€‚åŒæ ·æœ‰ shared å’Œ static ä¸¤ç§æ–¹å¼ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤æ˜¯ sharedï¼Œä¸€èˆ¬æ— éœ€è®¾ç½®ã€‚</p></li><li><p>threadingï¼š</p><p>è¦ç¼–è¯‘çš„åº“æ˜¯å•çº¿ç¨‹è¿˜æ˜¯å¤šçº¿ç¨‹ï¼Œå¯å–å€¼ <code>single|multi</code>ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤æ˜¯ multiï¼Œä¸€èˆ¬æ— éœ€è®¾ç½®ã€‚</p></li><li><p>variant</p><p><code>debug|release</code>ï¼Œç¼–è¯‘ debug ç‰ˆæœ¬è¿˜æ˜¯ release ç‰ˆæœ¬ã€‚ä¸€èˆ¬ä¸æœ€ç»ˆå‘å¸ƒçš„ç¨‹åºæ˜¯ debug è¿˜æ˜¯ release ç‰ˆç›¸å¯¹åº”ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸¤ä¸ªéƒ½ç¼–è¯‘ï¼Œä¸€èˆ¬æ— éœ€è®¾ç½®ã€‚</p></li><li><p>address-model</p><p>ç¼–è¯‘æˆ 32 ä½ç‰ˆæœ¬è¿˜æ˜¯ 64 ä½ç‰ˆæœ¬ï¼Œå¯å–å€¼ <code>32|64</code>ã€‚å¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä¸¤ä¸ªç‰ˆæœ¬éƒ½ç¼–è¯‘ã€‚å¦‚æœæ˜¯ç¼–è¯‘ Boost.pythonï¼Œè¯¥å‚æ•°å°±è¦ä¸æœ¬åœ°å®‰è£…çš„ Python ä½æ•°ç›¸å¯¹åº”ï¼Œå¦åˆ™ç¼–è¯‘ä¼šå‡ºé”™ï¼Œå› æ­¤æœ€å¥½è®¾ç½®ä¸€ä¸‹ã€‚</p></li></ul><h4 id="Boost-é™æ€åº“-åŠ¨æ€åº“çš„å‘½åè§„åˆ™">Boost é™æ€åº“/åŠ¨æ€åº“çš„å‘½åè§„åˆ™</h4><p>ä»¥ Boost.python ä¸ºä¾‹ï¼Œå¦‚æœç¼–è¯‘çš„æ˜¯é™æ€åº“ï¼ˆ<code>link=static</code>ï¼‰ï¼Œå°†ä¼šç”Ÿæˆå•ä¸ª <code>.lib</code> æ–‡ä»¶ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libboost_python36-vc140-mt-gd-x32-1_68.lib</span><br></pre></td></tr></table></figure><p>è€Œå¦‚æœç¼–è¯‘çš„æ˜¯åŠ¨æ€åº“ï¼ˆ<code>link=shared</code>ï¼‰ï¼Œå°†ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼ˆ<code>.lib</code> å’Œ <code>.dll</code>ï¼‰ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">boost_python36-vc140-mt-gd-x32-1_68.lib</span><br><span class="line">boost_python36-vc140-mt-gd-x32-1_68.dll</span><br></pre></td></tr></table></figure><p>åŠ¨æ€åº“è™½ç„¶ä¹Ÿç”Ÿæˆ <code>.lib</code> æ–‡ä»¶ï¼Œä½†å®ƒä¸é™æ€åº“çš„ <code>.lib</code> æ–‡ä»¶å·®åˆ«å¾ˆå¤§ã€‚åŠ¨æ€åº“çš„ <code>.lib</code> æ›´åƒæ˜¯å¯¹ <code>.dll</code> çš„å£°æ˜ï¼ŒäºŒè€…çš„å…³ç³»ç±»ä¼¼äº <code>.h</code> ä¸ <code>.cpp</code> çš„å…³ç³»ã€‚å› æ­¤ï¼ŒåŠ¨æ€åº“ä¸­çš„ <code>.lib</code> æ–‡ä»¶è¦æ¯”é™æ€åº“çš„ <code>.lib</code> æ–‡ä»¶å°å¾—å¤šã€‚</p><p>ä¸‹é¢ä»¥é™æ€åº“çš„å‘½åè§„åˆ™ä¸ºä¾‹è¿›è¡Œåˆ†æï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">libboost_python36-vc140-mt-sgd-x32-1_68.lib</span><br><span class="line">| ||   | |      | |   | || ||| | | |  |</span><br><span class="line"> -  ---   ------   ---  -- - -  -   --</span><br><span class="line"> 1   2       3      4    5 6 7  8    9</span><br></pre></td></tr></table></figure><ol><li>é™æ€åº“ä»¥ <code>lib</code> å¼€å¤´ï¼ŒåŠ¨æ€åº“å¼€å¤´æ²¡æœ‰ <code>lib</code>ã€‚</li><li>æ‰€æœ‰çš„åº“éƒ½å«æœ‰ <code>boost</code> å‰ç¼€ã€‚</li><li>Boost åº“åç§°ï¼Œæœ¬ä¾‹ä¸­ä¸º <code>python36</code>ã€‚</li><li>ç¼–è¯‘å™¨åç§°åŠå…¶ç‰ˆæœ¬ï¼Œ<code>vc140</code> æŒ‡çš„æ˜¯ msvc-14.0ï¼Œå¯¹åº” Visual Studio 2015ã€‚</li><li>æœ‰ <code>mt</code> ä»£è¡¨ <code>threading=multi</code>ï¼Œæ²¡æœ‰åˆ™ä»£è¡¨ <code>threading=single</code>ã€‚</li><li>æœ‰ <code>s</code> ä»£è¡¨ <code>runtime-link=static</code>ï¼Œæ²¡æœ‰åˆ™ä»£è¡¨ <code>runtime-link=shared</code>ã€‚</li><li>æœ‰ <code>gd</code> ä»£è¡¨ debug ç‰ˆæœ¬ï¼Œæ²¡æœ‰åˆ™ä»£è¡¨ release ç‰ˆæœ¬ã€‚</li><li>ç›®æ ‡ä½æ•°ï¼Œ<code>x32</code> ä»£è¡¨ 32 ä½ï¼Œ<code>x64</code> ä»£è¡¨ 64 ä½ã€‚</li><li>Boost åº“çš„ç‰ˆæœ¬å·ï¼Œ<code>1_68</code> ä»£è¡¨ Boost 1.68 ç‰ˆæœ¬ã€‚</li></ol><h2 id="Boost-åº“çš„ä½¿ç”¨">Boost åº“çš„ä½¿ç”¨</h2><p>å¦‚æœè¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ Boost åº“ï¼Œéœ€è¦åšä»¥ä¸‹ä¸¤é¡¹é…ç½®ï¼š</p><ol><li>åŒ…å« Boost å¤´æ–‡ä»¶ï¼ˆæœ¬ä¾‹ä¸­ä¸ºï¼š<code>D:\ProgramFiles\boost_1_68_0</code>ï¼‰ï¼›</li><li>é“¾æ¥ Boost åº“æ–‡ä»¶ï¼ˆæœ¬ä¾‹ä¸­ä¸ºï¼š<code>D:\ProgramFiles\boost_1_68_0\bin\lib32-msvc-14.0\lib</code>ï¼‰ã€‚</li></ol><p>Boost å®˜æ–¹æ¨èä½¿ç”¨ <code>b2/bjam</code> å‘½ä»¤è¿›è¡Œè‡ªåŠ¨åŒ–ç¼–è¯‘ã€é“¾æ¥ï¼Œåªéœ€è¦ç¼–å†™ä¸€ä¸ª <code>.jam</code> é…ç½®æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼ç±»ä¼¼äº <code>make</code> å’Œ <code>Makefile</code>ã€‚ä½†è€ƒè™‘åˆ°è¿˜è¦å­¦ä¹  <code>jam</code> è¯­æ³•ï¼Œæš‚æ—¶è¿˜æ˜¯ç”¨ Visual Studio æ‰‹åŠ¨ç¼–è¯‘å§ã€‚</p><p>åœ¨ Visual Studio ä¸­çš„å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>é€‰ä¸­å½“å‰é¡¹ç›®ï¼Œç‚¹å‡»å±æ€§æŒ‰é’®ï¼Œä¾æ¬¡é€‰æ‹©â€œé…ç½®å±æ€§-&gt;C/C+Â±&gt;å¸¸è§„-&gt;é™„åŠ åŒ…å«ç›®å½•â€ï¼Œç¼–è¾‘å¹¶æ·»åŠ ä¸€æ¡è·¯å¾„ï¼š<code>D:\ProgramFiles\boost_1_68_0</code>ï¼›</li><li>é€‰ä¸­å½“å‰é¡¹ç›®ï¼Œç‚¹å‡»å±æ€§æŒ‰é’®ï¼Œä¾æ¬¡é€‰æ‹©â€œé…ç½®å±æ€§-&gt;é“¾æ¥å™¨-&gt;å¸¸è§„-&gt;é™„åŠ åº“ç›®å½•â€ï¼Œç¼–è¾‘å¹¶æ·»åŠ ä¸€æ¡è·¯å¾„ï¼š<code>D:\ProgramFiles\boost_1_68_0\bin\lib32-msvc-14.0\lib</code>ã€‚</li></ol><h3 id="Boost-python-çš„ä½¿ç”¨">Boost.python çš„ä½¿ç”¨</h3><p>è¦ä½¿ç”¨ Boost.pythonï¼Œé™¤äº†ä¸Šè¿°ä¸¤é¡¹é…ç½®ä¹‹å¤–ï¼Œè¿˜éœ€è¦å†æ·»åŠ ä¸¤é¡¹é…ç½®ï¼š</p><ol><li>åŒ…å« Python å¤´æ–‡ä»¶ï¼ˆæœ¬ä¾‹ä¸­ä¸ºï¼š<code>D:\Program Files (x86)\Python36-32\include</code>ï¼‰ï¼›</li><li>åŒ…å« Python é™æ€åº“æ–‡ä»¶ï¼ˆæœ¬ä¾‹ä¸­ä¸ºï¼š<code>D:\Program Files (x86)\Python36-32\libs\python36.lib</code>ï¼‰ã€‚</li></ol><p>åœ¨ Visual Studio ä¸­çš„å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>é€‰ä¸­å½“å‰é¡¹ç›®ï¼Œç‚¹å‡»å±æ€§æŒ‰é’®ï¼Œä¾æ¬¡é€‰æ‹©â€œé…ç½®å±æ€§-&gt;C/C+Â±&gt;å¸¸è§„-&gt;é™„åŠ åŒ…å«ç›®å½•â€ï¼Œç¼–è¾‘å¹¶æ·»åŠ ä¸€æ¡è·¯å¾„ï¼š<code>D:\Program Files (x86)\Python36-32\include</code>ï¼›</li><li>é€‰ä¸­å½“å‰é¡¹ç›®ï¼Œç‚¹å‡»å±æ€§æŒ‰é’®ï¼Œä¾æ¬¡é€‰æ‹©â€œé…ç½®å±æ€§-&gt;é“¾æ¥å™¨-&gt;è¾“å…¥-&gt;é™„åŠ ä¾èµ–é¡¹â€ï¼Œç¼–è¾‘å¹¶æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ï¼š<code>&quot;D:\Program Files (x86)\Python36-32\libs\python36.lib&quot;</code>ï¼Œæ³¨æ„è¦æœ‰åŒå¼•å·ï¼Œå¦åˆ™å¯èƒ½è¯†åˆ«ä¸æ­£ç¡®ã€‚</li></ol><h2 id="æµ‹è¯•">æµ‹è¯•</h2><h3 id="å‡†å¤‡-hello-world-ä»£ç ">å‡†å¤‡ hello world ä»£ç </h3><p>ä½¿ç”¨å®˜ç½‘ç»™å‡ºçš„ hello world ç¤ºä¾‹ï¼Œä»£ç æ–‡ä»¶ä½äº Boost å®‰è£…ç›®å½•ä¸‹ï¼š<code>D:\ProgramFiles\boost_1_68_0\libs\python\example\tutorial</code>ï¼ŒåŒ…æ‹¬ <code>hello.cpp</code> ä¸ <code>hello.py</code> ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š</p><p><code>hello.cpp</code>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// å½“å¼•å…¥ #include &lt;boost/python/xxx&gt; æ—¶ï¼ŒBoost ä¼šé»˜è®¤é“¾æ¥ boost_python åŠ¨æ€é“¾æ¥åº“ï¼Œ</span></span><br><span class="line"><span class="comment">// å¦‚æœæˆ‘ä»¬æƒ³è¦é“¾æ¥é™æ€é“¾æ¥åº“ï¼Œå°±éœ€è¦åœ¨ include ä¹‹å‰åŠ ä¸Š #define BOOST_PYTHON_STATIC_LIB</span></span><br><span class="line">#<span class="meta">#<span class="keyword">define</span> BOOST_PYTHON_STATIC_LIB</span></span><br><span class="line"></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/python/module.hpp&gt;</span></span></span><br><span class="line">#<span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/python/def.hpp&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">char</span> <span class="type">const</span>* <span class="title">greet</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="string">&quot;hello, world&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">BOOST_PYTHON_MODULE</span>(hello_ext)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> boost::python;</span><br><span class="line">    <span class="built_in">def</span>(<span class="string">&quot;greet&quot;</span>, greet);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>hello.py</code>:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hello_ext</span><br><span class="line"><span class="built_in">print</span>(hello_ext.greet())</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯å°† <code>hello.cpp</code> ç¼–è¯‘æˆä¸€ä¸ª <code>.pyd</code> æ–‡ä»¶ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªåŒ…å« Python æ¥å£çš„ <code>.dll</code> æ–‡ä»¶ï¼‰ï¼Œç„¶åç”¨ <code>hello.py</code> è°ƒç”¨å®ƒã€‚</p><p><strong>æ³¨æ„</strong>ï¼š<code>hello.cpp</code> ä¸­çš„å®å®šä¹‰ <code>#define BOOST_PYTHON_STATIC_LIB</code> éå¸¸é‡è¦ï¼Œå®ƒå¯ä»¥æŒ‡å®šé“¾æ¥ boost_python çš„é™æ€åº“ï¼Œè€Œä¸æ˜¯é»˜è®¤çš„åŠ¨æ€åº“ã€‚</p><p>å¦‚æœä½ åœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­é‡åˆ°äº†è¿™æ ·çš„é”™è¯¯ï¼š<code>LINK : fatal error LNK1104: cannot open file &quot;boost_python36-vc140-mt-x32-1_68.lib&quot;</code>ï¼Œä½†æ˜¯ä½ æ˜æ˜å·²ç»å¼•å…¥äº†é™æ€åº“ï¼š<code>libboost_python36-vc140-mt-x32-1_68.lib</code>ï¼Œä½ å¯èƒ½ä¼šçº³é—·ï¼šæˆ‘æ˜æ˜å·²ç»å¯¼å…¥äº†é™æ€åº“ï¼Œä¸ºä»€ä¹ˆè¿˜æ‰¾æˆ‘è¦åŠ¨æ€åº“ï¼Ÿé‚£ä¹ˆæœ€å¯èƒ½çš„åŸå› æ˜¯ï¼Œä½ çš„ C++ ä»£ç ä¸­æ¼æ‰äº†è¿™å¥å®å®šä¹‰ã€‚</p><h3 id="ä½¿ç”¨-Visual-Studio-æ„å»º-hello-world">ä½¿ç”¨ Visual Studio æ„å»º hello world</h3><p>Boost å®˜æ–¹æ¨èä½¿ç”¨ <code>b2/bjam</code> å‘½ä»¤è¿›è¡Œè‡ªåŠ¨åŒ–ç¼–è¯‘ã€é“¾æ¥ï¼Œåªéœ€è¦ç¼–å†™ä¸€ä¸ª <code>.jam</code> é…ç½®æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼ç±»ä¼¼äº <code>make</code> å’Œ <code>Makefile</code>ã€‚ä½†è€ƒè™‘åˆ°è¿˜è¦å­¦ä¹  <code>jam</code> è¯­æ³•ï¼Œæš‚æ—¶è¿˜æ˜¯ç”¨ Visual Studio æ‰‹åŠ¨ç¼–è¯‘å§ã€‚</p><ol><li>é¦–å…ˆä½¿ç”¨ Visual Studio åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®ã€‚</li><li>æ‰“å¼€é¡¹ç›®å±æ€§ï¼Œåœ¨â€œé…ç½®å±æ€§-&gt;å¸¸è§„â€ä¸­ï¼Œè¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼š<ul><li>é…ç½®ç±»å‹è®¾ä¸ºï¼šâ€œåŠ¨æ€åº“(.dll)â€ã€‚</li><li>ç›®æ ‡æ–‡ä»¶åè®¾ä¸ºï¼š<code>hello_ext</code>ã€‚<br><strong>æ³¨æ„</strong>ï¼š<code>.pyd</code> æ–‡ä»¶çš„åç§°å¿…é¡»ä¸è¦å¯¼å‡ºçš„ python module åç§°ä¸€è‡´ï¼Œå¦åˆ™ python çš„ import è¯­å¥å°†ä¼šæŠ¥é”™ï¼š<code>ImportError: dynamic module does not define module export function</code>ã€‚</li><li>ç›®æ ‡æ–‡ä»¶æ‰©å±•åè®¾ä¸ºï¼š<code>.pyd</code>ã€‚</li></ul></li><li>å°† <code>hello.cpp</code> æ–‡ä»¶å¯¼å…¥é¡¹ç›®ã€‚</li><li>å‚ç…§ä¸Šä¸€èŠ‚ [Boost åº“çš„ä½¿ç”¨] ä¸­çš„è¯´æ˜ï¼Œå°† Boost å¤´æ–‡ä»¶ç›®å½•ã€Boost åº“æ–‡ä»¶ç›®å½•ã€Python å¤´æ–‡ä»¶ç›®å½•ã€Python é™æ€åº“æ–‡ä»¶éƒ½å¯¼å…¥åˆ°é¡¹ç›®ä¸­ã€‚</li><li>é€‰æ‹©èœå•â€œç”Ÿæˆ-&gt;ç”Ÿæˆ Projectâ€ï¼Œå¦‚æœä¸€åˆ‡æ— è¯¯ï¼Œå°†ä¼šç”Ÿæˆä¸€ä¸ª <code>hello_ext.pyd</code> æ–‡ä»¶ã€‚ç”±äºç”Ÿæˆå™¨çš„é»˜è®¤é…ç½®æ˜¯ <code>Debug-x86</code>ï¼Œå› æ­¤ç”Ÿæˆç›®å½•ä¸ºé¡¹ç›®ä¸‹çš„ Debug ç›®å½•ã€‚</li><li>å°† <code>hello_ext.pyd</code> ä¸ <code>hello.py</code> æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ <code>hello.py</code>ï¼Œå°†ä¼šçœ‹åˆ°è¾“å‡ºï¼š<code>hello, world</code>ã€‚</li></ol><h2 id="å‚è€ƒ">å‚è€ƒ</h2><ol><li><a href="https://baike.baidu.com/item/boost/69144">Boost ç™¾åº¦ç™¾ç§‘</a></li><li><a href="https://www.cnblogs.com/zhcncn/p/3950477.html">boost 1.56.0 ç¼–è¯‘åŠä½¿ç”¨</a></li><li><a href="https://www.boost.org/doc/libs/1_65_1/libs/python/doc/html/tutorial/index.html">Boost.python QuickStart</a></li><li><a href="https://github.com/boostorg/build">Boost.build</a></li></ol>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> C/C++ </tag>
            
            <tag> Boost </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo + Github æ­å»ºä¸ªäººåšå®¢</title>
      <link href="/posts/4d5f7337/"/>
      <url>/posts/4d5f7337/</url>
      
        <content type="html"><![CDATA[<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼Œä½ å¯ä»¥æ­å»ºä¸€ä¸ªä¸æœ¬ç«™ç‚¹åŒæ ·ç®€æ´æ¼‚äº®çš„ä¸ªäººåšå®¢ï¼Œå®Œå…¨è‡ªç”±å…è´¹ã€‚</p><span id="more"></span><p>å‰ææ¡ä»¶ï¼š</p><ul><li>ç†Ÿæ‚‰ git + Github</li><li>ç†Ÿæ‚‰ Nodejs</li><li>å†™åšå®¢å½“ç„¶è¿˜å°‘ä¸äº† Markdown åŸºç¡€</li></ul><h2 id="åˆ›å»º-Github-ä»“åº“">åˆ›å»º Github ä»“åº“</h2><p>åœ¨ Github ä¸­åˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œåä¸º <code>xxx.github.io</code></p><blockquote><p>æ³¨ï¼š<code>xxx</code> å¿…é¡»æ˜¯ä½ è‡ªå·±çš„ Github ç”¨æˆ·åï¼Œå¦åˆ™åšå®¢ç½‘ç«™å°†æ— æ³•æ‰“å¼€ã€‚ä¾‹å¦‚ï¼Œæˆ‘çš„ä»“åº“å‘½åä¸º <code>hzhu212.github.io</code></p></blockquote><h2 id="å®‰è£…-Hexo">å®‰è£… Hexo</h2><p>è¦æ±‚å·²å®‰è£… <a href="https://nodejs.org/en/">Nodejs</a></p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>è€ƒè™‘åˆ°ç½‘ç»œé—®é¢˜ï¼Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿçš„æ—¶é—´ã€‚<br>å¦‚æœç”±äºç½‘ç»œé—®é¢˜æ— æ³•å®‰è£…ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨ <a href="http://npm.taobao.org/">cnpm</a> æˆ– <a href="https://github.com/Pana/nrm">nrm</a></p><h2 id="åˆ›å»º-blog-é¡¹ç›®">åˆ›å»º blog é¡¹ç›®</h2><p>å‘½ä»¤è¡Œå®šä½åˆ°éœ€è¦å­˜æ”¾åšå®¢çš„ç›®å½•ï¼Œä»¥ä¸‹ä»¥ Windows å¹³å°ä¸ºä¾‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /d C:\users\xxx</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init blog</span><br></pre></td></tr></table></figure><p>å°†åœ¨ <code>C:\users\xxx</code> ç›®å½•ä¸‹ <strong>æ–°å»º</strong> ä¸€ä¸ªå­ç›®å½• <code>blog</code>ï¼Œä½œä¸ºåšå®¢é¡¹ç›®çš„æ ¹ç›®å½•ã€‚</p><p>æ¥ä¸‹æ¥éœ€è¦å®‰è£…ä¾èµ–åº“ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> blog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°è°ƒè¯•ä¸å‘å¸ƒ">æœ¬åœ°è°ƒè¯•ä¸å‘å¸ƒ</h2><p>è¿ç»­æ‰§è¡Œä»¥ä¸‹ 2 æ¡å‘½ä»¤ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>å½“å‘½ä»¤è¿è¡Œå®Œæˆåï¼Œæ‰“å¼€æµè§ˆå™¨è®¿é—® <code>http://localhost:4000/</code>ã€‚</p><p>Boomï¼~</p><p>ä½ çš„åšå®¢ç«™ç‚¹æ–°é²œå‡ºç‚‰äº†~ï¼Œè¿˜é™„å¸¦äº†ç¬¬ä¸€ç¯‡ <strong>Hello World</strong> åšå®¢ã€‚</p><blockquote><p>æ³¨ï¼šä¸Šé¢çš„ 2 æ¡å‘½ä»¤å…¶å®æ˜¯ç®€å†™ï¼š<br><code>hexo g</code> = <code>hexo generate</code>ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶<br><code>hexo s</code> = <code>hexo server</code>ï¼Œå¼€å¯ç«™ç‚¹æœåŠ¡å™¨</p></blockquote><h2 id="å¼€å§‹å†™ä½œå§">å¼€å§‹å†™ä½œå§</h2><p><code>ctrl+c</code> é€€å‡º hexo serverï¼Œç„¶åæ‰§è¡Œï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n &quot;my first blog&quot;</span><br></pre></td></tr></table></figure><p>å°†åˆ›å»ºä¸€ç¯‡æ–°çš„åšå®¢ï¼Œæ ‡é¢˜ä¸º ã€<em>my first blog</em>ã€‘</p><blockquote><p>æ³¨ï¼šæ¯ç¯‡åšå®¢éƒ½æ˜¯ä¸€ä¸ª Markdown æ–‡ä»¶ï¼Œé»˜è®¤æ”¾åœ¨ <code>/blog/source/_posts/</code> ç›®å½•ä¸‹ï¼Œå¯ç›´æ¥ç¼–è¾‘</p></blockquote><p>å†æ¬¡æ‰§è¡Œ</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>http://localhost:4000/</code>ï¼Œä½ çš„ç¬¬ä¸€ç¯‡åšå®¢å¤§åŠŸå‘Šæˆäº†ï¼</p><blockquote><p>æ³¨ï¼šhexo server æ”¯æŒçƒ­æ›´æ–°ï¼Œç¼–è¾‘å®Œ Markdown æ–‡ä»¶åï¼Œåªéœ€åˆ·æ–°é¡µé¢å°±èƒ½ç«‹å³æ›´æ–°åšå®¢</p></blockquote><h2 id="å‘å¸ƒç½‘ç«™">å‘å¸ƒç½‘ç«™</h2><p>ç›®å‰çš„ä½ çš„åšå®¢ç½‘ç«™è¿˜åªæ”¯æŒæœ¬åœ°è®¿é—®ï¼Œä¸ºäº†è®© 13 äº¿äººéƒ½èƒ½å¤Ÿæ¬£èµä½ çš„å¤§ä½œï¼Œä½ éœ€è¦æŠŠå®ƒæ¨é€åˆ° Github ä¸Šã€‚</p><p>hexo å‘å¸ƒç½‘ç«™éå¸¸ç®€å•ï¼Œåªéœ€è¦ä¸€æ¡å‘½ä»¤ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure><p><strong>ä½†ä¸‡äº‹æ€»æœ‰ä¸ª BUTï¼Œåœ¨æ­¤ä¹‹å‰ï¼Œä½ è¿˜éœ€è¦ä¸€äº›å‡†å¤‡å·¥ä½œï¼š</strong></p><h3 id="å®‰è£…-Github-éƒ¨ç½²æ’ä»¶">å®‰è£… Github éƒ¨ç½²æ’ä»¶</h3><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-deployer-git</span><br></pre></td></tr></table></figure><h3 id="å‘Šè¯‰-hexo-ä½ è¦æŠŠç½‘ç«™éƒ¨ç½²åˆ°ä½•å¤„">å‘Šè¯‰ hexo ä½ è¦æŠŠç½‘ç«™éƒ¨ç½²åˆ°ä½•å¤„</h3><p>è¿›å…¥ <code>/blog</code> ç›®å½•ï¼Œæ‰¾åˆ° <code>_config.yml</code> æ–‡ä»¶ï¼Œè¿™æ˜¯åšå®¢é¡¹ç›®çš„å…¨å±€é…ç½®æ–‡ä»¶ã€‚æ‰“å¼€å®ƒå¹¶ç¿»åˆ°æœ«å°¾ï¼Œçœ‹åˆ° <code>deploy</code> é€‰é¡¹ï¼Œæˆ‘ä»¬æŠŠå®ƒä¿®æ”¹ä¸ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com:xxx/xxx.github.io.git</span> <span class="comment"># è¿™é‡Œæ”¹æˆä½ ç¬¬ä¸€æ­¥åˆ›å»ºçš„ git ä»“åº“åœ°å€</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜é…ç½®æ–‡ä»¶ã€‚ç„¶åä¾æ¬¡æ‰§è¡Œä»¥ä¸‹ 3 æ¡å‘½ä»¤ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼š<code>hexo d</code> = <code>hexo deploy</code>ï¼Œéƒ¨ç½²</p></blockquote><p>Bingo~</p><p>ä½ çš„ä¸ªäººåšå®¢ç½‘ç«™ <code>https://xxx.github.io</code> å»ºæˆäº†ï¼Œä¸è´¹å¹ç°ä¹‹åŠ›ï¼</p><p>æ‚„æ‚„å¤¹å¸¦ä¸Šæˆ‘çš„ç§è´§ï¼š<a href="https://hzhu212.github.io/">hzhu212.github.io</a></p><h2 id="ç¾åŒ–ä½ çš„åšå®¢ç½‘ç«™">ç¾åŒ–ä½ çš„åšå®¢ç½‘ç«™</h2><p>ç½‘ç«™æ˜¯å»ºæˆäº†ï¼Œç„¶è€Œç°åœ¨çš„ä½ å¹¶æ²¡æœ‰ä¸€ä¸å–œæ‚¦ï¼Œæˆ‘çŸ¥é“ä½ ä¸€å®šæ˜¯è¢« Hexo çš„é»˜è®¤ä¸»é¢˜ç¾å“­äº†ï¼<br>ä¸è¿‡åˆ«å¤±æœ›ï¼ŒHexo ä¸ºæˆ‘ä»¬æä¾›äº† <a href="https://hexo.io/themes/">æµ·é‡çš„ä¸»é¢˜åº“</a></p><p>é€‰æ‹©ä¸€æ¬¾è‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½çš„ä¸»é¢˜ï¼Œåœ¨ä»‹ç»é¡µé¢ä¸Šæ‰¾åˆ°å®ƒçš„ <strong>Github ä»“åº“åœ°å€</strong>ï¼Œç„¶åæŠŠå®ƒä¸‹è½½ä¸‹æ¥ã€‚ä»¥ <strong>Anisina</strong> ä¸»é¢˜ä¸ºä¾‹ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/Haojen/hexo-theme-Anisina themes/Anisina</span><br></pre></td></tr></table></figure><p>å†æ¬¡æ‰“å¼€å…¨å±€é…ç½®æ–‡ä»¶ <code>blog/_config.yml</code>ï¼Œç¿»åˆ°æœ«å°¾ï¼Œæ‰¾åˆ° <code>theme</code> é…ç½®é¡¹ï¼Œå°†å…¶ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">Anisina</span></span><br></pre></td></tr></table></figure><p>é‡æ–°éƒ¨ç½²ï¼Œä½ çš„ç½‘ç«™ç„•ç„¶ä¸€æ–°äº†ï¼</p><blockquote><p>æ³¨ï¼šæœ‰äº›ä¸»é¢˜ä¼šå†…ç½®å¤šç§ <strong>æ ·å¼ï¼ˆschemeï¼‰</strong>ï¼Œä¾‹å¦‚æˆ‘ä½¿ç”¨çš„ <a href="https://github.com/iissnan/hexo-theme-next">nextä¸»é¢˜</a>ï¼Œå®šåˆ¶æ€§æ›´å¼ºã€‚<br>ç”¨æˆ·å¯è¿›å…¥ <code>/blog/themes/next/</code> ç›®å½•ï¼Œæ‰“å¼€ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.yml</code> ï¼Œåœ¨å…¶ä¸­çš„ <code>scheme</code> å­—æ®µä¸‹é€‰æ‹©ä¸€ç§æ ·å¼ã€‚</p></blockquote><p>å…³äº Hexo æ›´å¤šä¿¡æ¯è¯·è®¿é—® <a href="https://hexo.io/">Hexo å®˜ç½‘</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ€æœ¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> web </tag>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
